<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>slinberg.net</title>
<link>https://slinberg.net/academics.html</link>
<atom:link href="https://slinberg.net/academics.xml" rel="self" type="application/rss+xml"/>
<description>Steve Linberg</description>
<generator>quarto-1.1.251</generator>
<lastBuildDate>Sat, 26 Mar 2022 04:00:00 GMT</lastBuildDate>
<item>
  <title>Homework 6: Clustering and Blockmodels in the Florentine Wedding dataset</title>
  <link>https://slinberg.net/academics/697E/697E-hw6/index.html</link>
  <description><![CDATA[ 



<p>This week we will look at structural equivalence and blockmodels in the Florentine wedding data set. Structural equivalence is a way to look at subsections of a network that identifies nodes with similar connections to other nodes, such as parents of the same child, or children of the same parent.</p>
<p>We begin, as usual, by loading the Florence data in both the igraph and statnet packages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;"># Load the statnet version</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">data</span>(<span class="st" style="color: #20794D;">"florentine"</span>, <span class="at" style="color: #657422;">package =</span> <span class="st" style="color: #20794D;">"ergm"</span>)</span>
<span id="cb1-3">flo_stat <span class="ot" style="color: #003B4F;">&lt;-</span> flomarriage</span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;"># Load the igraph version</span></span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;">data</span>(flo)</span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;"># If the matrix is symmetric, it is undirected.</span></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;"># https://mathworld.wolfram.com/UndirectedGraph.html</span></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;"># We know the Florence marriage network is undirected, but code is always better.</span></span>
<span id="cb1-10">flo_ig <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">graph_from_adjacency_matrix</span>(flo, <span class="at" style="color: #657422;">mode =</span> <span class="fu" style="color: #4758AB;">ifelse</span>(<span class="fu" style="color: #4758AB;">isSymmetric</span>(flo), <span class="st" style="color: #20794D;">"undirected"</span>, <span class="st" style="color: #20794D;">"directed"</span>))</span></code></pre></div>
</div>
<p>The structural equivalence object is created with the default parameters, except for forcing the undirected mode. Printing the resulting object shows its creation parameters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">flo_stat.se <span class="ot" style="color: #003B4F;">&lt;-</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">equiv.clust</span>(flo_stat, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;">print</span>(flo_stat.se)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Position Clustering:

    Equivalence function: sedist 
    Equivalence metric: hamming 
    Cluster method: complete 
    Graph order: 16 </code></pre>
</div>
</div>
<p>The first thing to do is get a visual look at the default clustering dendrogram.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;">plot</span>(flo_stat.se, <span class="at" style="color: #657422;">labels =</span> flo_stat.se<span class="sc" style="color: #5E5E5E;">$</span>glabels)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw6/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>What does this show us? Well, as with nearly every other observation we’ve looked at in this data set, one of the most obvious observations is how the Medici are once again separate from the other nodes (families) in the set. The fact that they are alone in the top left shows that they are dissimilar to all other nodes in the network.</p>
<p>If we look at the lower left corner of the graph, cam see that the Peruzzi and Strozzi families are structurally similar. Let’s look again at the basic network diagram, highlighting these families:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb5-2"></span>
<span id="cb5-3">oranges <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">colorRampPalette</span>(<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"gold"</span>, <span class="st" style="color: #20794D;">"skyblue"</span>))</span>
<span id="cb5-4">col <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">oranges</span>(<span class="dv" style="color: #AD0000;">5</span>)</span>
<span id="cb5-5"></span>
<span id="cb5-6">vcol <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">rep</span>(<span class="st" style="color: #20794D;">"gray80"</span>, <span class="fu" style="color: #4758AB;">vcount</span>(flo_ig))</span>
<span id="cb5-7">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Peruzzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb5-8">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Strozzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb5-9"></span>
<span id="cb5-10"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb5-11">  flo_ig,</span>
<span id="cb5-12">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(flo_ig),</span>
<span id="cb5-13">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb5-14">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb5-15">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb5-16">  <span class="at" style="color: #657422;">vertex.color =</span> vcol,</span>
<span id="cb5-17">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb5-18">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence interfamily marriages, 1282-1500"</span></span>
<span id="cb5-19">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw6/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>They are not identical - there are no structurally identical nodes in this network - but they are similar. They both connect to the Bischeri and Castellani families.<sup>1</sup> The Strozzi also connect to the Ridolfi. This difference is represented by the height of the connector lines in the cluster dendrogram above.</p>
<p>Three other pairs of nodes show the same level of similarity:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb6-2"></span>
<span id="cb6-3">vcol <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">rep</span>(<span class="st" style="color: #20794D;">"gray80"</span>, <span class="fu" style="color: #4758AB;">vcount</span>(flo_ig))</span>
<span id="cb6-4">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Peruzzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb6-5">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Strozzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb6-6">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Acciaiuoli"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">2</span>]</span>
<span id="cb6-7">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Barbadori"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">2</span>]</span>
<span id="cb6-8">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Ginori"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">3</span>]</span>
<span id="cb6-9">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Pucci"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">3</span>]</span>
<span id="cb6-10">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Pazzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">4</span>]</span>
<span id="cb6-11">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Salviati"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">4</span>]</span>
<span id="cb6-12"></span>
<span id="cb6-13"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb6-14">  flo_ig,</span>
<span id="cb6-15">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(flo_ig),</span>
<span id="cb6-16">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb6-17">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb6-18">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb6-19">  <span class="at" style="color: #657422;">vertex.color =</span> vcol,</span>
<span id="cb6-20">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb6-21">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence interfamily marriages, 1282-1500"</span></span>
<span id="cb6-22">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw6/index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This seems believable, overall; the least intuitive impression on this graph is that the Pucci family, which is the network’s lone isolate, is similar to the Ginori family on the other side of the graph, which connects only to the Albizzi family; nodes with similar structural equivalence are usually direct neighbors, since they <em>are</em> structurally equivalent due to their shared connections to other nodes.</p>
<p>Where this begins to be a bit less convincing is in the triad of the Tornabuoni, Albizzi and Lamberteschi families:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb7-2"></span>
<span id="cb7-3">vcol <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">rep</span>(<span class="st" style="color: #20794D;">"gray80"</span>, <span class="fu" style="color: #4758AB;">vcount</span>(flo_ig))</span>
<span id="cb7-4">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Tornabuoni"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">5</span>]</span>
<span id="cb7-5">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Albizzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">5</span>]</span>
<span id="cb7-6">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Lamberteschi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">5</span>]</span>
<span id="cb7-7"></span>
<span id="cb7-8"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb7-9">  flo_ig,</span>
<span id="cb7-10">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(flo_ig),</span>
<span id="cb7-11">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb7-12">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb7-13">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb7-14">  <span class="at" style="color: #657422;">vertex.color =</span> vcol,</span>
<span id="cb7-15">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb7-16">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence interfamily marriages, 1282-1500"</span></span>
<span id="cb7-17">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw6/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The Tornabuoni and Albizzi seem reasonably similar, sharing 2 other connections with each other, but the Lamberteschi share only one with either of them (the Guadagni). It seems like a bit of a stretch to suggest that they are of the same level of similarity to each other, but it could be argued that the Lamberteschi are more similar to the Tornabuoni and Albizzi than to any other nodes in the network.</p>
<p>Finally, it’s instructive to look at the three nodes with no structurally similar peers: the Medici, Guadagni and Ridolfi:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb8-2"></span>
<span id="cb8-3">vcol <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">rep</span>(<span class="st" style="color: #20794D;">"gray80"</span>, <span class="fu" style="color: #4758AB;">vcount</span>(flo_ig))</span>
<span id="cb8-4">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Medici"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb8-5">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Guadagni"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">3</span>]</span>
<span id="cb8-6">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Ridolfi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">5</span>]</span>
<span id="cb8-7"></span>
<span id="cb8-8"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb8-9">  flo_ig,</span>
<span id="cb8-10">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(flo_ig),</span>
<span id="cb8-11">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb8-12">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb8-13">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb8-14">  <span class="at" style="color: #657422;">vertex.color =</span> vcol,</span>
<span id="cb8-15">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb8-16">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence interfamily marriages, 1282-1500"</span></span>
<span id="cb8-17">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw6/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>These nodes are plainly quite different from any other nodes in the network, in terms of their connections.</p>
<p>If we wanted another way to describe the diagram - already quite complex despite the data set’s relatively small size - one way we might seek to do that is by breaking the diagram into a manageable number of sub-clusters that are similar to each other. And one way to achieve that is to use rectangular clustering based on height, describing the similarity threshold we feel is appropriate. For example, if we set the height to 8, we get:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;">plot</span>(flo_stat.se, <span class="at" style="color: #657422;">labels =</span> flo_stat.se<span class="sc" style="color: #5E5E5E;">$</span>glabels)</span>
<span id="cb9-2"><span class="fu" style="color: #4758AB;">rect.hclust</span>(flo_stat.se<span class="sc" style="color: #5E5E5E;">$</span>cluster, <span class="at" style="color: #657422;">h =</span> <span class="dv" style="color: #AD0000;">8</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw6/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This results in four clusters containing data (and two empty clusters). If we plot the results, we can see the clusters whose components the algorithm considers more similar to each other than to other nodes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">vcol <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">rep</span>(<span class="st" style="color: #20794D;">"gray80"</span>, <span class="fu" style="color: #4758AB;">vcount</span>(flo_ig))</span>
<span id="cb10-2">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Peruzzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb10-3">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Strozzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb10-4">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Bischeri"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb10-5">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Castellani"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">1</span>]</span>
<span id="cb10-6">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Ridolfi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">2</span>]</span>
<span id="cb10-7">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Acciaiuoli"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">3</span>]</span>
<span id="cb10-8">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Barbadori"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">3</span>]</span>
<span id="cb10-9">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Albizzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">3</span>]</span>
<span id="cb10-10">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Tornabuoni"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">3</span>]</span>
<span id="cb10-11">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Lamberteschi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">3</span>]</span>
<span id="cb10-12">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Ginori"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">4</span>]</span>
<span id="cb10-13">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Pucci"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">4</span>]</span>
<span id="cb10-14">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Pazzi"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">4</span>]</span>
<span id="cb10-15">vcol[<span class="fu" style="color: #4758AB;">which</span>(<span class="fu" style="color: #4758AB;">V</span>(flo_ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Salviati"</span>)] <span class="ot" style="color: #003B4F;">&lt;-</span> col[<span class="dv" style="color: #AD0000;">4</span>]</span>
<span id="cb10-16"></span>
<span id="cb10-17"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb10-18">  flo_ig,</span>
<span id="cb10-19">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(flo_ig),</span>
<span id="cb10-20">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb10-21">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb10-22">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb10-23">  <span class="at" style="color: #657422;">vertex.color =</span> vcol,</span>
<span id="cb10-24">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb10-25">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence interfamily marriages, 1282-1500"</span></span>
<span id="cb10-26">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw6/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>On the whole, this appears to be a pretty reasonable partitioning of the network into clusters of structurally similar nodes. As we observed earlier, the Medici and Guadagni families are distinct enough not to have any structurally equivalent peers in the network, and the Ridolfi, while itself also lacking structurally similar peers, is still more similar to the other clusters than it is to the Medici or Guadagni.</p>
<section id="blockmodel-partitions" class="level3">
<h3 class="anchored" data-anchor-id="blockmodel-partitions">Blockmodel partitions</h3>
<p>Finally, a brief look at blockmodel partitions, which are another way to visualize the clusters described above. Keeping the same height parameter of 8 from the above diagram, we can generate a blockmodel partition from the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">flo_stat.bm <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">blockmodel</span>(flo_stat, flo_stat.se, <span class="at" style="color: #657422;">h =</span> <span class="dv" style="color: #AD0000;">8</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span>
<span id="cb11-2">flo_stat.bm</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Network Blockmodel:

Block membership:

  Acciaiuoli      Albizzi    Barbadori     Bischeri   Castellani       Ginori 
           1            1            1            2            2            1 
    Guadagni Lamberteschi       Medici        Pazzi      Peruzzi        Pucci 
           3            1            4            1            2            1 
     Ridolfi     Salviati      Strozzi   Tornabuoni 
           1            1            2            1 

Reduced form blockmodel:

     Acciaiuoli Albizzi Barbadori Bischeri Castellani Ginori Guadagni Lamberteschi Medici Pazzi Peruzzi Pucci Ridolfi Salviati Strozzi Tornabuoni 
           Block 1   Block 2 Block 3 Block 4
Block 1 0.06666667 0.0500000    0.30     0.6
Block 2 0.05000000 0.8333333    0.25     0.0
Block 3 0.30000000 0.2500000     NaN     0.0
Block 4 0.60000000 0.0000000    0.00     NaN</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="co" style="color: #5E5E5E;"># Code from the tutorial</span></span>
<span id="cb13-2">plot.block<span class="ot" style="color: #003B4F;">&lt;-</span><span class="cf" style="color: #003B4F;">function</span>(<span class="at" style="color: #657422;">x=</span>blk_mod, <span class="at" style="color: #657422;">main=</span><span class="cn" style="color: #8f5902;">NULL</span>, <span class="at" style="color: #657422;">cex.lab=</span><span class="dv" style="color: #AD0000;">1</span>){</span>
<span id="cb13-3">  <span class="fu" style="color: #4758AB;">plot.sociomatrix</span>(x<span class="sc" style="color: #5E5E5E;">$</span>blocked.data, <span class="at" style="color: #657422;">labels=</span><span class="fu" style="color: #4758AB;">list</span>(x<span class="sc" style="color: #5E5E5E;">$</span>plabels,x<span class="sc" style="color: #5E5E5E;">$</span>plabels),</span>
<span id="cb13-4">                   <span class="at" style="color: #657422;">main=</span>main, <span class="at" style="color: #657422;">drawlines =</span> <span class="cn" style="color: #8f5902;">FALSE</span>, <span class="at" style="color: #657422;">cex.lab=</span>cex.lab)</span>
<span id="cb13-5">  <span class="cf" style="color: #003B4F;">for</span> (j <span class="cf" style="color: #003B4F;">in</span> <span class="dv" style="color: #AD0000;">2</span><span class="sc" style="color: #5E5E5E;">:</span><span class="fu" style="color: #4758AB;">length</span>(x<span class="sc" style="color: #5E5E5E;">$</span>plabels)) <span class="cf" style="color: #003B4F;">if</span> (x<span class="sc" style="color: #5E5E5E;">$</span>block.membership[j] <span class="sc" style="color: #5E5E5E;">!=</span></span>
<span id="cb13-6">                                     x<span class="sc" style="color: #5E5E5E;">$</span>block.membership[j<span class="dv" style="color: #AD0000;">-1</span>]) </span>
<span id="cb13-7">    <span class="fu" style="color: #4758AB;">abline</span>(<span class="at" style="color: #657422;">v =</span> j <span class="sc" style="color: #5E5E5E;">-</span> <span class="fl" style="color: #AD0000;">0.5</span>, <span class="at" style="color: #657422;">h =</span> j <span class="sc" style="color: #5E5E5E;">-</span> <span class="fl" style="color: #AD0000;">0.5</span>, <span class="at" style="color: #657422;">lty =</span> <span class="dv" style="color: #AD0000;">3</span>, <span class="at" style="color: #657422;">xpd=</span><span class="cn" style="color: #8f5902;">FALSE</span>)</span>
<span id="cb13-8">}</span>
<span id="cb13-9"></span>
<span id="cb13-10"><span class="fu" style="color: #4758AB;">plot.block</span>(flo_stat.bm, <span class="at" style="color: #657422;">cex.lab=</span>.<span class="dv" style="color: #AD0000;">5</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw6/index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>THe four clusters are indicated by the dotted horizontal lines in the diagram; each black box is a connection between the nodes along the left and top axes. The more filled-in a partition is, the more similar the clustered elements are to each other; this is also indicated numerically in the chart above with measures closer to 1.</p>
<p>The most obvious observations to make here are:</p>
<ol type="1">
<li><p>The cluster with the highest inner similarity rating is 2, with a numeric rate of 0.83 (on a scale of 0 to 1). This can be interpreted to mean that the Peruzzi, Strozzi, Bischeri and Castallani familes mostly intermarried among each other. (Cousins!)</p></li>
<li><p>The grouping returned by <code>rect.hclust</code> with the same <code>h</code> parameter of 8 does not match the grouping returned by <code>blockmodel</code> with the same value. It gets the first three groups correct, but all of the remaining nodes are packed together into the fourth group. I suspect this may be a bug in the blockmodel code, related to the fact that there were 4 clusters in the <code>rect.hclust</code> code that had data, and 2 without, but blockmodel considered the empty ones as valid, and then stopped at 4. This will need to be investigated.</p></li>
</ol>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>(Note that their connections to each other are not part of this calculation; it is only assessing nodes they have in common with each other.↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>r</category>
  <category>social networks</category>
  <guid>https://slinberg.net/academics/697E/697E-hw6/index.html</guid>
  <pubDate>Sat, 26 Mar 2022 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Homework 5: Constraint and Brokerage in the Florentine Wedding dataset</title>
  <link>https://slinberg.net/academics/697E/697E-hw5/index.html</link>
  <description><![CDATA[ 



<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">data</span>(<span class="st" style="color: #20794D;">"florentine"</span>, <span class="at" style="color: #657422;">package =</span> <span class="st" style="color: #20794D;">"ergm"</span>)</span>
<span id="cb1-2">ntwk_stat <span class="ot" style="color: #003B4F;">&lt;-</span> flomarriage</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;">data</span>(flo)</span>
<span id="cb1-5">ntwk_ig <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">graph_from_adjacency_matrix</span>(flo)</span></code></pre></div>
</div>
<p>Building on <a href="../../../academics/697E/697E-hw4/index.html">last week’s look</a> at basic network centrality attributes in the Florentine Wedding dataset, we’re going to look at two new measurements of centrality: brokerage and constraints.</p>
<p>(Note: these two concepts begin to break the “use either one” conclusion when choosing statnet or igraph; brokerage is a function of statnet, and constraints are a function of igraph.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">ntwk_ig.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">data.frame</span>(</span>
<span id="cb2-2">    <span class="at" style="color: #657422;">name      =</span> <span class="fu" style="color: #4758AB;">V</span>(ntwk_ig)<span class="sc" style="color: #5E5E5E;">$</span>name,</span>
<span id="cb2-3">    <span class="at" style="color: #657422;">totdegree =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk_ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb2-4">    <span class="at" style="color: #657422;">indegree  =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk_ig, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"in"</span>, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb2-5">    <span class="at" style="color: #657422;">outdegree =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk_ig, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"out"</span>, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb2-6">    <span class="at" style="color: #657422;">eigen     =</span> <span class="fu" style="color: #4758AB;">centr_eigen</span>(ntwk_ig, <span class="at" style="color: #657422;">directed =</span> T)<span class="sc" style="color: #5E5E5E;">$</span>vector,</span>
<span id="cb2-7">    <span class="at" style="color: #657422;">bonanich  =</span> <span class="fu" style="color: #4758AB;">power_centrality</span>(ntwk_ig),</span>
<span id="cb2-8">    <span class="at" style="color: #657422;">centr_clo =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">closeness</span>(ntwk_ig),</span>
<span id="cb2-9">    <span class="at" style="color: #657422;">centr_btw =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">betweenness</span>(ntwk_ig, <span class="at" style="color: #657422;">directed =</span> <span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb2-10">    <span class="co" style="color: #5E5E5E;"># igraph only</span></span>
<span id="cb2-11">    <span class="at" style="color: #657422;">burt      =</span> <span class="fu" style="color: #4758AB;">constraint</span>(ntwk_ig)</span>
<span id="cb2-12">)</span>
<span id="cb2-13"><span class="co" style="color: #5E5E5E;"># Network-level measures:</span></span>
<span id="cb2-14"><span class="co" style="color: #5E5E5E;">#   closeness centralization</span></span>
<span id="cb2-15">ntwk_ig.centr_clo <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centr_clo</span>(ntwk_ig)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb2-16"><span class="co" style="color: #5E5E5E;">#   betweenness centralization</span></span>
<span id="cb2-17">ntwk_ig.centr_btw <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centr_betw</span>(ntwk_ig, <span class="at" style="color: #657422;">directed =</span> <span class="cn" style="color: #8f5902;">FALSE</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb2-18"></span>
<span id="cb2-19"></span>
<span id="cb2-20">ntwk_stat.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">data.frame</span>(</span>
<span id="cb2-21">    <span class="at" style="color: #657422;">name      =</span> ntwk_stat <span class="sc" style="color: #5E5E5E;">%v%</span> <span class="st" style="color: #20794D;">"vertex.names"</span>,</span>
<span id="cb2-22">    <span class="at" style="color: #657422;">totdegree =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk_stat),</span>
<span id="cb2-23">    <span class="at" style="color: #657422;">indegree  =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk_stat, <span class="at" style="color: #657422;">cmode =</span> <span class="st" style="color: #20794D;">"indegree"</span>),</span>
<span id="cb2-24">    <span class="at" style="color: #657422;">outdegree =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk_stat, <span class="at" style="color: #657422;">cmode =</span> <span class="st" style="color: #20794D;">"outdegree"</span>),</span>
<span id="cb2-25">    <span class="at" style="color: #657422;">eigen     =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">evcent</span>(ntwk_stat, <span class="at" style="color: #657422;">ignore.eval =</span> <span class="cn" style="color: #8f5902;">TRUE</span>),</span>
<span id="cb2-26">    <span class="at" style="color: #657422;">bonanich  =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">bonpow</span>(ntwk_stat),</span>
<span id="cb2-27">    <span class="at" style="color: #657422;">centr_clo =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">closeness</span>(ntwk_stat, <span class="at" style="color: #657422;">gmode =</span> <span class="st" style="color: #20794D;">"graph"</span>,</span>
<span id="cb2-28">                               <span class="at" style="color: #657422;">cmode =</span> <span class="st" style="color: #20794D;">"suminvundir"</span>),</span>
<span id="cb2-29">    <span class="at" style="color: #657422;">centr_btw =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">betweenness</span>(ntwk_stat, <span class="at" style="color: #657422;">gmode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span>
<span id="cb2-30">)</span>
<span id="cb2-31"><span class="co" style="color: #5E5E5E;"># Network-level measures:</span></span>
<span id="cb2-32"><span class="co" style="color: #5E5E5E;">#   closeness centralization</span></span>
<span id="cb2-33">ntwk_stat.centr_clo <span class="ot" style="color: #003B4F;">=</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">centralization</span>(ntwk_stat.nodes, sna<span class="sc" style="color: #5E5E5E;">::</span>closeness, </span>
<span id="cb2-34">                                     <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in geodist(dat, count.paths = FALSE, predecessors = FALSE, ignore.eval =
ignore.eval): NAs introduced by coercion</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;">#   betweenness centralization</span></span>
<span id="cb4-2">ntwk_stat.centr_btw <span class="ot" style="color: #003B4F;">=</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">centralization</span>(ntwk_stat.nodes, sna<span class="sc" style="color: #5E5E5E;">::</span>betweenness,</span>
<span id="cb4-3">                                     <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fun(dat, g = g, gmode = mode, diag = diag, ...): NAs introduced by
coercion</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;"># Statnet-only: Gould-Fernandez Brokerage</span></span>
<span id="cb6-2"><span class="co" style="color: #5E5E5E;"># temp &lt;- data.frame(brokerage(ntwk_stat, cl = ntwk.nodes$orgtype5)$z.nli)</span></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;"># ntwk.nodes &lt;- ntwk.nodes %&gt;%</span></span>
<span id="cb6-4"><span class="co" style="color: #5E5E5E;">#   mutate(broker.tot = temp$t,</span></span>
<span id="cb6-5"><span class="co" style="color: #5E5E5E;">#          broker.coord = temp$w_I,</span></span>
<span id="cb6-6"><span class="co" style="color: #5E5E5E;">#          broker.itin = temp$w_O,</span></span>
<span id="cb6-7"><span class="co" style="color: #5E5E5E;">#          broker.rep = temp$b_IO,</span></span>
<span id="cb6-8"><span class="co" style="color: #5E5E5E;">#          broker.gate = temp$b_OI,</span></span>
<span id="cb6-9"><span class="co" style="color: #5E5E5E;">#          broker.lia = temp$b_O)</span></span></code></pre></div>
</div>
<section id="burts-constraint" class="level2">
<h2 class="anchored" data-anchor-id="burts-constraint">Burt’s constraint</h2>
<p><em>Burt’s constraint</em> can be thought of as a measure of a node’s dependency on other nodes for connections or information. If a node has a small number of connections, or the connections are largely redundant (i.e.&nbsp;a small group of friends without many other connections), that node has a higher constraint than one that has connections to nodes that are less redundant to each other. It provides more pathways, or opportunities, for information or power to flow.</p>
<p>It should come as no surprise, given all of the various ways that the Medici are the dominant node in this dataset, that the Medici family has the lowest overall constraint.</p>
<p>As a reminder, here is the original network graph of the Florence wedding data with no scaling applied:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb7-3">  ntwk_ig,</span>
<span id="cb7-4">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(ntwk_ig),</span>
<span id="cb7-5">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb7-6">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb7-7">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb7-8">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb7-9">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence interfamily marriages, 1282-1500"</span></span>
<span id="cb7-10">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw5/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>And here we scale the nodes by their Burt’s constraint measure:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">ntwk_ig_b <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk_ig</span>
<span id="cb8-2">ntwk_ig_b.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk_ig.nodes</span>
<span id="cb8-3">ntwk_ig_b.nodes<span class="sc" style="color: #5E5E5E;">$</span>burt <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ifelse</span>(<span class="fu" style="color: #4758AB;">is.na</span>(ntwk_ig_b.nodes<span class="sc" style="color: #5E5E5E;">$</span>burt), <span class="dv" style="color: #AD0000;">1</span>, ntwk_ig_b.nodes<span class="sc" style="color: #5E5E5E;">$</span>burt)</span>
<span id="cb8-4"></span>
<span id="cb8-5">ntwk_ig_b.nodes<span class="sc" style="color: #5E5E5E;">$</span>burt_inv <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="dv" style="color: #AD0000;">5</span> <span class="sc" style="color: #5E5E5E;">*</span> (<span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> ntwk_ig_b.nodes<span class="sc" style="color: #5E5E5E;">$</span>burt)</span>
<span id="cb8-6"><span class="fu" style="color: #4758AB;">V</span>(ntwk_ig_b)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk_ig_b.nodes[,<span class="st" style="color: #20794D;">"burt_inv"</span>] <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">5</span></span>
<span id="cb8-7"><span class="fu" style="color: #4758AB;">V</span>(ntwk_ig_b)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk_ig_b.nodes[,<span class="st" style="color: #20794D;">"burt_inv"</span>] <span class="sc" style="color: #5E5E5E;">/</span> <span class="dv" style="color: #AD0000;">4</span></span>
<span id="cb8-8"><span class="fu" style="color: #4758AB;">V</span>(ntwk_ig_b)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk_ig_b)<span class="sc" style="color: #5E5E5E;">$</span>label.cex, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb8-9"></span>
<span id="cb8-10"><span class="co" style="color: #5E5E5E;"># Ensure minimum node size</span></span>
<span id="cb8-11"><span class="fu" style="color: #4758AB;">V</span>(ntwk_ig_b)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk_ig_b)<span class="sc" style="color: #5E5E5E;">$</span>size, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb8-12"></span>
<span id="cb8-13">burts_labels <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">sprintf</span>(<span class="st" style="color: #20794D;">"%s</span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">%s"</span>, <span class="fu" style="color: #4758AB;">V</span>(ntwk_ig_b)<span class="sc" style="color: #5E5E5E;">$</span>name,</span>
<span id="cb8-14">                            <span class="co" style="color: #5E5E5E;"># Omit leading "0" can't be done in sprintf</span></span>
<span id="cb8-15">                            <span class="fu" style="color: #4758AB;">substr</span>(<span class="fu" style="color: #4758AB;">as.character</span>(<span class="fu" style="color: #4758AB;">round</span>(</span>
<span id="cb8-16">                              ntwk_ig_b.nodes<span class="sc" style="color: #5E5E5E;">$</span>burt, <span class="dv" style="color: #AD0000;">3</span></span>
<span id="cb8-17">                            )), <span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">10</span>))</span>
<span id="cb8-18"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb8-19"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb8-20">  ntwk_ig_b,</span>
<span id="cb8-21">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(ntwk_ig_b),</span>
<span id="cb8-22">  <span class="at" style="color: #657422;">vertex.label =</span> burts_labels,</span>
<span id="cb8-23">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb8-24">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb8-25">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb8-26">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb8-27">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence families by Burt's constraint"</span></span>
<span id="cb8-28">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw5/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Once again, we see the clear dominance of the Medici family in this measure. Note that all of the pendant nodes (Lamberteschi, Ginori, Pazzi and Acciaiuoli) have maximal constraints of 1; they are completely constrained by their single connections, by definition. The Pucci family’s constraint is undefined, as it is a disconnected node.</p>
<p>The Medici have the lowest constraints of any family, being well-connected to other well-connected nodes with some spread among them. It is interesting to note that the Guadagni family is not far behind, though, at 0.25 to 0.21 for the Medici. They are connected to 3 well-connected nodes besides the Lamberteschi, and the Bischeri node in particular gives them indirect access to the Strozzi and Peruzzi nodes, besides the Albizzi and Tornabouni nodes that they share with the Medici. It can be seen from this that the Bischeri node is a strength for the Guadagni family in much the same way that the Barbadori node is a strength of the Medici.</p>
</section>
<section id="brokerage" class="level2">
<h2 class="anchored" data-anchor-id="brokerage">Brokerage</h2>
<p>With Gould-Fernandez Brokerage, we begin to look at the ways in which nodes mediate connections between other groups of nodes. This requires a directed network, since the direction of flow of access is a crucial aspect of the core concept. There are five roles recognized by Gould-Fernandez Brokerage:</p>
<dl>
<dt>Coordinator</dt>
<dd>
mediates contact between two individuals from his or her own group
</dd>
<dt>Itinerant broker</dt>
<dd>
mediates contact between two individuals from a single group to which he or she does not belong
</dd>
<dt>Gatekeeper</dt>
<dd>
mediates an incoming contact from an out-group member to an in-group member
</dd>
<dt>Representative</dt>
<dd>
mediates an outgoing contact from an in-group member to an out-group member
</dd>
<dt>Liaison</dt>
<dd>
mediates contact between two individuals from different groups, neither of which is the group to which he or she belongs
</dd>
</dl>
<p>Unfortunately for the present moment, however, we cannot apply this concept to the Florence wedding data set, because at present there are no subgroups or categories between which to identify brokers! We will need to add data to the set to find a basis for this sort of analysis, and this is where we begin to transition to a research project.</p>
<p>I am interested in the patronage system in Renaissance Florence, particularly as it applied to artists and scientists, as a measure of influence of the families. We may be able to return to brokerage concepts once we map in data related to this concept.</p>


</section>

 ]]></description>
  <category>r</category>
  <category>social networks</category>
  <guid>https://slinberg.net/academics/697E/697E-hw5/index.html</guid>
  <pubDate>Wed, 16 Feb 2022 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Homework 4: Centrality Analysis of the Florentine Wedding dataset</title>
  <link>https://slinberg.net/academics/697E/697E-hw4/index.html</link>
  <description><![CDATA[ 



<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">data</span>(flo)</span>
<span id="cb1-2">ntwk.ig <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">graph_from_adjacency_matrix</span>(flo)</span>
<span id="cb1-3"></span>
<span id="cb1-4">ntwk.vcount <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">vcount</span>(ntwk.ig)</span>
<span id="cb1-5">ntwk.ecount <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ecount</span>(ntwk.ig)</span>
<span id="cb1-6">ntwk.is_bipartite <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">is_bipartite</span>(ntwk.ig)</span>
<span id="cb1-7">ntwk.is_directed <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">is_directed</span>(ntwk.ig)</span>
<span id="cb1-8">ntwk.is_weighted <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">is_weighted</span>(ntwk.ig)</span>
<span id="cb1-9">ntwk.vertex_attr_names <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">vertex_attr_names</span>(ntwk.ig)</span>
<span id="cb1-10">ntwk.edge_attr_names <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">edge_attr_names</span>(ntwk.ig)</span>
<span id="cb1-11">ntwk.names <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>name</span>
<span id="cb1-12">ntwk.dyad_census <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">dyad.census</span>(ntwk.ig)</span>
<span id="cb1-13">ntwk.triad_census <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">triad_census</span>(ntwk.ig)</span>
<span id="cb1-14">ntwk.global_clustering_coef <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">transitivity</span>(ntwk.ig, <span class="at" style="color: #657422;">type =</span> <span class="st" style="color: #20794D;">"global"</span>)</span>
<span id="cb1-15">ntwk.local_avg_clustering_coef <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">transitivity</span>(ntwk.ig, <span class="at" style="color: #657422;">type =</span> <span class="st" style="color: #20794D;">"average"</span>)</span>
<span id="cb1-16">ntwk.avg_path_length <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">average.path.length</span>(ntwk.ig, <span class="at" style="color: #657422;">directed =</span> T)</span>
<span id="cb1-17">ntwk.component_names <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">names</span>(igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">components</span>(ntwk.ig))</span>
<span id="cb1-18">ntwk.components_no <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">components</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>no</span>
<span id="cb1-19">ntwk.components_csize <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">components</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>csize</span>
<span id="cb1-20"></span>
<span id="cb1-21"><span class="co" style="color: #5E5E5E;"># distances(ntwk.ig,"Acciaiuoli","Strozzi", weights=NA)</span></span>
<span id="cb1-22"></span>
<span id="cb1-23">ntwk.graph_density <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">graph.density</span>(ntwk.ig)</span>
<span id="cb1-24">ntwk.graph_density_noloops <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">graph.density</span>(ntwk.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">TRUE</span>)</span>
<span id="cb1-25"></span>
<span id="cb1-26">ntwk.avg_degree <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk.ig)</span>
<span id="cb1-27"></span>
<span id="cb1-28"><span class="co" style="color: #5E5E5E;"># Get the degree info and make the data frame</span></span>
<span id="cb1-29"></span>
<span id="cb1-30">ntwk.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">data.frame</span>(</span>
<span id="cb1-31">  <span class="at" style="color: #657422;">name =</span> <span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>name, </span>
<span id="cb1-32">  <span class="at" style="color: #657422;">degree =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk.ig),</span>
<span id="cb1-33">  <span class="at" style="color: #657422;">indegrees =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk.ig, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"in"</span>, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb1-34">  <span class="at" style="color: #657422;">outdegrees =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk.ig, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"out"</span>, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>)</span>
<span id="cb1-35">  )</span>
<span id="cb1-36"><span class="co" style="color: #5E5E5E;"># ntwk.nodes[ntwk.nodes$name %in% c("Medici", "Strozzi"),]</span></span>
<span id="cb1-37"></span>
<span id="cb1-38"><span class="co" style="color: #5E5E5E;"># Get degree centralization</span></span>
<span id="cb1-39"></span>
<span id="cb1-40">ntwk.indegree_centralization <span class="ot" style="color: #003B4F;">&lt;-</span> </span>
<span id="cb1-41">  <span class="fu" style="color: #4758AB;">centr_degree</span>(ntwk.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"in"</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb1-42">ntwk.outdegree_centralization <span class="ot" style="color: #003B4F;">&lt;-</span> </span>
<span id="cb1-43">  <span class="fu" style="color: #4758AB;">centr_degree</span>(ntwk.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"out"</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb1-44">ntwk.total_centralization <span class="ot" style="color: #003B4F;">&lt;-</span> </span>
<span id="cb1-45">  <span class="fu" style="color: #4758AB;">centr_degree</span>(ntwk.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"total"</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span></code></pre></div>
</div>
<p>This week, we’re going to look at various measures of <em>degree centrality</em> in the Florentine Wedding dataset.</p>
<p><a href="../../../academics/697E/697E-hw3/index.html">Last week</a>, we looked at some basic network plots that showed the overall structure of the network, sizing the nodes by their individual degrees. One of the primary features of this data set is all of the ways in which it can be shown how dominant the Medici family was in medieval Florence.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk.nodes[,<span class="st" style="color: #20794D;">"degree"</span>] <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">5</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk.nodes[,<span class="st" style="color: #20794D;">"degree"</span>] <span class="sc" style="color: #5E5E5E;">/</span> <span class="dv" style="color: #AD0000;">4</span></span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb2-4"></span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb2-6"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk.nodes[,<span class="st" style="color: #20794D;">"degree"</span>] <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">3</span></span>
<span id="cb2-7"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb2-8">  ntwk.ig,</span>
<span id="cb2-9">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(ntwk.ig),</span>
<span id="cb2-10">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb2-11">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb2-12">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb2-13">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb2-14">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence interfamily marriages, 1282-1500"</span></span>
<span id="cb2-15">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw4/index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="closeness-centrality" class="level2">
<h2 class="anchored" data-anchor-id="closeness-centrality">Closeness Centrality</h2>
<p><em>Closeness centrality</em> is a measure of how close a node is, via the shortest path, to every other node in the network. It is more revealing in hierarchies, where dominant nodes that are closer to the center of the graph will have, on average, shorter paths to the rest of the node than the nodes at the periphery.</p>
<p>The closeness centrality measures of the nodes in the Florentine data may come as a bit of a surprise:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">closeness_centrality <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">closeness</span>(ntwk.ig, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"all"</span>)</span>
<span id="cb3-2"><span class="co" style="color: #5E5E5E;"># One node is not connected, and has NaN as its centrality; replace it </span></span>
<span id="cb3-3"><span class="co" style="color: #5E5E5E;"># with 0 just for the graph below.</span></span>
<span id="cb3-4">closeness_centrality[<span class="fu" style="color: #4758AB;">is.nan</span>(closeness_centrality)] <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="dv" style="color: #AD0000;">0</span></span>
<span id="cb3-5"><span class="co" style="color: #5E5E5E;"># Calculate node size by 1000 x closeness</span></span>
<span id="cb3-6"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> closeness_centrality <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">1000</span></span>
<span id="cb3-7"><span class="co" style="color: #5E5E5E;"># Ensure minimum node size</span></span>
<span id="cb3-8"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb3-9"><span class="co" style="color: #5E5E5E;"># Base text size on node size</span></span>
<span id="cb3-10"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="sc" style="color: #5E5E5E;">/</span> <span class="dv" style="color: #AD0000;">15</span></span>
<span id="cb3-11"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb3-12"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb3-13">closeness_labels <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">sprintf</span>(<span class="st" style="color: #20794D;">"%s</span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">%s"</span>, ntwk.names,</span>
<span id="cb3-14">                            <span class="co" style="color: #5E5E5E;"># Omit leading "0" can't be done in sprintf</span></span>
<span id="cb3-15">                            <span class="fu" style="color: #4758AB;">substr</span>(<span class="fu" style="color: #4758AB;">as.character</span>(<span class="fu" style="color: #4758AB;">round</span>(</span>
<span id="cb3-16">                              closeness_centrality, <span class="dv" style="color: #AD0000;">3</span></span>
<span id="cb3-17">                            )), <span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">10</span>))</span>
<span id="cb3-18"><span class="fu" style="color: #4758AB;">plot.igraph</span>(</span>
<span id="cb3-19">  ntwk.ig,</span>
<span id="cb3-20">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(ntwk.ig),</span>
<span id="cb3-21">  <span class="at" style="color: #657422;">vertex.label =</span> closeness_labels,</span>
<span id="cb3-22">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb3-23">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb3-24">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb3-25">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb3-26">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence nodes by closeness centrality"</span></span>
<span id="cb3-27">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw4/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Although careful examination shows that the Medici family is still the dominant node, with the highest closeness centrality score, there is very little variation among all but the disconnected Pucci node. The chief reason for this is that the network itself is very small, and tightly connected. As we saw last week, the average path length for this network is 2.486; the Florentine families were all in close proximity to each other, as might be expected given that one of its primary constraints is geographical, but it is interesting to see how the power of the Medici family did <em>not</em> derive primarily from its closeness centrality, or its position in a hierarchy.</p>
</section>
<section id="betweenness-centrality" class="level2">
<h2 class="anchored" data-anchor-id="betweenness-centrality">Betweenness Centrality</h2>
<p>Another useful measure is <em>betweenness centrality</em>, which is a count of the number of shortest paths between nodes that pass through another node. It can be seen as a measure of importance or control, in that it reflects how well a node is positioned along the optimal path between two other nodes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">betweenness_centrality <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">betweenness</span>(ntwk.ig)</span>
<span id="cb4-2"><span class="co" style="color: #5E5E5E;"># Calculate node size by 2 x betweenness</span></span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> betweenness_centrality <span class="sc" style="color: #5E5E5E;">/</span> <span class="dv" style="color: #AD0000;">2</span></span>
<span id="cb4-4"><span class="co" style="color: #5E5E5E;"># Ensure minimum node size</span></span>
<span id="cb4-5"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size, <span class="dv" style="color: #AD0000;">10</span>)</span>
<span id="cb4-6"><span class="co" style="color: #5E5E5E;"># Base text size on node size</span></span>
<span id="cb4-7"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="sc" style="color: #5E5E5E;">/</span> <span class="dv" style="color: #AD0000;">15</span></span>
<span id="cb4-8"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb4-9"></span>
<span id="cb4-10">colors <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">case_when</span>(</span>
<span id="cb4-11">  betweenness_centrality <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">0</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"#FFFF33"</span>,</span>
<span id="cb4-12">  betweenness_centrality <span class="sc" style="color: #5E5E5E;">&lt;</span> <span class="dv" style="color: #AD0000;">20</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"#FF8033"</span>,</span>
<span id="cb4-13">  <span class="cn" style="color: #8f5902;">TRUE</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"#FF0033"</span></span>
<span id="cb4-14">)</span>
<span id="cb4-15"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb4-16"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb4-17">  ntwk.ig,</span>
<span id="cb4-18">  <span class="at" style="color: #657422;">vertex.color =</span> colors,</span>
<span id="cb4-19">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(ntwk.ig),</span>
<span id="cb4-20">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb4-21">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb4-22">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb4-23">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb4-24">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence nodes by betweenness centrality"</span></span>
<span id="cb4-25">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw4/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This chart uses heatmap colors to indicate the strength of betweenness centrality. The yellow nodes - the network’s pendants and isolate - are yellow, which indicates a betweenness measure of 0. The orange nodes are nodes with 20 or less optimal paths running through them, and the red nodes have more than 20. In fact, the scale had to be forced in this graph to make the smaller-weighted betweenness nodes visible at all compared to the overwhelming dominance of the Medici node, with a betweenness score more than twice that of its nearest rival:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;">sort</span>(<span class="fu" style="color: #4758AB;">round</span>(betweenness_centrality, <span class="dv" style="color: #AD0000;">2</span>), <span class="at" style="color: #657422;">decreasing =</span> <span class="cn" style="color: #8f5902;">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Medici     Guadagni      Albizzi     Salviati      Ridolfi     Bischeri 
       95.00        46.33        38.67        26.00        20.67        19.00 
     Strozzi    Barbadori   Tornabuoni   Castellani      Peruzzi   Acciaiuoli 
       18.67        17.00        16.67        10.00         4.00         0.00 
      Ginori Lamberteschi        Pazzi        Pucci 
        0.00         0.00         0.00         0.00 </code></pre>
</div>
</div>
<p>95 of the 312 optimal paths in the Florence network ran through the Medici. It is easy to imagine many different ways that such centrality could manifest as various forms of power.</p>
</section>
<section id="eigenvector-and-bonacich-power" class="level2">
<h2 class="anchored" data-anchor-id="eigenvector-and-bonacich-power">Eigenvector and Bonacich Power</h2>
<p>Eigenvector centrality is a measure of not just how many alters a node is connected to, but of how well-connected those alters are. A node with a high eigenvector centrality score is connected to significant numbers of other highly central nodes. For this chart, we can return to standard-area scaling (except for slightly inflating the smallest to keep them visible), and we see that once again, the Medici are in a dominant position, well-connected to the other well-connected Florence families:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">eigen_info <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">centr_eigen</span>(ntwk.ig, <span class="at" style="color: #657422;">directed =</span> T)</span>
<span id="cb7-2"></span>
<span id="cb7-3"><span class="co" style="color: #5E5E5E;"># Calculate node size by 1000 x closeness</span></span>
<span id="cb7-4"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> eigen_info<span class="sc" style="color: #5E5E5E;">$</span>vector <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">30</span></span>
<span id="cb7-5"><span class="co" style="color: #5E5E5E;"># Ensure minimum node size</span></span>
<span id="cb7-6"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size, <span class="dv" style="color: #AD0000;">5</span>)</span>
<span id="cb7-7"><span class="co" style="color: #5E5E5E;"># Base text size on node size</span></span>
<span id="cb7-8"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="sc" style="color: #5E5E5E;">/</span> <span class="dv" style="color: #AD0000;">15</span></span>
<span id="cb7-9"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb7-10"></span>
<span id="cb7-11"><span class="co" style="color: #5E5E5E;"># colors &lt;- case_when(</span></span>
<span id="cb7-12"><span class="co" style="color: #5E5E5E;">#   betweenness_centrality == 0 ~ "#FFFF33",</span></span>
<span id="cb7-13"><span class="co" style="color: #5E5E5E;">#   betweenness_centrality &lt; 20 ~ "#FF8033",</span></span>
<span id="cb7-14"><span class="co" style="color: #5E5E5E;">#   TRUE ~ "#FF0033"</span></span>
<span id="cb7-15"><span class="co" style="color: #5E5E5E;"># )</span></span>
<span id="cb7-16"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb7-17">eigen_labels <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">sprintf</span>(<span class="st" style="color: #20794D;">"%s</span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">%.2f"</span>, ntwk.names, eigen_info<span class="sc" style="color: #5E5E5E;">$</span>vector)</span>
<span id="cb7-18"></span>
<span id="cb7-19"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb7-20">  ntwk.ig,</span>
<span id="cb7-21">  <span class="co" style="color: #5E5E5E;"># vertex.color = colors,</span></span>
<span id="cb7-22">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(ntwk.ig),</span>
<span id="cb7-23">  <span class="at" style="color: #657422;">vertex.label =</span> eigen_labels,</span>
<span id="cb7-24">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb7-25">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb7-26">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb7-27">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb7-28">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence nodes by eigenvector centrality"</span></span>
<span id="cb7-29">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw4/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It is interesting to look at the Strozzi family in this diagram, which has the second-highest eigenvector centrality score behind the Medici. Recall that in terms of simple degree, the Strozzi and Guadagni families were equal, and in terms of betweenness centrality, the Guadagini family had a significantly higher score than the Strozzi, showing that more optimal / shortest paths between nodes passed through the Guadagini. This could be interpreted as a measure of positional influence and power. However, here we see that the Strozzi’s eigenvector centrality is higher than the Guadagini, and it is plain to see why; the Strozzi are connected to four other families with relatively high eigenvector centrality (the Bischeri, Peruzzi and Castellani), where the Guadagni family is somewhat penalized by its connection to the Lamberteschi pendant node that has no other connections. So, although the Guadagni family was more centrally positioned in terms of betweenness, the Strozzi family’s fewer optimal paths were nonetheless connected to more central families.</p>
<p>Finally, it is worth examining the Bonacich power connections, which is an interesting measure that in some way inverts the eigenvector concept, proposing that being well-connected to other well-connected nodes does not mean that a node has the ability to <em>influence</em> those nodes, as they are also well-connected, and so therefore there is advantage in being connected to weaker nodes. When viewed purely in terms of potential power dynamics, this has some interesting merit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">bon_info <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">power_centrality</span>(ntwk.ig)</span>
<span id="cb8-2"></span>
<span id="cb8-3"><span class="co" style="color: #5E5E5E;"># H/T: range01 &lt;- function(x){(x-min(x))/(max(x)-min(x))}</span></span>
<span id="cb8-4">range01 <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="cf" style="color: #003B4F;">function</span>(x){(x<span class="sc" style="color: #5E5E5E;">-</span><span class="fu" style="color: #4758AB;">min</span>(x))<span class="sc" style="color: #5E5E5E;">/</span>(<span class="fu" style="color: #4758AB;">max</span>(x)<span class="sc" style="color: #5E5E5E;">-</span><span class="fu" style="color: #4758AB;">min</span>(x))}</span>
<span id="cb8-5">scaled_bon_info <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">range01</span>(bon_info)</span>
<span id="cb8-6"></span>
<span id="cb8-7"><span class="co" style="color: #5E5E5E;"># Calculate node size by 1000 x closeness</span></span>
<span id="cb8-8"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> scaled_bon_info <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">30</span></span>
<span id="cb8-9"><span class="co" style="color: #5E5E5E;"># Ensure minimum node size</span></span>
<span id="cb8-10"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size, <span class="dv" style="color: #AD0000;">5</span>)</span>
<span id="cb8-11"><span class="co" style="color: #5E5E5E;"># Base text size on node size</span></span>
<span id="cb8-12"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="sc" style="color: #5E5E5E;">/</span> <span class="dv" style="color: #AD0000;">15</span></span>
<span id="cb8-13"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb8-14"></span>
<span id="cb8-15"><span class="co" style="color: #5E5E5E;"># colors &lt;- case_when(</span></span>
<span id="cb8-16"><span class="co" style="color: #5E5E5E;">#   betweenness_centrality == 0 ~ "#FFFF33",</span></span>
<span id="cb8-17"><span class="co" style="color: #5E5E5E;">#   betweenness_centrality &lt; 20 ~ "#FF8033",</span></span>
<span id="cb8-18"><span class="co" style="color: #5E5E5E;">#   TRUE ~ "#FF0033"</span></span>
<span id="cb8-19"><span class="co" style="color: #5E5E5E;"># )</span></span>
<span id="cb8-20"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb8-21">eigen_labels <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">sprintf</span>(<span class="st" style="color: #20794D;">"%s</span><span class="sc" style="color: #5E5E5E;">\n</span><span class="st" style="color: #20794D;">%.2f"</span>, ntwk.names, bon_info)</span>
<span id="cb8-22"></span>
<span id="cb8-23"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb8-24">  ntwk.ig,</span>
<span id="cb8-25">  <span class="co" style="color: #5E5E5E;"># vertex.color = colors,</span></span>
<span id="cb8-26">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(ntwk.ig),</span>
<span id="cb8-27">  <span class="at" style="color: #657422;">vertex.label =</span> eigen_labels,</span>
<span id="cb8-28">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb8-29">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb8-30">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb8-31">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb8-32">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence nodes by Bonacich centrality"</span></span>
<span id="cb8-33">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw4/index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This offers a very different view of the power dynamics in Florence. The Medici are greatly reduced, because their direct connections are all powerful families themselves, and so although they are well-connected by other measures, they may not be in a position of power over those other families. More influential families according to Bonacich would include the Ridolfi and Tornabuoni families, who suddenly become dominant from this perspective. The Bonacich calculation is complex and includes notions of centrality and power, and is not purely a measure of adjacency; see how small the Albizzi’s Bonacich score is, even though one of its three connections is to the pendant Ginori family, which is nonetheless in a slightly stronger position according to Bonacich. A fuller investigation of this dynamic would require some careful research.</p>


</section>

 ]]></description>
  <category>r</category>
  <category>social networks</category>
  <guid>https://slinberg.net/academics/697E/697E-hw4/index.html</guid>
  <pubDate>Thu, 10 Feb 2022 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Homework 3: The Florentine Wedding dataset</title>
  <link>https://slinberg.net/academics/697E/697E-hw3/index.html</link>
  <description><![CDATA[ 



<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">data</span>(flo)</span>
<span id="cb1-2">ntwk.ig <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">graph_from_adjacency_matrix</span>(flo)</span>
<span id="cb1-3"></span>
<span id="cb1-4">ntwk.vcount <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">vcount</span>(ntwk.ig)</span>
<span id="cb1-5">ntwk.ecount <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ecount</span>(ntwk.ig)</span>
<span id="cb1-6">ntwk.is_bipartite <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">is_bipartite</span>(ntwk.ig)</span>
<span id="cb1-7">ntwk.is_directed <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">is_directed</span>(ntwk.ig)</span>
<span id="cb1-8">ntwk.is_weighted <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">is_weighted</span>(ntwk.ig)</span>
<span id="cb1-9">ntwk.vertex_attr_names <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">vertex_attr_names</span>(ntwk.ig)</span>
<span id="cb1-10">ntwk.edge_attr_names <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">edge_attr_names</span>(ntwk.ig)</span>
<span id="cb1-11">ntwk.names <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>name</span>
<span id="cb1-12">ntwk.dyad_census <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">dyad.census</span>(ntwk.ig)</span>
<span id="cb1-13">ntwk.triad_census <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">triad_census</span>(ntwk.ig)</span>
<span id="cb1-14">ntwk.global_clustering_coef <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">transitivity</span>(ntwk.ig, <span class="at" style="color: #657422;">type =</span> <span class="st" style="color: #20794D;">"global"</span>)</span>
<span id="cb1-15">ntwk.local_avg_clustering_coef <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">transitivity</span>(ntwk.ig, <span class="at" style="color: #657422;">type =</span> <span class="st" style="color: #20794D;">"average"</span>)</span>
<span id="cb1-16">ntwk.avg_path_length <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">average.path.length</span>(ntwk.ig, <span class="at" style="color: #657422;">directed =</span> T)</span>
<span id="cb1-17">ntwk.component_names <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">names</span>(igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">components</span>(ntwk.ig))</span>
<span id="cb1-18">ntwk.components_no <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">components</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>no</span>
<span id="cb1-19">ntwk.components_csize <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">components</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>csize</span>
<span id="cb1-20"></span>
<span id="cb1-21"><span class="co" style="color: #5E5E5E;"># distances(ntwk.ig,"Acciaiuoli","Strozzi", weights=NA)</span></span>
<span id="cb1-22"></span>
<span id="cb1-23">ntwk.graph_density <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">graph.density</span>(ntwk.ig)</span>
<span id="cb1-24">ntwk.graph_density_noloops <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">graph.density</span>(ntwk.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">TRUE</span>)</span>
<span id="cb1-25"></span>
<span id="cb1-26">ntwk.avg_degree <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk.ig)</span>
<span id="cb1-27"></span>
<span id="cb1-28"><span class="co" style="color: #5E5E5E;"># Get the degree info and make the data frame</span></span>
<span id="cb1-29"></span>
<span id="cb1-30">ntwk.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">data.frame</span>(</span>
<span id="cb1-31">  <span class="at" style="color: #657422;">name =</span> <span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>name, </span>
<span id="cb1-32">  <span class="at" style="color: #657422;">degree =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk.ig),</span>
<span id="cb1-33">  <span class="at" style="color: #657422;">indegrees =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk.ig, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"in"</span>, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb1-34">  <span class="at" style="color: #657422;">outdegrees =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(ntwk.ig, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"out"</span>, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>)</span>
<span id="cb1-35">  )</span>
<span id="cb1-36"><span class="co" style="color: #5E5E5E;"># ntwk.nodes[ntwk.nodes$name %in% c("Medici", "Strozzi"),]</span></span>
<span id="cb1-37"></span>
<span id="cb1-38"><span class="co" style="color: #5E5E5E;"># Get degree centralization</span></span>
<span id="cb1-39"></span>
<span id="cb1-40">ntwk.indegree_centralization <span class="ot" style="color: #003B4F;">&lt;-</span> </span>
<span id="cb1-41">  <span class="fu" style="color: #4758AB;">centr_degree</span>(ntwk.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"in"</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb1-42">ntwk.outdegree_centralization <span class="ot" style="color: #003B4F;">&lt;-</span> </span>
<span id="cb1-43">  <span class="fu" style="color: #4758AB;">centr_degree</span>(ntwk.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"out"</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb1-44">ntwk.total_centralization <span class="ot" style="color: #003B4F;">&lt;-</span> </span>
<span id="cb1-45">  <span class="fu" style="color: #4758AB;">centr_degree</span>(ntwk.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"total"</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span></code></pre></div>
</div>

<p>For this assignment, I am looking at the Florentine Wedding dataset by J. F. Padgett, representing intermarriages between prominent families in Florence between 1282 and 1500. This is an area of interest to me as I have some background in fine art, and the Medici family in particular was known for its patronage of some of history’s greatest artists throughout the Renaissance, including Boticelli, Leonardo da Vinci, and Michelangelo. No less than Galileo Galilei himself tutored several generations of Medici children.</p>
<p>The great families of this era were frequently fierce rivals, with delicately balanced power structures measured in various spheres of influence; intermarriages were one way that alliances were forged between families in the ceaseless effort to gain political or financial advantage over their competitors.</p>
<p>The Medici family was the most prominent in Florence throughout the renaissance. Two other prominent families, the Strozzi and Guadagni, also exercised considerable influence (they were all banking families), and did not intermarry with the Medici, though they were not far removed. This essay looks at the marriage network between the various families as one measure of social power and centrality in Renaissance Florence.</p>
<p>The <code>flo</code> dataset in the R <code>network</code> library is an adjacency matrix of 16 families of this era, including the aforementioned. It contains the 16 nodes of the families, and 20 unweighted, directed edges between them. The Pucci family is an isolate, making the network disconnected; the remaining nodes form a single component.</p>
<p>The families in the dataset, with their total intermarriage count (<code>degree</code>), marriages into each family (<code>indegrees</code>) and marriages out to other families (<code>outdegrees</code>) are:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">ntwk.nodes[,<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"degree"</span>, <span class="st" style="color: #20794D;">"indegrees"</span>, <span class="st" style="color: #20794D;">"outdegrees"</span>)]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             degree indegrees outdegrees
Acciaiuoli        2         1          1
Albizzi           6         3          3
Barbadori         4         2          2
Bischeri          6         3          3
Castellani        6         3          3
Ginori            2         1          1
Guadagni          8         4          4
Lamberteschi      2         1          1
Medici           12         6          6
Pazzi             2         1          1
Peruzzi           6         3          3
Pucci             0         0          0
Ridolfi           6         3          3
Salviati          4         2          2
Strozzi           8         4          4
Tornabuoni        6         3          3</code></pre>
</div>
</div>
<p>A visualization shows each marriage as a line connecting two families:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk.nodes[,<span class="st" style="color: #20794D;">"degree"</span>] <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">5</span></span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk.nodes[,<span class="st" style="color: #20794D;">"degree"</span>] <span class="sc" style="color: #5E5E5E;">/</span> <span class="dv" style="color: #AD0000;">4</span></span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">pmax</span>(<span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>label.cex, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb4-4"></span>
<span id="cb4-5"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb4-6">  ntwk.ig,</span>
<span id="cb4-7">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_in_circle</span>(ntwk.ig),</span>
<span id="cb4-8">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb4-9">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb4-10">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb4-11">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb4-12">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence interfamily marriages, 1282-1500"</span></span>
<span id="cb4-13">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw3/index_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Each node is sized according to its number of connections; it is easy to see from this diagram that the Medici family had the most marriages within the Florence family network, with six. The Strozzi and Guadagni families were next at four apiece.</p>
<p>A component layout offers a different view that makes distances and paths easier to read:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">1235</span>)</span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;">V</span>(ntwk.ig)<span class="sc" style="color: #5E5E5E;">$</span>size <span class="ot" style="color: #003B4F;">&lt;-</span> ntwk.nodes[,<span class="st" style="color: #20794D;">"degree"</span>] <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">3</span></span>
<span id="cb5-3"><span class="fu" style="color: #4758AB;">plot</span>(</span>
<span id="cb5-4">  ntwk.ig,</span>
<span id="cb5-5">  <span class="at" style="color: #657422;">layout =</span> <span class="fu" style="color: #4758AB;">layout_components</span>(ntwk.ig),</span>
<span id="cb5-6">  <span class="at" style="color: #657422;">edge.arrow.mode =</span> <span class="dv" style="color: #AD0000;">0</span>,</span>
<span id="cb5-7">  <span class="at" style="color: #657422;">vertex.label.color =</span> <span class="st" style="color: #20794D;">"black"</span>,</span>
<span id="cb5-8">  <span class="at" style="color: #657422;">vertex.shape =</span> <span class="st" style="color: #20794D;">"circle"</span>,</span>
<span id="cb5-9">  <span class="at" style="color: #657422;">vertex.label.font =</span> <span class="dv" style="color: #AD0000;">2</span>,</span>
<span id="cb5-10">  <span class="at" style="color: #657422;">main =</span> <span class="st" style="color: #20794D;">"Florence interfamily marriages, 1282-1500"</span></span>
<span id="cb5-11">)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/697E/697E-hw3/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>From this layout, we can see that the Medici, Strozzi and Guadagni never directly intermarried, but were also only separated from each other by one node. With an overall average path length of approximately 2.5, this suggests some calculus and deliberation: not directly joining with their main rivals, but remaining only one degree removed.</p>
<p>The overall network density is <img src="https://latex.codecogs.com/png.latex?%5Capprox"> 0.16; 20 connections by marriage out of a possible total of 120. Four of the 16 nodes are pendants. We might expect the network density to increase if we looked at more families than the 16 listed here; it is very unlikely that only 16% of families experienced any marriages at all! This would need to be weighed against the prominence of the additional families according to the criteria with which this initial set was selected.</p>
<p>It would be interesting to me to look deeper into a bipartite network of connections between the families and whom they patronized, especially the artists and scientists of the era. This would require more data than is present in this set, but could be very revealing about other ways in which the families interacted, competing for social and political influence in the dynamic period of the Renaissance.</p>



 ]]></description>
  <category>r</category>
  <category>social networks</category>
  <guid>https://slinberg.net/academics/697E/697E-hw3/index.html</guid>
  <pubDate>Wed, 09 Feb 2022 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Useful R tidbits: Political Networks Analysis</title>
  <link>https://slinberg.net/academics/697E/useful-r-tidbits/index.html</link>
  <description><![CDATA[ 



<p>This document contains R snippets pertaining to work in the <a href="../../../academics/697E/index.html">Political Networks Analysis class</a>. There is also <a href="../../../academics/695M/useful-r-tidbits/index.html">one for the Machine Learning class</a>.</p>
<section id="prelude-finding-data-to-play-with" class="level2">
<h2 class="anchored" data-anchor-id="prelude-finding-data-to-play-with">Prelude: finding data to play with</h2>
<p>Since in the class tutorials, the network objects are pre-loaded in the web-based runtime environments, we don’t actually see how to load some of the data sets that the exercises are based on, for running outside of this environment.</p>
<p>There are gazillions of ways to get data into R, but for the purposes of playing with networks, there are some packages with pre-existing network data that can be easily loaded. Two of these are <code>igraphdata</code>, which contains igraph-formatted network datasets, and <code>ergm</code>, which contains statnet-compatible network datasets.</p>
<p>The datasets in each can be listed with the <code>data</code> command:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="sc" style="color: #5E5E5E;">&gt;</span> <span class="fu" style="color: #4758AB;">data</span>(<span class="at" style="color: #657422;">package =</span> <span class="st" style="color: #20794D;">"igraphdata"</span>)</span>
<span id="cb1-2"></span>
<span id="cb1-3">Data sets <span class="cf" style="color: #003B4F;">in</span> package ‘igraphdata’<span class="sc" style="color: #5E5E5E;">:</span></span>
<span id="cb1-4"></span>
<span id="cb1-5">Koenigsberg              Bridges of Koenigsberg from Euler<span class="st" style="color: #20794D;">'s times</span></span>
<span id="cb1-6"><span class="st" style="color: #20794D;">UKfaculty                Friendship network of a UK university faculty</span></span>
<span id="cb1-7"><span class="st" style="color: #20794D;">USairports               US airport network, 2010 December</span></span>
<span id="cb1-8"><span class="st" style="color: #20794D;">enron                    Enron Email Network</span></span>
<span id="cb1-9"><span class="st" style="color: #20794D;">foodwebs                 A collection of food webs</span></span>
<span id="cb1-10"><span class="st" style="color: #20794D;">immuno                   Immunoglobulin interaction network</span></span>
<span id="cb1-11"><span class="st" style="color: #20794D;">karate                   Zachary'</span>s karate club network</span>
<span id="cb1-12">kite                     Krackhardt<span class="st" style="color: #20794D;">'s kite</span></span>
<span id="cb1-13"><span class="st" style="color: #20794D;">macaque                  Visuotactile brain areas and connections</span></span>
<span id="cb1-14"><span class="st" style="color: #20794D;">rfid                     Hospital encounter network data</span></span>
<span id="cb1-15"><span class="st" style="color: #20794D;">yeast                    Yeast protein interaction network</span></span>
<span id="cb1-16"></span>
<span id="cb1-17"><span class="st" style="color: #20794D;">&gt; data(package = "ergm")</span></span>
<span id="cb1-18"></span>
<span id="cb1-19"><span class="st" style="color: #20794D;">Data sets in package ‘ergm’:</span></span>
<span id="cb1-20"></span>
<span id="cb1-21"><span class="st" style="color: #20794D;">cohab_MixMat (cohab)     Target statistics and model fit to a hypothetical</span></span>
<span id="cb1-22"><span class="st" style="color: #20794D;">                         50,000-node network population with 50,000 nodes</span></span>
<span id="cb1-23"><span class="st" style="color: #20794D;">                         based on egocent</span></span>
<span id="cb1-24"><span class="st" style="color: #20794D;">cohab_PopWts (cohab)     Target statistics and model fit to a hypothetical</span></span>
<span id="cb1-25"><span class="st" style="color: #20794D;">                         50,000-node network population with 50,000 nodes</span></span>
<span id="cb1-26"><span class="st" style="color: #20794D;">                         based on egocent</span></span>
<span id="cb1-27"><span class="st" style="color: #20794D;">cohab_TargetStats (cohab)</span></span>
<span id="cb1-28"><span class="st" style="color: #20794D;">                         Target statistics and model fit to a hypothetical</span></span>
<span id="cb1-29"><span class="st" style="color: #20794D;">                         50,000-node network population with 50,000 nodes</span></span>
<span id="cb1-30"><span class="st" style="color: #20794D;">                         based on egocent</span></span>
<span id="cb1-31"><span class="st" style="color: #20794D;">ecoli1 (ecoli)           Two versions of an E. Coli network dataset</span></span>
<span id="cb1-32"><span class="st" style="color: #20794D;">ecoli2 (ecoli)           Two versions of an E. Coli network dataset</span></span>
<span id="cb1-33"><span class="st" style="color: #20794D;">faux.desert.high         Faux desert High School as a network object</span></span>
<span id="cb1-34"><span class="st" style="color: #20794D;">faux.dixon.high          Faux dixon High School as a network object</span></span>
<span id="cb1-35"><span class="st" style="color: #20794D;">faux.magnolia.high       Goodreau'</span>s Faux Magnolia High School as a network</span>
<span id="cb1-36">                         object</span>
<span id="cb1-37">faux.mesa.high           Goodreau<span class="st" style="color: #20794D;">'s Faux Mesa High School as a network</span></span>
<span id="cb1-38"><span class="st" style="color: #20794D;">                         object</span></span>
<span id="cb1-39"><span class="st" style="color: #20794D;">flobusiness (florentine)</span></span>
<span id="cb1-40"><span class="st" style="color: #20794D;">                         Florentine Family Marriage and Business Ties Data</span></span>
<span id="cb1-41"><span class="st" style="color: #20794D;">                         as a "network" object</span></span>
<span id="cb1-42"><span class="st" style="color: #20794D;">flomarriage (florentine)</span></span>
<span id="cb1-43"><span class="st" style="color: #20794D;">                         Florentine Family Marriage and Business Ties Data</span></span>
<span id="cb1-44"><span class="st" style="color: #20794D;">                         as a "network" object</span></span>
<span id="cb1-45"><span class="st" style="color: #20794D;">g4                       Goodreau'</span>s four node network as a <span class="st" style="color: #20794D;">"network"</span></span>
<span id="cb1-46">                         object</span>
<span id="cb1-47">kapferer                 Kapferer<span class="st" style="color: #20794D;">'s tailor shop data</span></span>
<span id="cb1-48"><span class="st" style="color: #20794D;">kapferer2 (kapferer)     Kapferer'</span>s tailor shop data</span>
<span id="cb1-49">molecule                 Synthetic network with <span class="dv" style="color: #AD0000;">20</span> nodes and <span class="dv" style="color: #AD0000;">28</span> edges</span>
<span id="cb1-50"><span class="fu" style="color: #4758AB;">samplike</span> (sampson)       Cumulative network of positive affection within a</span>
<span id="cb1-51">                         monastery as a <span class="st" style="color: #20794D;">"network"</span> object</span>
<span id="cb1-52"><span class="fu" style="color: #4758AB;">samplk1</span> (samplk)         Longitudinal networks of positive affection</span>
<span id="cb1-53">                         within a monastery as a <span class="st" style="color: #20794D;">"network"</span> object</span>
<span id="cb1-54"><span class="fu" style="color: #4758AB;">samplk2</span> (samplk)         Longitudinal networks of positive affection</span>
<span id="cb1-55">                         within a monastery as a <span class="st" style="color: #20794D;">"network"</span> object</span>
<span id="cb1-56"><span class="fu" style="color: #4758AB;">samplk3</span> (samplk)         Longitudinal networks of positive affection</span>
<span id="cb1-57">                         within a monastery as a <span class="st" style="color: #20794D;">"network"</span> object</span></code></pre></div>
<p>To load the statnet “florentine” data from the <code>ergm</code> package:</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="sc" style="color: #5E5E5E;">&gt;</span> <span class="fu" style="color: #4758AB;">data</span>(<span class="st" style="color: #20794D;">"florentine"</span>, <span class="at" style="color: #657422;">package =</span> <span class="st" style="color: #20794D;">"ergm"</span>)</span></code></pre></div>
<p>This creates the objects <code>flobusiness</code> and <code>flomarriage</code>, both from this dataset, ready to go in statnet. Note that another version of this dataset is found in the <code>network</code> package <code>flo</code>:</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;">data</span>(<span class="st" style="color: #20794D;">"flo"</span>, <span class="at" style="color: #657422;">package =</span> <span class="st" style="color: #20794D;">"network"</span>)</span></code></pre></div>
<p>This loads the very simple data into a matrix, but it is not yet a network object. To convert it to an igraph object:</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;">library</span>(network)</span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;">library</span>(igraph)</span>
<span id="cb4-3"></span>
<span id="cb4-4"><span class="fu" style="color: #4758AB;">data</span>(flo)</span>
<span id="cb4-5">ntwk.ig <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">graph_from_adjacency_matrix</span>(flo)</span></code></pre></div>
</section>
<section id="week-1-tutorial-cheatsheet" class="level2">
<h2 class="anchored" data-anchor-id="week-1-tutorial-cheatsheet">Week 1 tutorial cheatsheet</h2>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th>igraph</th>
<th>statnet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Count of vertices</td>
<td><code>vcount()</code></td>
<td></td>
</tr>
<tr class="even">
<td>Count of edges</td>
<td><code>ecount()</code></td>
<td></td>
</tr>
<tr class="odd">
<td>Both</td>
<td></td>
<td><code>print()</code></td>
</tr>
<tr class="even">
<td>Bipartite or single mode?</td>
<td><code>is_bipartite()</code></td>
<td><code>print()</code></td>
</tr>
<tr class="odd">
<td>Edges directed or undirected?</td>
<td><code>is_directed()</code></td>
<td><code>print()</code></td>
</tr>
<tr class="even">
<td>Weighted? (or binary)</td>
<td><code>is_weighted()</code></td>
<td><code>print()</code></td>
</tr>
</tbody>
</table>
<dl>
<dt>vertex attribute</dt>
<dd>
vector of additional information about nodes in a network
</dd>
<dt>edge attribute</dt>
<dd>
vector of additional information about the edges in a network
</dd>
</dl>
<p>Q: how to get missing edge count in igraph?</p>
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>igraph</th>
<th>statnet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>display vertex attributes</td>
<td><code>vertex_attr_names()</code></td>
<td><code>list.vertex.attributes()</code></td>
</tr>
<tr class="even">
<td>display edge attributes</td>
<td><code>edge_attr_names()</code></td>
<td><code>list.edge.attributes()</code></td>
</tr>
</tbody>
</table>
<p>In igraph, attributes are accessed via <code>$</code>, using the <code>V</code> and <code>E</code> functions, as in:</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;">V</span>(karate.ig)<span class="sc" style="color: #5E5E5E;">$</span>name</span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;">E</span>(karate.ig)<span class="sc" style="color: #5E5E5E;">$</span>weight</span></code></pre></div>
<p>In statnet, they are accessed via the <code>%v%</code> and <code>%e%</code> mechanisms, as in:</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">karate.stat <span class="sc" style="color: #5E5E5E;">%v%</span> <span class="st" style="color: #20794D;">"vertex.names"</span></span>
<span id="cb6-2">karate.stat <span class="sc" style="color: #5E5E5E;">%e%</span> <span class="st" style="color: #20794D;">"weight"</span></span></code></pre></div>
<section id="getting-the-basic-network-descriptors" class="level3">
<h3 class="anchored" data-anchor-id="getting-the-basic-network-descriptors">Getting the basic network descriptors</h3>
<p>First look at any network is to examine the network <em>size</em>, <em>type</em> (un/directed, un/weighted, bipartite) and available <em>attributes of vertices and edges</em>.</p>
<section id="igraph" class="level4">
<h4 class="anchored" data-anchor-id="igraph">igraph</h4>
<p>Basic descriptors first:</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;">vcount</span>(climpref.ig)</span>
<span id="cb7-2">[<span class="dv" style="color: #AD0000;">1</span>] <span class="dv" style="color: #AD0000;">34</span></span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="fu" style="color: #4758AB;">ecount</span>(climpref.ig)</span>
<span id="cb7-5">[<span class="dv" style="color: #AD0000;">1</span>] <span class="dv" style="color: #AD0000;">531</span></span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="fu" style="color: #4758AB;">is_bipartite</span>(climpref.ig)</span>
<span id="cb7-8">[<span class="dv" style="color: #AD0000;">1</span>] <span class="cn" style="color: #8f5902;">FALSE</span></span>
<span id="cb7-9"></span>
<span id="cb7-10"><span class="fu" style="color: #4758AB;">is_directed</span>(climpref.ig)</span>
<span id="cb7-11">[<span class="dv" style="color: #AD0000;">1</span>] <span class="cn" style="color: #8f5902;">FALSE</span></span>
<span id="cb7-12"></span>
<span id="cb7-13"><span class="fu" style="color: #4758AB;">is_weighted</span>(climpref.ig)</span>
<span id="cb7-14">[<span class="dv" style="color: #AD0000;">1</span>] <span class="cn" style="color: #8f5902;">TRUE</span></span></code></pre></div>
<p>Listing vertex and edge attributes:</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="sc" style="color: #5E5E5E;">&gt;</span> <span class="fu" style="color: #4758AB;">vertex_attr_names</span>(climpref.ig)</span>
<span id="cb8-2">[<span class="dv" style="color: #AD0000;">1</span>] <span class="st" style="color: #20794D;">"name"</span>                 <span class="st" style="color: #20794D;">"Climate.council"</span>      <span class="st" style="color: #20794D;">"Klimaallianz"</span>        </span>
<span id="cb8-3">[<span class="dv" style="color: #AD0000;">4</span>] <span class="st" style="color: #20794D;">"Stiftung.Klimarappen"</span> <span class="st" style="color: #20794D;">"type3"</span>                <span class="st" style="color: #20794D;">"type5"</span>               </span>
<span id="cb8-4">[<span class="dv" style="color: #AD0000;">7</span>] <span class="st" style="color: #20794D;">"dm"</span>                  </span>
<span id="cb8-5"></span>
<span id="cb8-6"><span class="sc" style="color: #5E5E5E;">&gt;</span> <span class="fu" style="color: #4758AB;">edge_attr_names</span>(climpref.ig)</span>
<span id="cb8-7">[<span class="dv" style="color: #AD0000;">1</span>] <span class="st" style="color: #20794D;">"weight"</span></span></code></pre></div>
<p>Accessing vertex and edge attributes:</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="sc" style="color: #5E5E5E;">&gt;</span> <span class="fu" style="color: #4758AB;">V</span>(climpref.ig)<span class="sc" style="color: #5E5E5E;">$</span>name <span class="sc" style="color: #5E5E5E;">%&gt;%</span> <span class="fu" style="color: #4758AB;">head</span>()</span>
<span id="cb9-2">[<span class="dv" style="color: #AD0000;">1</span>] <span class="st" style="color: #20794D;">"AA"</span> <span class="st" style="color: #20794D;">"AB"</span> <span class="st" style="color: #20794D;">"AC"</span> <span class="st" style="color: #20794D;">"AD"</span> <span class="st" style="color: #20794D;">"AE"</span> <span class="st" style="color: #20794D;">"AF"</span></span>
<span id="cb9-3"></span>
<span id="cb9-4"><span class="fu" style="color: #4758AB;">E</span>(climpref.ig)<span class="sc" style="color: #5E5E5E;">$</span>weight <span class="sc" style="color: #5E5E5E;">%&gt;%</span> <span class="fu" style="color: #4758AB;">head</span>()</span>
<span id="cb9-5">[<span class="dv" style="color: #AD0000;">1</span>] <span class="fl" style="color: #AD0000;">0.69</span> <span class="fl" style="color: #AD0000;">0.08</span> <span class="fl" style="color: #AD0000;">0.04</span> <span class="fl" style="color: #AD0000;">0.18</span> <span class="fl" style="color: #AD0000;">0.42</span> <span class="fl" style="color: #AD0000;">0.21</span></span></code></pre></div>
</section>
<section id="statnet" class="level4">
<h4 class="anchored" data-anchor-id="statnet">statnet</h4>
<p>The basic descriptors in statnet are all <em>shown</em> by print():</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="sc" style="color: #5E5E5E;">&gt;</span> <span class="fu" style="color: #4758AB;">print</span>(flobusiness)</span>
<span id="cb10-2"> Network attributes<span class="sc" style="color: #5E5E5E;">:</span></span>
<span id="cb10-3">  vertices <span class="ot" style="color: #003B4F;">=</span> <span class="dv" style="color: #AD0000;">16</span> </span>
<span id="cb10-4">  directed <span class="ot" style="color: #003B4F;">=</span> <span class="cn" style="color: #8f5902;">FALSE</span> </span>
<span id="cb10-5">  hyper <span class="ot" style="color: #003B4F;">=</span> <span class="cn" style="color: #8f5902;">FALSE</span> </span>
<span id="cb10-6">  loops <span class="ot" style="color: #003B4F;">=</span> <span class="cn" style="color: #8f5902;">FALSE</span> </span>
<span id="cb10-7">  multiple <span class="ot" style="color: #003B4F;">=</span> <span class="cn" style="color: #8f5902;">FALSE</span> </span>
<span id="cb10-8">  bipartite <span class="ot" style="color: #003B4F;">=</span> <span class="cn" style="color: #8f5902;">FALSE</span> </span>
<span id="cb10-9">  total edges<span class="ot" style="color: #003B4F;">=</span> <span class="dv" style="color: #AD0000;">15</span> </span>
<span id="cb10-10">    missing edges<span class="ot" style="color: #003B4F;">=</span> <span class="dv" style="color: #AD0000;">0</span> </span>
<span id="cb10-11">    non<span class="sc" style="color: #5E5E5E;">-</span>missing edges<span class="ot" style="color: #003B4F;">=</span> <span class="dv" style="color: #AD0000;">15</span> </span>
<span id="cb10-12"></span>
<span id="cb10-13"> Vertex attribute names<span class="sc" style="color: #5E5E5E;">:</span> </span>
<span id="cb10-14">    priorates totalties vertex.names wealth </span>
<span id="cb10-15"></span>
<span id="cb10-16">No edge attributes</span></code></pre></div>
<p>It appears, though it’s thinly documented, that these attributes are programmatically accessible through the <code>$gal</code> attribute, as in <code>is_directed &lt;- flobusiness$gal$directed</code>:</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="sc" style="color: #5E5E5E;">&gt;</span> flobusiness<span class="sc" style="color: #5E5E5E;">$</span>gal</span>
<span id="cb11-2"><span class="sc" style="color: #5E5E5E;">$</span>n</span>
<span id="cb11-3">[<span class="dv" style="color: #AD0000;">1</span>] <span class="dv" style="color: #AD0000;">16</span></span>
<span id="cb11-4"></span>
<span id="cb11-5"><span class="sc" style="color: #5E5E5E;">$</span>mnext</span>
<span id="cb11-6">[<span class="dv" style="color: #AD0000;">1</span>] <span class="dv" style="color: #AD0000;">16</span></span>
<span id="cb11-7"></span>
<span id="cb11-8"><span class="sc" style="color: #5E5E5E;">$</span>directed</span>
<span id="cb11-9">[<span class="dv" style="color: #AD0000;">1</span>] <span class="cn" style="color: #8f5902;">FALSE</span></span>
<span id="cb11-10"></span>
<span id="cb11-11"><span class="sc" style="color: #5E5E5E;">$</span>hyper</span>
<span id="cb11-12">[<span class="dv" style="color: #AD0000;">1</span>] <span class="cn" style="color: #8f5902;">FALSE</span></span>
<span id="cb11-13"></span>
<span id="cb11-14"><span class="sc" style="color: #5E5E5E;">$</span>loops</span>
<span id="cb11-15">[<span class="dv" style="color: #AD0000;">1</span>] <span class="cn" style="color: #8f5902;">FALSE</span></span>
<span id="cb11-16"></span>
<span id="cb11-17"><span class="sc" style="color: #5E5E5E;">$</span>multiple</span>
<span id="cb11-18">[<span class="dv" style="color: #AD0000;">1</span>] <span class="cn" style="color: #8f5902;">FALSE</span></span>
<span id="cb11-19"></span>
<span id="cb11-20"><span class="sc" style="color: #5E5E5E;">$</span>bipartite</span>
<span id="cb11-21">[<span class="dv" style="color: #AD0000;">1</span>] <span class="cn" style="color: #8f5902;">FALSE</span></span></code></pre></div>
</section>
</section>
</section>
<section id="week-2-cheatsheet" class="level2">
<h2 class="anchored" data-anchor-id="week-2-cheatsheet">Week 2 cheatsheet</h2>
<p>A dyad census will count the reciprocal (<code>mut</code>), asymmetric (<code>asym</code>) and absent (<code>null</code>) dyads, based on directed graphs. In igraph:</p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">dyad.census</span>(trade2007.ig)</span>
<span id="cb12-2"><span class="sc" style="color: #5E5E5E;">$</span>mut</span>
<span id="cb12-3">[<span class="dv" style="color: #AD0000;">1</span>] <span class="dv" style="color: #AD0000;">11444</span></span>
<span id="cb12-4"></span>
<span id="cb12-5"><span class="sc" style="color: #5E5E5E;">$</span>asym</span>
<span id="cb12-6">[<span class="dv" style="color: #AD0000;">1</span>] <span class="dv" style="color: #AD0000;">3148</span></span>
<span id="cb12-7"></span>
<span id="cb12-8"><span class="sc" style="color: #5E5E5E;">$</span>null</span>
<span id="cb12-9">[<span class="dv" style="color: #AD0000;">1</span>] <span class="dv" style="color: #AD0000;">2244</span></span></code></pre></div>
<p>In statnet:</p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">dyad.census</span>()</span>
<span id="cb13-2"> [<span class="dv" style="color: #AD0000;">1</span>]   <span class="dv" style="color: #AD0000;">6225</span>  <span class="dv" style="color: #AD0000;">19035</span>  <span class="dv" style="color: #AD0000;">40611</span>   <span class="dv" style="color: #AD0000;">6442</span>   <span class="dv" style="color: #AD0000;">7044</span>  <span class="dv" style="color: #AD0000;">10097</span>  <span class="dv" style="color: #AD0000;">55355</span>  <span class="dv" style="color: #AD0000;">44966</span>   <span class="dv" style="color: #AD0000;">9200</span>   <span class="dv" style="color: #AD0000;">1876</span></span>
<span id="cb13-3">[<span class="dv" style="color: #AD0000;">11</span>] <span class="dv" style="color: #AD0000;">146537</span>  <span class="dv" style="color: #AD0000;">25578</span>  <span class="dv" style="color: #AD0000;">17167</span>  <span class="dv" style="color: #AD0000;">30894</span> <span class="dv" style="color: #AD0000;">225908</span> <span class="dv" style="color: #AD0000;">374449</span></span></code></pre></div>
<p>Triad census is similar:</p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">triad_census</span>(trade2007.ig)</span></code></pre></div>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">triad.census</span>(gotbook.stat, <span class="at" style="color: #657422;">mode=</span><span class="st" style="color: #20794D;">"graph"</span>)  <span class="co" style="color: #5E5E5E;"># undirected</span></span>
<span id="cb15-2">      </span>
<span id="cb15-3">sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">triad.census</span>(trade2007.stat)              <span class="co" style="color: #5E5E5E;"># directed</span></span>
<span id="cb15-4">      <span class="dv" style="color: #AD0000;">003</span>   <span class="dv" style="color: #AD0000;">012</span>   <span class="dv" style="color: #AD0000;">102</span> 021D 021U 021C  111D  111U 030T 030C   <span class="dv" style="color: #AD0000;">201</span>  120D</span>
<span id="cb15-5">[<span class="dv" style="color: #AD0000;">1</span>,] <span class="dv" style="color: #AD0000;">6225</span> <span class="dv" style="color: #AD0000;">13655</span> <span class="dv" style="color: #AD0000;">26489</span> <span class="dv" style="color: #AD0000;">4225</span> <span class="dv" style="color: #AD0000;">4657</span> <span class="dv" style="color: #AD0000;">4821</span> <span class="dv" style="color: #AD0000;">34812</span> <span class="dv" style="color: #AD0000;">23635</span> <span class="dv" style="color: #AD0000;">4374</span>  <span class="dv" style="color: #AD0000;">537</span> <span class="dv" style="color: #AD0000;">97088</span> <span class="dv" style="color: #AD0000;">15073</span></span>
<span id="cb15-6">     120U  120C    <span class="dv" style="color: #AD0000;">210</span>    <span class="dv" style="color: #AD0000;">300</span></span>
<span id="cb15-7">[<span class="dv" style="color: #AD0000;">1</span>,] <span class="dv" style="color: #AD0000;">7947</span> <span class="dv" style="color: #AD0000;">14249</span> <span class="dv" style="color: #AD0000;">136169</span> <span class="dv" style="color: #AD0000;">283855</span></span></code></pre></div>
<p>Note that the <code>statnet</code> version gives us information about the types of triads as column names in the matrix it returns. The <code>igraph</code> version also breaks them into the 16 categories, but returns them in a fixed order not detailed in its return value (described in its help documentation).</p>
<p>The total number of possible triads in a 298 vertex network is (298 x 297 x 296) / (3 x 2 x 1) - the 3 countdown comes from “triad”. Quads would be (298 x 297 x 296 x 295) / (4 x 3 x 2 x 1).</p>
<section id="transitivity" class="level3">
<h3 class="anchored" data-anchor-id="transitivity">Transitivity</h3>
<p>Transitivity is the percentage of potential connected triads - how many are complete. Basic way in igraph is <code>transitivity()</code>. The statnet version is <code>gtrans()</code>, but it only works in directed networks. <code>print()</code> will say whether the network is directed. (Note: in the tutorial, we see that the climate network IS directed, but it returns a different result than igraph: 0.627 vs 0.724. Not clear why. “it is calculating a transitivity score based on an understanding of network structure rooted in hierarchy”)</p>
<p>Local transitivity is the <code>local clustering coefficient</code> - how many nodes of an ego are connected to each other. Have to unpack this, but the magic is:</p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="fu" style="color: #4758AB;">transitivity</span>(gotbook.ig, <span class="at" style="color: #657422;">type=</span><span class="st" style="color: #20794D;">"local"</span>, </span>
<span id="cb16-2">  <span class="at" style="color: #657422;">vids=</span><span class="fu" style="color: #4758AB;">V</span>(gotbook.ig)[</span>
<span id="cb16-3">  <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"Petyr Baelish"</span>,<span class="st" style="color: #20794D;">"Jon Snow"</span>, <span class="st" style="color: #20794D;">"Tyrion Lannister"</span>)]) </span></code></pre></div>
<p>The global clustering coefficient in igraph is</p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;">transitivity</span>(trade2007.ig, <span class="at" style="color: #657422;">type=</span><span class="st" style="color: #20794D;">"global"</span>)</span>
<span id="cb17-2">[<span class="dv" style="color: #AD0000;">1</span>] <span class="fl" style="color: #AD0000;">0.8837142</span></span></code></pre></div>
<p>The local coefficient is:</p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="fu" style="color: #4758AB;">transitivity</span>(trade2007.ig, <span class="at" style="color: #657422;">type=</span><span class="st" style="color: #20794D;">"average"</span>)</span>
<span id="cb18-2">[<span class="dv" style="color: #AD0000;">1</span>] <span class="fl" style="color: #AD0000;">0.8862707</span></span></code></pre></div>
<p>Network transitivity in statnet is <code>gtrans()</code>:</p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;">gtrans</span>(trade2007.stat)</span>
<span id="cb19-2">[<span class="dv" style="color: #AD0000;">1</span>] <span class="fl" style="color: #AD0000;">0.9993143</span></span></code></pre></div>
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>igraph</th>
<th>statnet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>global clustering coefficient</td>
<td><code>transitivity(trade2007.ig,  type="global")</code></td>
<td><code>gtrans(trade2007.stat)</code> (directed only)</td>
</tr>
<tr class="even">
<td>local clustering coefficient</td>
<td><code>transitivity(trade2007.ig,  type="local")</code></td>
<td>???</td>
</tr>
<tr class="odd">
<td>average local clustering coefficient</td>
<td><code>transitivity(trade2007.ig,  type="average")</code></td>
<td>???</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="degree" class="level2">
<h2 class="anchored" data-anchor-id="degree">Degree</h2>
<p><code>igraph::degree()</code> and <code>statnet::degree()</code>, and once again they give different results; igraph includes loops, statnet doesn’t. Force igraph to ignore them with <code>loops = FALSE</code>. “Note that setting <code>diag=TRUE</code> in <code>sna::degree</code> does not guarantee equivalence as statnet only single counts the loops in a directed network, while igraph double-counts the loops.”</p>
<p>igraph shows the node names, statnet doesn’t.</p>
<p>Getting the degree of a particular set of nodes in <code>igraph</code>:</p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="sc" style="color: #5E5E5E;">&gt;</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(trade2007.ig, <span class="at" style="color: #657422;">v =</span> <span class="fu" style="color: #4758AB;">V</span>(trade2007.ig)[<span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"China"</span>, <span class="st" style="color: #20794D;">"Canada"</span>, <span class="st" style="color: #20794D;">"United Kingdom"</span>, <span class="st" style="color: #20794D;">"Denmark"</span>)])</span>
<span id="cb20-2">         China         Canada United Kingdom        Denmark </span>
<span id="cb20-3">           <span class="dv" style="color: #AD0000;">364</span>            <span class="dv" style="color: #AD0000;">364</span>            <span class="dv" style="color: #AD0000;">364</span>            <span class="dv" style="color: #AD0000;">362</span> </span></code></pre></div>
<p>This can also be done by index, as in:</p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="sc" style="color: #5E5E5E;">&gt;</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(flo_ig, <span class="at" style="color: #657422;">v =</span> <span class="dv" style="color: #AD0000;">1</span><span class="sc" style="color: #5E5E5E;">:</span><span class="dv" style="color: #AD0000;">3</span>)</span>
<span id="cb21-2">Acciaiuoli    Albizzi  Barbadori </span>
<span id="cb21-3">         <span class="dv" style="color: #AD0000;">2</span>          <span class="dv" style="color: #AD0000;">6</span>          <span class="dv" style="color: #AD0000;">4</span> </span></code></pre></div>
<p>Statnet degrees aren’t named:</p>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><span class="sc" style="color: #5E5E5E;">&gt;</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(flo_stat)</span>
<span id="cb22-2"> [<span class="dv" style="color: #AD0000;">1</span>]  <span class="dv" style="color: #AD0000;">2</span>  <span class="dv" style="color: #AD0000;">6</span>  <span class="dv" style="color: #AD0000;">4</span>  <span class="dv" style="color: #AD0000;">6</span>  <span class="dv" style="color: #AD0000;">6</span>  <span class="dv" style="color: #AD0000;">2</span>  <span class="dv" style="color: #AD0000;">8</span>  <span class="dv" style="color: #AD0000;">2</span> <span class="dv" style="color: #AD0000;">12</span>  <span class="dv" style="color: #AD0000;">2</span>  <span class="dv" style="color: #AD0000;">6</span>  <span class="dv" style="color: #AD0000;">0</span>  <span class="dv" style="color: #AD0000;">6</span>  <span class="dv" style="color: #AD0000;">4</span>  <span class="dv" style="color: #AD0000;">8</span>  <span class="dv" style="color: #AD0000;">6</span></span>
<span id="cb22-3"><span class="sc" style="color: #5E5E5E;">&gt;</span> <span class="fu" style="color: #4758AB;">which</span>(sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(flo_stat) <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">0</span>)</span>
<span id="cb22-4">[<span class="dv" style="color: #AD0000;">1</span>] <span class="dv" style="color: #AD0000;">12</span></span></code></pre></div>
<section id="indegree-and-outdegree-calculations" class="level3">
<h3 class="anchored" data-anchor-id="indegree-and-outdegree-calculations"><em>Indegree</em> and <em>outdegree</em> calculations</h3>
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>igraph</th>
<th>statnet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>indegree</td>
<td><code>igraph::degree(climate.ig,mode="in", loops = FALSE)</code></td>
<td><code>sna::degree(climate.stat, cmode="indegree")</code></td>
</tr>
<tr class="even">
<td>outdegree</td>
<td><code>igraph::degree(climate.ig,mode="out", loops = FALSE)</code></td>
<td><code>sna::degree(climate.stat, cmode="outdegree")</code></td>
</tr>
</tbody>
</table>
<p>Code from the tutorial to create <code>data.frame</code>s with degree statistics:</p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="co" style="color: #5E5E5E;">#igraph:</span></span>
<span id="cb23-2"></span>
<span id="cb23-3">trade2007.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">data.frame</span>(<span class="at" style="color: #657422;">name =</span> <span class="fu" style="color: #4758AB;">V</span>(trade2007.ig)<span class="sc" style="color: #5E5E5E;">$</span>name,</span>
<span id="cb23-4">    <span class="at" style="color: #657422;">totdegree =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(trade2007.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb23-5">    <span class="at" style="color: #657422;">indegree =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(trade2007.ig, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"in"</span>, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb23-6">    <span class="at" style="color: #657422;">outdegree =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(trade2007.ig, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"out"</span>, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>))</span>
<span id="cb23-7"></span>
<span id="cb23-8"><span class="co" style="color: #5E5E5E;">#statnet version:</span></span>
<span id="cb23-9"></span>
<span id="cb23-10">trade2007.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">data.frame</span>(<span class="at" style="color: #657422;">name =</span> trade2007.stat<span class="sc" style="color: #5E5E5E;">%v%</span><span class="st" style="color: #20794D;">"vertex.names"</span>,</span>
<span id="cb23-11">    <span class="at" style="color: #657422;">totdegree =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(trade2007.stat),</span>
<span id="cb23-12">    <span class="at" style="color: #657422;">indegree =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(trade2007.stat, <span class="at" style="color: #657422;">cmode =</span> <span class="st" style="color: #20794D;">"indegree"</span>),</span>
<span id="cb23-13">    <span class="at" style="color: #657422;">outdegree =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(trade2007.stat, <span class="at" style="color: #657422;">cmode =</span> <span class="st" style="color: #20794D;">"outdegree"</span>))</span></code></pre></div>
</section>
</section>
<section id="components" class="level2">
<h2 class="anchored" data-anchor-id="components">Components</h2>
<p>Shortest path length between 2 nodes: igraph <code>distances()</code> does this.</p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><span class="fu" style="color: #4758AB;">distances</span>(gotbook.ig,<span class="st" style="color: #20794D;">"Petyr Baelish"</span>,<span class="st" style="color: #20794D;">"Robb Stark"</span>)</span>
<span id="cb24-2"><span class="co" style="color: #5E5E5E;"># Calculate distance using unweighted edges</span></span>
<span id="cb24-3"><span class="fu" style="color: #4758AB;">distances</span>(gotbook.ig,<span class="st" style="color: #20794D;">"Petyr Baelish"</span>,<span class="st" style="color: #20794D;">"Robb Stark"</span>, <span class="at" style="color: #657422;">weights=</span><span class="cn" style="color: #8f5902;">NA</span>)</span>
<span id="cb24-4"><span class="co" style="color: #5E5E5E;"># list shortest paths between 2 nodes</span></span>
<span id="cb24-5"><span class="fu" style="color: #4758AB;">all_shortest_paths</span>(gotbook.ig,<span class="st" style="color: #20794D;">"Bronn"</span>,<span class="st" style="color: #20794D;">"Varys"</span>, <span class="at" style="color: #657422;">weights=</span><span class="cn" style="color: #8f5902;">NA</span>)<span class="sc" style="color: #5E5E5E;">$</span>res</span>
<span id="cb24-6"><span class="co" style="color: #5E5E5E;">#find average shortest path for network</span></span>
<span id="cb24-7"><span class="fu" style="color: #4758AB;">average.path.length</span>(gotbook.ig,<span class="at" style="color: #657422;">directed=</span>F)</span></code></pre></div>
<p>Component structure and membership</p>
<p><em>Note</em>: a graph is fully connected if its number of components is 1. igraph returns this as the <code>no</code> parameter of <code>igraph::components()</code>; it appears that statnet has no parallel function, but if the number of isolates is 0, the graph is connected (<code>sna::isolates()</code>).</p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="co" style="color: #5E5E5E;"># What element are returned by components</span></span>
<span id="cb25-2"><span class="fu" style="color: #4758AB;">names</span>(igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">components</span>(gotbook.ig))</span>
<span id="cb25-3"></span>
<span id="cb25-4"><span class="co" style="color: #5E5E5E;"># Number of components</span></span>
<span id="cb25-5">igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">components</span>(gotbook.ig)<span class="sc" style="color: #5E5E5E;">$</span>no </span>
<span id="cb25-6"></span>
<span id="cb25-7"><span class="co" style="color: #5E5E5E;"># Size of each component</span></span>
<span id="cb25-8">igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">components</span>(gotbook.ig)<span class="sc" style="color: #5E5E5E;">$</span>csize </span>
<span id="cb25-9"></span>
<span id="cb25-10"><span class="co" style="color: #5E5E5E;"># retrieve the index of isolate nodes</span></span>
<span id="cb25-11"><span class="co" style="color: #5E5E5E;"># (nodes with component count of 1 from "components" above)</span></span>
<span id="cb25-12"><span class="fu" style="color: #4758AB;">isolates</span>(gotbook.stat)</span>
<span id="cb25-13"></span>
<span id="cb25-14"><span class="co" style="color: #5E5E5E;"># There is no direct command in igraph, but we can do this:</span></span>
<span id="cb25-15"><span class="co" style="color: #5E5E5E;"># Create a list of the degree of each node in the network</span></span>
<span id="cb25-16">deg_counts <span class="ot" style="color: #003B4F;">&lt;-</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(gotbook.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>)</span>
<span id="cb25-17"></span>
<span id="cb25-18"><span class="co" style="color: #5E5E5E;"># filter and count the nodes with 0 degrees (or any other quantity of interest)</span></span>
<span id="cb25-19"><span class="fu" style="color: #4758AB;">length</span>(deg_counts[deg_counts <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">0</span>])</span>
<span id="cb25-20"></span>
<span id="cb25-21"><span class="co" style="color: #5E5E5E;"># subset vertex.names attribute to get names of isolates</span></span>
<span id="cb25-22"><span class="fu" style="color: #4758AB;">as.vector</span>(gotbook.stat <span class="sc" style="color: #5E5E5E;">%v%</span> <span class="st" style="color: #20794D;">'vertex.names'</span>)[<span class="fu" style="color: #4758AB;">c</span>(<span class="fu" style="color: #4758AB;">isolates</span>(gotbook.stat))] <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb25-23">  <span class="fu" style="color: #4758AB;">head</span>()</span>
<span id="cb25-24"><span class="do" style="color: #5E5E5E;
font-style: italic;">##   [1] "Aegon Frey (Jinglebell)"         "Alebelly"                       </span></span>
<span id="cb25-25"><span class="do" style="color: #5E5E5E;
font-style: italic;">##   [3] "Alfyn"                           "Allar Deem"                     </span></span>
<span id="cb25-26"><span class="do" style="color: #5E5E5E;
font-style: italic;">##   [5] "Antario Jast"                    "Balman Byrch"    </span></span></code></pre></div>
</section>
<section id="graph-density" class="level2">
<h2 class="anchored" data-anchor-id="graph-density">Graph density</h2>
<p>Note: <code>network.density()</code> (statnet) ignores edge values “at present”.</p>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><span class="co" style="color: #5E5E5E;">#get network density: igraph</span></span>
<span id="cb26-2"><span class="fu" style="color: #4758AB;">graph.density</span>(climate.ig)</span>
<span id="cb26-3"></span>
<span id="cb26-4"><span class="do" style="color: #5E5E5E;
font-style: italic;">## [1] 0.4117647</span></span>
<span id="cb26-5"></span>
<span id="cb26-6"><span class="co" style="color: #5E5E5E;">#get network density: statnet</span></span>
<span id="cb26-7"><span class="fu" style="color: #4758AB;">network.density</span>(climate.stat)</span>
<span id="cb26-8"></span>
<span id="cb26-9"><span class="do" style="color: #5E5E5E;
font-style: italic;">## [1] 0.399654</span></span></code></pre></div>
<p>Adding <code>loops = TRUE</code> to <code>graph.density()</code> appears to fix the problem and gets the two packages to agree:</p>
<div class="sourceCode" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><span class="co" style="color: #5E5E5E;">#get network density without loops: igraph</span></span>
<span id="cb27-2"><span class="fu" style="color: #4758AB;">graph.density</span>(climate.ig, <span class="at" style="color: #657422;">loops=</span><span class="cn" style="color: #8f5902;">TRUE</span>)</span>
<span id="cb27-3"></span>
<span id="cb27-4"><span class="do" style="color: #5E5E5E;
font-style: italic;">## [1] 0.399654</span></span></code></pre></div>
<p><em>SO</em>, it’s safest to always do either: - <code>graph.density(climate.ig, loops=TRUE)</code> (igraph), OR - <code>network.density(climate.stat)</code> (statnet)</p>
<p>In statnet, we can get network density with loops (nodes connecting to themselves) omitted:</p>
<div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><span class="co" style="color: #5E5E5E;">#get network density without loops: statnet</span></span>
<span id="cb28-2"><span class="fu" style="color: #4758AB;">gden</span>(climate.stat, <span class="at" style="color: #657422;">diag=</span><span class="cn" style="color: #8f5902;">FALSE</span>)</span>
<span id="cb28-3"></span>
<span id="cb28-4"><span class="do" style="color: #5E5E5E;
font-style: italic;">## [1] 0.3921569</span></span></code></pre></div>
</section>
<section id="network-degree-centralization" class="level2">
<h2 class="anchored" data-anchor-id="network-degree-centralization">Network degree centralization</h2>
<p>In <code>statnet</code>, call <code>centralization()</code> with the <code>degree</code> function and appropriate parameters for <code>degree</code> in the <code>cmode</code> argument:</p>
<div class="sourceCode" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><span class="fu" style="color: #4758AB;">centralization</span>(climate.stat, degree, <span class="at" style="color: #657422;">cmode=</span><span class="st" style="color: #20794D;">"indegree"</span>)</span>
<span id="cb29-2"><span class="fu" style="color: #4758AB;">centralization</span>(climate.stat, degree, <span class="at" style="color: #657422;">cmode=</span><span class="st" style="color: #20794D;">"outdegree"</span>)</span>
<span id="cb29-3"><span class="fu" style="color: #4758AB;">centralization</span>(climate.stat, degree, <span class="at" style="color: #657422;">cmode=</span><span class="st" style="color: #20794D;">"freeman"</span>) <span class="co" style="color: #5E5E5E;"># default</span></span></code></pre></div>
<p>Could also call it with other <code>sna</code> functions like <code>betweenness</code>, <code>closeness</code></p>
<p>The <code>igraph</code> version uses <code>centr_degree()</code> and returns an object with several components, of which <code>centralization</code> is one:</p>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><span class="fu" style="color: #4758AB;">centr_degree</span>(climate.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"in"</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb30-2"><span class="fu" style="color: #4758AB;">centr_degree</span>(climate.ig, <span class="at" style="color: #657422;">loops =</span> <span class="cn" style="color: #8f5902;">FALSE</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"out"</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span></code></pre></div>
<section id="eigenvector-centralization" class="level3">
<h3 class="anchored" data-anchor-id="eigenvector-centralization">Eigenvector centralization</h3>
<p><code>statnet</code> uses <code>evcent()</code> to calculate the eigenvalue centrality score for each node in the network:</p>
<div class="sourceCode" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><span class="fu" style="color: #4758AB;">evcent</span>(imf2014.stat, <span class="at" style="color: #657422;">ignore.eval=</span><span class="cn" style="color: #8f5902;">TRUE</span>)<span class="er" style="color: #AD0000;">)</span></span></code></pre></div>
<p>Eigenvector centrality index for the network:</p>
<div class="sourceCode" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><span class="fu" style="color: #4758AB;">centralization</span>(imf2014.stat, evcent)</span></code></pre></div>
<p>In <code>igraph</code>, a set of eigenvector-related information is created with <code>centr_eigen()</code>:</p>
<div class="sourceCode" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><span class="co" style="color: #5E5E5E;"># If the network is directed, specify "directed - T" - will not auto-detect</span></span>
<span id="cb33-2">eigen_info <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">centr_eigen</span>(imf2014.ig, <span class="at" style="color: #657422;">directed =</span> T)</span>
<span id="cb33-3"><span class="co" style="color: #5E5E5E;"># Centrality score for node 3:</span></span>
<span id="cb33-4">eigen_info[<span class="dv" style="color: #AD0000;">3</span>]<span class="sc" style="color: #5E5E5E;">$</span>vector</span>
<span id="cb33-5"><span class="co" style="color: #5E5E5E;"># Eigenveector centrality index for the network:</span></span>
<span id="cb33-6">eigen_info<span class="sc" style="color: #5E5E5E;">$</span>centralization</span></code></pre></div>
<p><strong>The scores calculated by <code>igraph</code> and <code>statnet</code> are different. We aren’t sure why.</strong> It appears that igraph <a href="https://stackoverflow.com/questions/21035598/what-is-evcent-returning-for-directed-graphs">counts incoming ties to calculate eigenvector centrality</a>, and statnet <a href="http://mailman13.u.washington.edu/pipermail/statnet_help/2015/002170.html">recommends using Bonachic power instead for directed networks</a>.</p>
</section>
<section id="bonacich-power-centrality" class="level3">
<h3 class="anchored" data-anchor-id="bonacich-power-centrality">Bonacich Power Centrality</h3>
<p><code>igraph</code>:</p>
<div class="sourceCode" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><span class="fu" style="color: #4758AB;">power_centrality</span>(imf2014.ig)</span></code></pre></div>
<p><code>statnet</code>:</p>
<div class="sourceCode" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><span class="fu" style="color: #4758AB;">bonpow</span>(imf2014.stat)</span></code></pre></div>
<p>Again, there appear to be some inconsistency between <code>igraph</code> and <code>statnet</code> in the calculations, with statnet apparently not incorporating weights and failing on singular matrices.</p>
</section>
<section id="derived-and-reflected-centrality" class="level3">
<h3 class="anchored" data-anchor-id="derived-and-reflected-centrality">Derived and Reflected Centrality</h3>
<p>There are no library routines for these calculations. Convert the data to a matrix first:</p>
<div class="sourceCode" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1">mat2014 <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.matrix</span>(<span class="fu" style="color: #4758AB;">as_adjacency_matrix</span>(imf2014.ig, <span class="at" style="color: #657422;">attr=</span><span class="st" style="color: #20794D;">"weight"</span>))</span></code></pre></div>
<blockquote class="blockquote">
<p>To calculate the proportion of centrality that is received, we first square the adjacency matrix. The diagonal of the adjacency matrix is equal to the the square of node degree. We then divide this diagonal (sqared degree) by total sqaured indegree (calculated by rowSums) to get the proportion of received centrality.</p>
</blockquote>
<div class="sourceCode" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><span class="co" style="color: #5E5E5E;"># square the adjacency matrix</span></span>
<span id="cb37-2">mat2014sq <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">t</span>(mat2014) <span class="sc" style="color: #5E5E5E;">%*%</span> mat2014</span>
<span id="cb37-3"></span>
<span id="cb37-4"><span class="co" style="color: #5E5E5E;"># Calculate the proportion of reflected centrality.</span></span>
<span id="cb37-5">imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">diag</span>(mat2014sq) <span class="sc" style="color: #5E5E5E;">/</span> <span class="fu" style="color: #4758AB;">rowSums</span>(mat2014sq)</span>
<span id="cb37-6"></span>
<span id="cb37-7"><span class="co" style="color: #5E5E5E;"># freplace missing values with 0</span></span>
<span id="cb37-8">imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ifelse</span>(<span class="fu" style="color: #4758AB;">is.nan</span>(imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc), <span class="dv" style="color: #AD0000;">0</span>, imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc)</span>
<span id="cb37-9"></span>
<span id="cb37-10"><span class="co" style="color: #5E5E5E;"># Calculate received eigenvalue centrality</span></span>
<span id="cb37-11">imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>eigen.rc <span class="ot" style="color: #003B4F;">&lt;-</span> imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>eigen <span class="sc" style="color: #5E5E5E;">*</span> imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc</span></code></pre></div>
<blockquote class="blockquote">
<p>If total centraltiy is 1, then derived centrality is simply 1 - the proportion of eigenvector centrality due to received centrality.</p>
</blockquote>
<div class="sourceCode" id="cb38" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><span class="co" style="color: #5E5E5E;"># Calculate the proportion of derived centrality.</span></span>
<span id="cb38-2">imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>dc <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> <span class="fu" style="color: #4758AB;">diag</span>(mat2014sq) <span class="sc" style="color: #5E5E5E;">/</span> <span class="fu" style="color: #4758AB;">rowSums</span>(mat2014sq)</span>
<span id="cb38-3"></span>
<span id="cb38-4"><span class="co" style="color: #5E5E5E;"># replace missing values with 0</span></span>
<span id="cb38-5">imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>dc <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ifelse</span>(<span class="fu" style="color: #4758AB;">is.nan</span>(imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>dc), <span class="dv" style="color: #AD0000;">1</span>, imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>dc)</span>
<span id="cb38-6"></span>
<span id="cb38-7"><span class="co" style="color: #5E5E5E;"># Calculate received eigenvalue centrality</span></span>
<span id="cb38-8">imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>eigen.dc <span class="ot" style="color: #003B4F;">&lt;-</span> imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>eigen <span class="sc" style="color: #5E5E5E;">*</span> imf2014.nodes<span class="sc" style="color: #5E5E5E;">$</span>dc</span></code></pre></div>
</section>
</section>
<section id="week-5-big-block-of-basic-code" class="level2">
<h2 class="anchored" data-anchor-id="week-5-big-block-of-basic-code">Week 5: Big Block of Basic Code</h2>
<p>Big Blocks of Basic Code to get a bunch of measures of a network:</p>
<div class="sourceCode" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><span class="co" style="color: #5E5E5E;"># Get the basic stuff we can do all at once with igraph</span></span>
<span id="cb39-2">climinfl.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">data.frame</span>(</span>
<span id="cb39-3">    <span class="at" style="color: #657422;">name      =</span> <span class="fu" style="color: #4758AB;">V</span>(climinfl.ig)<span class="sc" style="color: #5E5E5E;">$</span>name,</span>
<span id="cb39-4">    <span class="at" style="color: #657422;">totdegree =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(climinfl.ig, <span class="at" style="color: #657422;">loops=</span><span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb39-5">    <span class="at" style="color: #657422;">indegree  =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(climinfl.ig, <span class="at" style="color: #657422;">mode=</span><span class="st" style="color: #20794D;">"in"</span>, <span class="at" style="color: #657422;">loops=</span><span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb39-6">    <span class="at" style="color: #657422;">outdegree =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(climinfl.ig, <span class="at" style="color: #657422;">mode=</span><span class="st" style="color: #20794D;">"out"</span>, <span class="at" style="color: #657422;">loops=</span><span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb39-7">    <span class="at" style="color: #657422;">eigen     =</span> <span class="fu" style="color: #4758AB;">centr_eigen</span>(climinfl.ig, <span class="at" style="color: #657422;">directed =</span> T)<span class="sc" style="color: #5E5E5E;">$</span>vector,</span>
<span id="cb39-8">    <span class="at" style="color: #657422;">bonanich  =</span> <span class="fu" style="color: #4758AB;">power_centrality</span>(climinfl.ig),</span>
<span id="cb39-9">    <span class="at" style="color: #657422;">centr_clo =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">closeness</span>(climinfl.ig),</span>
<span id="cb39-10">    <span class="at" style="color: #657422;">centr_btw =</span> igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">betweenness</span>(climinfl.ig, <span class="at" style="color: #657422;">directed =</span> <span class="cn" style="color: #8f5902;">FALSE</span>),</span>
<span id="cb39-11">    <span class="co" style="color: #5E5E5E;"># igraph only</span></span>
<span id="cb39-12">    <span class="at" style="color: #657422;">burt      =</span> <span class="fu" style="color: #4758AB;">constraint</span>(climinfl.ig)</span>
<span id="cb39-13">)</span>
<span id="cb39-14"><span class="co" style="color: #5E5E5E;"># Network-level measures:</span></span>
<span id="cb39-15"><span class="co" style="color: #5E5E5E;">#   closeness centralization</span></span>
<span id="cb39-16">climinfl.centr_clo <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centr_clo</span>(climpref.ig)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb39-17"><span class="co" style="color: #5E5E5E;">#   betweenness centralization</span></span>
<span id="cb39-18">climinfl.centr_btw <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centr_betw</span>(climpref.ig, <span class="at" style="color: #657422;">directed =</span> <span class="cn" style="color: #8f5902;">FALSE</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb39-19"></span>
<span id="cb39-20"><span class="co" style="color: #5E5E5E;"># statnet version</span></span>
<span id="cb39-21">climinfl.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">data.frame</span>(</span>
<span id="cb39-22">    <span class="at" style="color: #657422;">name      =</span> climinfl.stat <span class="sc" style="color: #5E5E5E;">%v%</span> <span class="st" style="color: #20794D;">"vertex.names"</span>,</span>
<span id="cb39-23">    <span class="at" style="color: #657422;">totdegree =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(climinfl.stat),</span>
<span id="cb39-24">    <span class="at" style="color: #657422;">indegree  =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(climinfl.stat, <span class="at" style="color: #657422;">cmode =</span> <span class="st" style="color: #20794D;">"indegree"</span>),</span>
<span id="cb39-25">    <span class="at" style="color: #657422;">outdegree =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">degree</span>(climinfl.stat, <span class="at" style="color: #657422;">cmode =</span> <span class="st" style="color: #20794D;">"outdegree"</span>),</span>
<span id="cb39-26">    <span class="at" style="color: #657422;">eigen     =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">evcent</span>(climinfl.stat, <span class="at" style="color: #657422;">ignore.eval =</span> <span class="cn" style="color: #8f5902;">TRUE</span>),</span>
<span id="cb39-27">    <span class="at" style="color: #657422;">bonanich  =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">bonpow</span>(climinfl.stat),</span>
<span id="cb39-28">    <span class="at" style="color: #657422;">centr_clo =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">closeness</span>(climinfl.stat, <span class="at" style="color: #657422;">gmode =</span> <span class="st" style="color: #20794D;">"graph"</span>,</span>
<span id="cb39-29">                               <span class="at" style="color: #657422;">cmode =</span> <span class="st" style="color: #20794D;">"suminvundir"</span>),</span>
<span id="cb39-30">    <span class="at" style="color: #657422;">centr_btw =</span> sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">betweenness</span>(climinfl.stat, <span class="at" style="color: #657422;">gmode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span>
<span id="cb39-31">)</span>
<span id="cb39-32"><span class="co" style="color: #5E5E5E;"># Network-level measures:</span></span>
<span id="cb39-33"><span class="co" style="color: #5E5E5E;">#   closeness centralization</span></span>
<span id="cb39-34">climinfl.centr_clo <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centralization</span>(climinfl.stat, sna<span class="sc" style="color: #5E5E5E;">::</span>closeness, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span>
<span id="cb39-35"><span class="co" style="color: #5E5E5E;">#   betweenness centralization</span></span>
<span id="cb39-36">climinfl.centr_btw <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centralization</span>(climinfl.stat, sna<span class="sc" style="color: #5E5E5E;">::</span>betweenness, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span>
<span id="cb39-37"></span>
<span id="cb39-38"><span class="co" style="color: #5E5E5E;"># Statnet-only: Gould-Fernandez Brokerage</span></span>
<span id="cb39-39"><span class="co" style="color: #5E5E5E;"># replace ATTR with the vector of the desired attribute, such as</span></span>
<span id="cb39-40"><span class="co" style="color: #5E5E5E;"># `climinfl.nodes$orgtype5`</span></span>
<span id="cb39-41">temp <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">data.frame</span>(<span class="fu" style="color: #4758AB;">brokerage</span>(climinfl.stat, <span class="at" style="color: #657422;">cl =</span> ATTR)<span class="sc" style="color: #5E5E5E;">$</span>z.nli)</span>
<span id="cb39-42">climinfl.nodes <span class="ot" style="color: #003B4F;">&lt;-</span> climinfl.nodes <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb39-43">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">broker.tot =</span> temp<span class="sc" style="color: #5E5E5E;">$</span>t,</span>
<span id="cb39-44">         <span class="at" style="color: #657422;">broker.coord =</span> temp<span class="sc" style="color: #5E5E5E;">$</span>w_I,</span>
<span id="cb39-45">         <span class="at" style="color: #657422;">broker.itin =</span> temp<span class="sc" style="color: #5E5E5E;">$</span>w_O,</span>
<span id="cb39-46">         <span class="at" style="color: #657422;">broker.rep =</span> temp<span class="sc" style="color: #5E5E5E;">$</span>b_IO,</span>
<span id="cb39-47">         <span class="at" style="color: #657422;">broker.gate =</span> temp<span class="sc" style="color: #5E5E5E;">$</span>b_OI,</span>
<span id="cb39-48">         <span class="at" style="color: #657422;">broker.lia =</span> temp<span class="sc" style="color: #5E5E5E;">$</span>b_O)</span>
<span id="cb39-49"></span>
<span id="cb39-50"><span class="co" style="color: #5E5E5E;"># Calculated measures not specific to igraph or statnet:</span></span>
<span id="cb39-51"><span class="co" style="color: #5E5E5E;"># Build the derived and reflected centrality (dc/rc) measures</span></span>
<span id="cb39-52"><span class="co" style="color: #5E5E5E;"># "To calculate the proportion of centrality that is received, we first</span></span>
<span id="cb39-53"><span class="co" style="color: #5E5E5E;"># square the adjacency matrix. The diagonal of the adjacency matrix is</span></span>
<span id="cb39-54"><span class="co" style="color: #5E5E5E;"># equal to the the square of node degree. We then divide this diagonal</span></span>
<span id="cb39-55"><span class="co" style="color: #5E5E5E;"># (squared degree) by total squared indegree (calculated by rowSums) to get</span></span>
<span id="cb39-56"><span class="co" style="color: #5E5E5E;"># the proportion of received centrality."</span></span>
<span id="cb39-57"></span>
<span id="cb39-58">mat_climinfl <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.matrix</span>(<span class="fu" style="color: #4758AB;">as_adjacency_matrix</span>(climinfl.ig))  <span class="co" style="color: #5E5E5E;"># not " attr='weight'"</span></span>
<span id="cb39-59">mat_climinfl_sq <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">t</span>(mat_climinfl) <span class="sc" style="color: #5E5E5E;">%*%</span> mat_climinfl</span>
<span id="cb39-60"><span class="co" style="color: #5E5E5E;"># alternately:</span></span>
<span id="cb39-61">mat_climinfl <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.matrix.network</span>(climinfl.stat, <span class="at" style="color: #657422;">attr =</span> <span class="st" style="color: #20794D;">"weight"</span>)</span>
<span id="cb39-62"><span class="fu" style="color: #4758AB;">diag</span>(mat_climinfl) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="dv" style="color: #AD0000;">0</span></span>
<span id="cb39-63">mat_climinfl_sq <span class="ot" style="color: #003B4F;">&lt;-</span> mat_climinfl <span class="sc" style="color: #5E5E5E;">%*%</span> mat_climinfl</span>
<span id="cb39-64"></span>
<span id="cb39-65">climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">diag</span>(mat_climinfl_sq) <span class="sc" style="color: #5E5E5E;">/</span> <span class="fu" style="color: #4758AB;">rowSums</span>(mat_climinfl_sq)</span>
<span id="cb39-66"><span class="co" style="color: #5E5E5E;"># replace missing values with 0</span></span>
<span id="cb39-67">climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ifelse</span>(<span class="fu" style="color: #4758AB;">is.nan</span>(climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc), <span class="dv" style="color: #AD0000;">0</span>, climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc)</span>
<span id="cb39-68">climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>dc <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc</span>
<span id="cb39-69"></span>
<span id="cb39-70"><span class="co" style="color: #5E5E5E;"># Build the derived and reflected eigenvector measures</span></span>
<span id="cb39-71">climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>eigen.rc <span class="ot" style="color: #003B4F;">&lt;-</span> climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>eigen <span class="sc" style="color: #5E5E5E;">*</span> climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>rc</span>
<span id="cb39-72">climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>eigen.dc <span class="ot" style="color: #003B4F;">&lt;-</span> climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>eigen <span class="sc" style="color: #5E5E5E;">*</span> climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>dc</span></code></pre></div>
<section id="closeness-centrailty" class="level3">
<h3 class="anchored" data-anchor-id="closeness-centrailty">Closeness centrailty</h3>
<p>From text: “The closeness centrality of a node is defined as the sum of the geodesic distances between that node and all other nodes in a network.”</p>
<p>Both are called in the above blocks, with <code>sna::closeness()</code> or <code>igraph::closeness()</code> on the respective network object.</p>
<p>From igraph::closeness help: “Closeness centrality measures how many steps is required to access every other vertex from a given vertex.”</p>
<p>igraph and statnet have very different implementations, with options that have to be carefully set.</p>
<section id="igraph-1" class="level4">
<h4 class="anchored" data-anchor-id="igraph-1">igraph</h4>
<p>igraph uses inverse closeness.</p>
<p>For directed networks, use <code>mode=("in", "out", "all", "total")</code>, describing the path type; <code>in</code> is paths <em>to</em> a vertex, <code>out</code> is paths <em>from</em> a vertex. Undirected networks ignore this parameter. It will use the “weight” edge attribute automatically if it’s there, or can be overriden with something else.</p>
</section>
<section id="statnet-1" class="level4">
<h4 class="anchored" data-anchor-id="statnet-1">statnet</h4>
<p>Must specify <code>gmode</code> (type of graph) as <code>graph</code> (undirected) or <code>digraph</code> (directed, default). <code>cmode</code> (type of closeness centrality being measured) is one of: <code>directed</code>, <code>undirected</code> (both standard closeness), <code>suminvdir</code> (directed case) and <code>suminvundir</code> (undirected case), and <code>gil-schmidt</code> for that. The <code>suminv</code> options correspond to igraph’s default inversion, though they’re still calculated slightly differently, so they’re generally preferred.</p>
<p>statnet ignores the edge weights by default; <code>ignore.eval = FALSE</code> to use them, according to the documentation, but the results appear not to use them.</p>
<p><code>sna::closeness(climpref.stat, gmode="graph", cmode="suminvundir", ignore.eval=FALSE))</code></p>
</section>
</section>
<section id="closeness-centralization" class="level3">
<h3 class="anchored" data-anchor-id="closeness-centralization">Closeness centralization</h3>
<p>Closeness centralization is the network-level measure of the <em>closeness centrality</em> node-level measure.</p>
<div class="sourceCode" id="cb40" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1">climinfl.centr_clo <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centr_clo</span>(climpref.ig)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb40-2">climinfl.centr_clo <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centralization</span>(climinfl.stat, <span class="at" style="color: #657422;">FUN =</span> <span class="st" style="color: #20794D;">"closeness"</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span></code></pre></div>
</section>
<section id="betweenness-centrality" class="level3">
<h3 class="anchored" data-anchor-id="betweenness-centrality">Betweenness centrality</h3>
<p>Betweenness centrality is the node-level measure of the number of geodesics (shortest path between two nodes) on which a node sits. A high betweenness centrality measure means a node is on many shortest-paths, suggesting a measure of influence or power.</p>
<div class="sourceCode" id="cb41" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1">igraph<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">betweenness</span>(climpref.ig, <span class="at" style="color: #657422;">directed =</span> <span class="cn" style="color: #8f5902;">FALSE</span>)</span>
<span id="cb41-2">sna<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">betweenness</span>(climpref.ig, <span class="at" style="color: #657422;">gmode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span></code></pre></div>
<p>The igraph version <code>directed</code> argument, for whether or not direction should be considered, defaults to <code>TRUE</code>; it might be wondered why it doesn’t read the directedness of the graph as a default, but oh well.</p>
<p>The statnet version would use <code>gmode</code> of <code>digraph</code> for a directed network, and <code>cmode</code> for a variant undirected form; see <code>?sna::betweenness</code> for more. Statnet appears to use weights by default; <code>weights = NA</code> disables weights in igraph.</p>
</section>
<section id="betweenness-centralization" class="level3">
<h3 class="anchored" data-anchor-id="betweenness-centralization">Betweenness centralization</h3>
<p>The network-level measure of betweenness centralization represents <a href="https://en.wikipedia.org/wiki/Centrality#Freeman_centralization">Freeman centralization</a>, at least according to the statnet documentation.</p>
<p>This is a “a measure of how central its most central node is in relation to how central all the other nodes are”.</p>
<div class="sourceCode" id="cb42" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1">climinfl.centr_btw <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centr_betw</span>(climpref.ig, <span class="at" style="color: #657422;">directed =</span> <span class="cn" style="color: #8f5902;">FALSE</span>)<span class="sc" style="color: #5E5E5E;">$</span>centralization</span>
<span id="cb42-2">climinfl.centr_btw <span class="ot" style="color: #003B4F;">=</span> <span class="fu" style="color: #4758AB;">centralization</span>(climpref.stat, <span class="at" style="color: #657422;">FUN =</span> <span class="st" style="color: #20794D;">"betweenness"</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span></code></pre></div>
</section>
<section id="burts-network-constraint" class="level3">
<h3 class="anchored" data-anchor-id="burts-network-constraint">(Burt’s) network constraint</h3>
<p>igraph-only function measuring a node’s connection redundancy from 0 (none) to 1. Uses weights.</p>
<div class="sourceCode" id="cb43" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><span class="fu" style="color: #4758AB;">constraint</span>(climinfl.ig)</span></code></pre></div>
</section>
<section id="gould-fernandez-brokerage" class="level3">
<h3 class="anchored" data-anchor-id="gould-fernandez-brokerage">Gould-Fernandez Brokerage</h3>
<p>(Statnet-only)</p>
<p>From <code>?brokerage()</code>: “Gould and Fernandez (following Marsden and others) describe brokerage as the role played by a social actor who mediates contact between two alters.”</p>
<p>Requires a directed network with a vertex attribute used for grouping. Returns a structure with a lot of information; tutorial refers mainly to <code>znli</code> containing the following roles:</p>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>prefix</th>
<th>Role</th>
<th>Action</th>
<th>Path</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>w_I</td>
<td>Coordinator</td>
<td>mediates contact between two individuals from his or her own group.</td>
<td>A -&gt; A -&gt; A</td>
</tr>
<tr class="even">
<td>w_O</td>
<td>Itinerant broker</td>
<td>mediates contact between two individuals from a single group to which he or she does not belong.</td>
<td>A -&gt; B -&gt; A</td>
</tr>
<tr class="odd">
<td>b_{OI}</td>
<td>Gatekeeper</td>
<td>mediates an incoming contact from an out-group member to an in-group member.</td>
<td>A -&gt; B -&gt; B</td>
</tr>
<tr class="even">
<td>b_{IO}</td>
<td>Representative</td>
<td>mediates an outgoing contact from an in-group member to an out-group member.</td>
<td>A -&gt; A -&gt; B</td>
</tr>
<tr class="odd">
<td>b_O</td>
<td>Liaison</td>
<td>mediates contact between two individuals from different groups, neither of which is the group to which he or she belongs.</td>
<td>A -&gt; B -&gt; C</td>
</tr>
<tr class="even">
<td>t</td>
<td>Total</td>
<td>Total (cumulative) brokerage role occupancy</td>
<td>(Any two)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb44" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><span class="fu" style="color: #4758AB;">brokerage</span>(climinfl.stat, <span class="at" style="color: #657422;">cl =</span> climinfl.nodes<span class="sc" style="color: #5E5E5E;">$</span>orgtype5)</span></code></pre></div>
</section>
</section>
<section id="week-6" class="level2">
<h2 class="anchored" data-anchor-id="week-6">Week 6</h2>
<p>(All statnet unless otherwise specified)</p>
<p>Calculating structural equivalence (“SE clusters”): look for nodes that have the same pattern of ties with the same neighbors, like siblings of a parent. Unexplained distance functions include “hamming”, “correlation”, “gamma”. The <code>sedist()</code> function ignores edge values (weights?).</p>
<div class="sourceCode" id="cb45" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1">flomarr.se <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">equiv.clust</span>(flomarr.stat, <span class="at" style="color: #657422;">equiv.fun =</span> <span class="st" style="color: #20794D;">"sedist"</span>, <span class="at" style="color: #657422;">method =</span> <span class="st" style="color: #20794D;">"hamming"</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span></code></pre></div>
<p>The output of <code>equiv.clust()</code> can be plotted as a “Cluster Dendogram”:</p>
<div class="sourceCode" id="cb46" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1">flomarr.se <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">equiv.clust</span>(flomarriage, <span class="at" style="color: #657422;">equiv.fun =</span> <span class="st" style="color: #20794D;">"sedist"</span>, <span class="at" style="color: #657422;">method =</span> <span class="st" style="color: #20794D;">"hamming"</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span>
<span id="cb46-2"><span class="fu" style="color: #4758AB;">plot</span>(flomarr.se,<span class="at" style="color: #657422;">labels =</span> flomarr.se<span class="sc" style="color: #5E5E5E;">$</span>glabels)</span></code></pre></div>
<p>Annoyingly, the different <code>cluster.method</code>s “single, average, or ward.D” are not explained in the tutorial. The default is “complete”.</p>
<p><code>rect.hclust()</code> (visually) “cuts” the diagram at a given height, making separate clusters:</p>
<div class="sourceCode" id="cb47" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><span class="fu" style="color: #4758AB;">plot</span>(flomarr.se, <span class="at" style="color: #657422;">labels =</span> flomarr.se<span class="sc" style="color: #5E5E5E;">$</span>glabels)</span>
<span id="cb47-2"><span class="fu" style="color: #4758AB;">rect.hclust</span>(flomarr.se<span class="sc" style="color: #5E5E5E;">$</span>cluster, <span class="at" style="color: #657422;">h =</span> <span class="dv" style="color: #AD0000;">9</span>)</span></code></pre></div>
<div class="sourceCode" id="cb48" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1">flomarr.se <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">equiv.clust</span>(flomarriage, <span class="at" style="color: #657422;">equiv.fun =</span> <span class="st" style="color: #20794D;">"sedist"</span>, <span class="at" style="color: #657422;">cluster.method =</span> <span class="st" style="color: #20794D;">"single"</span>,</span>
<span id="cb48-2">                          <span class="at" style="color: #657422;">method =</span> <span class="st" style="color: #20794D;">"hamming"</span>, <span class="at" style="color: #657422;">mode =</span> <span class="st" style="color: #20794D;">"graph"</span>)</span>
<span id="cb48-3"><span class="fu" style="color: #4758AB;">plot</span>(flomarr.se,<span class="at" style="color: #657422;">labels =</span> flomarr.se<span class="sc" style="color: #5E5E5E;">$</span>glabels)</span>
<span id="cb48-4"></span></code></pre></div>


</section>

 ]]></description>
  <category>r</category>
  <category>social networks</category>
  <guid>https://slinberg.net/academics/697E/useful-r-tidbits/index.html</guid>
  <pubDate>Tue, 08 Feb 2022 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Bigger Concepts</title>
  <link>https://slinberg.net/academics/695M/bigger-concepts/index.html</link>
  <description><![CDATA[ 



<p>This page is for concepts that don’t fit into the <a href="../../../academics/695M/glossary/index.html">glossary</a>.</p>
<p><strong>This document is in process.</strong></p>
<section id="classification" class="level1 page-columns page-full">
<h1>Classification</h1>
<p>The general umbrella categories for <em>classification</em>—where the outcome variable to be predicted is categorical, rather than continuous, like eye color rather than weight—are “discriminative” and “generative”. Discriminative models take sets of data and separate them into classes, like finding the decision boundary between two or more classes, but can’t predict the values of new data. Generative models (used in unsupervised learning) can generate new data, but are more susceptible to outliers (misclassified observations) than discriminative models, require more data to create, and are more computationally expensive.</p>
<p>A generative model—somehow—tries to guess how the data was generated, so it can take a new bit of unseen data, assess the probability that each class would have produced it, and pick the class with the highest probability.</p>
<p>A discriminative model can only look at existing data and create a decision boundary separating the existing data into classes.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://slinberg.net/academics/695M/bigger-concepts/disc-gen.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure from https://stanford.edu/%7Eshervine/teaching/cs-229/cheatsheet-supervised-learning</figcaption><p></p>
</figure>
</div>
<p>Note that there is no decision boundary in the generative model, just levels of probability into which new data could be classified with varying levels of confidence.</p>
<p>Logistic regression is discriminative. Linear discriminant analysis, quadratic discriminant analysis, and naive Bayes are generative, K-nearest neighbors appears to be neither.</p>
<section id="logistic-regression" class="level2">
<h2 class="anchored" data-anchor-id="logistic-regression">Logistic Regression</h2>
<p>Logistic regression’s output is a <em>probability</em> that a response variable belongs to a particular category.</p>
<p>The general form of a logistic model is:</p>
<p><img src="https://latex.codecogs.com/png.latex?p(X)%20=%20%5Ctext%7BPR%7D(Y%20=%201%7CX)"> The right side of the equation reads “The probability that Y equals 1, given X” - or the chance that Y is a particular category for a specific value of X.</p>
<p>A linear regression model would use this form:</p>
<p><img src="https://latex.codecogs.com/png.latex?p(X)%20=%20%5Cbeta_0%20+%20%5Cbeta_1X"></p>
<p>And the magic formula for this is the <em>logistic function</em>, in which we raise <img src="https://latex.codecogs.com/png.latex?e"> to this power.</p>
<p><img src="https://latex.codecogs.com/png.latex?p(X)%20=%20%5Cfrac%7Be%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D%7D%7B1%20+%20e%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D%7D"></p>
<p>(Why <img src="https://latex.codecogs.com/png.latex?e%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D"> instead of, say, <img src="https://latex.codecogs.com/png.latex?2%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D"> or <img src="https://latex.codecogs.com/png.latex?%5Cpi%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D"> or <img src="https://latex.codecogs.com/png.latex?123456%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D">?)</p>
<p>Dividing both sides by <img src="https://latex.codecogs.com/png.latex?1%20-%20p(X)"> (somehow) yields:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cfrac%7Bp(X)%7D%7B1%20-%20p(X)%7D%20=%20e%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D"></p>
<p>which is also the <em>odds</em> that Y is 1 given X. If the probability of something is 20%, or 1/5, then the odds are 1/4:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7B5%7D%20%5Cdiv%20%5Cleft%5B%201%20-%20%5Cfrac%7B1%7D%7B5%7D%20%5Cright%5D%20=%20%5Cfrac%7B1%7D%7B5%7D%20%5Cdiv%20%5Cfrac%7B4%7D%7B5%7D%20=%20%5Cfrac%7B1%7D%7B5%7D%20%5Ctimes%20%5Cfrac%7B5%7D%7B4%7D%20=%201/4%20=%200.25"></p>
<section id="when-to-use-logistic-regression" class="level3">
<h3 class="anchored" data-anchor-id="when-to-use-logistic-regression">When to use logistic regression</h3>
<p>When the response variable is categorical, and has two possible classes, like “Yes” or “No”, “Up” or “Down”, etc. However, see Linear Discriminant Analysis below for examples of when <em>not</em> to use it.</p>
<p>In some cases, a categorical response variable could be analyzed with a linear regression by treating the categorical variable as numeric, like treating “not infected” as 0 and “infected” as 1, and using the rounded value as the predictor; however, beyond 2 possible responses it’s unlikely that a continuous scale could be established between the possible values, and it gets messy.</p>
</section>
<section id="how-to-do-logistic-regression" class="level3">
<h3 class="anchored" data-anchor-id="how-to-do-logistic-regression">How to do logistic regression</h3>
<p>Use <code>glm()</code> with the argument <code>family = binomial</code> to indicate logistic regression.</p>
<p>Using the <code>Boston</code> data set from the <code>ISLR2</code> package, the following will model the probability of a tract having a <code>crim</code> rate above the median, based on <code>zn</code>, using logistic regression:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = crim_above_med ~ zn, family = binomial, data = boston)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-1.4319  -1.4319   0.4634   0.9427   1.8532  

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)  0.58076    0.10727   5.414 6.17e-08 ***
zn          -0.09545    0.01349  -7.075 1.49e-12 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 701.46  on 505  degrees of freedom
Residual deviance: 559.53  on 504  degrees of freedom
AIC: 563.53

Number of Fisher Scoring iterations: 6</code></pre>
</div>
</div>
<p>The <code>zn.fit</code> summary above will show the coefficients and p-values; the <code>$coef</code> aspect of the summary will show more detail.</p>
<p><code>predict()</code> can then be fed the fit to make predictions. The argument <code>type = "response"</code> will tell it to output probabilities “of the form <img src="https://latex.codecogs.com/png.latex?P(Y%20=%201%7CX)">” from the data that was used in the fit, also described as the training data. It returns a vector of probabilities for every data element.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">0.2428</td>
<td style="text-align: center;">0.6412</td>
<td style="text-align: center;">0.6412</td>
<td style="text-align: center;">0.6412</td>
<td style="text-align: center;">0.6412</td>
<td style="text-align: center;">0.6412</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The responses can be converted into categories and turned into a confusion matrix to show how the regression did with the training data.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 13%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">&nbsp;</th>
<th style="text-align: center;">No</th>
<th style="text-align: center;">Yes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><strong>No</strong></td>
<td style="text-align: center;">119</td>
<td style="text-align: center;">15</td>
</tr>
<tr class="even">
<td style="text-align: center;"><strong>Yes</strong></td>
<td style="text-align: center;">134</td>
<td style="text-align: center;">238</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The overall success rate can be calculated with <code>mean()</code>, comparing each predicted value to the actual value:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7055336</code></pre>
</div>
</div>
<p>The model can then be run on test data that is held out from the main set, with the expectation that it won’t do quite as well as the training data. The efficacy can then be assessed in the same way, and if it’s not high, we can return to the model and try to find other forms that make better predictions - or perhaps conclude that we can’t make a good prediction at all.</p>
</section>
</section>
<section id="linear-discriminant-analysis-lda" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="linear-discriminant-analysis-lda">Linear Discriminant Analysis (LDA)</h2>
<p>The simplest use case for LDA is when there are more than two possible response classes; logistic regression gives the probability that an observation is in a class A or B, but it can only handle two classes.</p>
<p>LDA also gives better results when “there is substantial separation between the two classes”, or where the sample size is small and the distribution of the predictors is approximately normal in each of the classes.</p>
<aside>
How do we determine this?
</aside>
</section>
<section id="resampling-methods" class="level2">
<h2 class="anchored" data-anchor-id="resampling-methods">Resampling methods</h2>
<p>Resampling methods are used to refine and test models against training data by repeatedly testing against different subsets within the data.</p>
<p><em>Cross-validation</em> can be used to estimate the test error rate of a method (<em>model assessment</em>), and <em>bootstrap</em> is mostly to measure the accuracy of a parameter or of a method.</p>
<section id="cross-validation-validation-set-approach" class="level3">
<h3 class="anchored" data-anchor-id="cross-validation-validation-set-approach">Cross-validation: validation set approach</h3>
<p>This approach randomly splits the data into two sets: a <em>training</em> set and a <em>validation</em> or <em>test</em> set. Size ratios seem to be on the order of between 50-50 to 3:1 or 4:1 training-to-test data. The model is fit against the training data, and then <code>predict()</code> is used to predict the results for the validation data; the results of <code>predict</code> can then be compared against the actual classifications in the validation data to compute the error rate.</p>
<p>This process can be run repeatedly with different splits.</p>
<p>The general process is:</p>
<ol type="1">
<li>Randomly split the dataset into training and validation sets</li>
<li>Fit the model to the training data</li>
<li>Predict the outcomes of the model on the validation data</li>
<li>Convert the predictions into categorical variables that match the field being predicted (like Yes/No, etc)</li>
<li>The error rate is the proportion of correct predictions in the validation data.</li>
</ol>
<p>The code below runs 10 iterations and accumulates the results into a results data frame.</p>
<div class="cell">

</div>
</section>
<section id="cross-validation-leave-one-out-loocv" class="level3">
<h3 class="anchored" data-anchor-id="cross-validation-leave-one-out-loocv">Cross-validation: leave-one-out (LOOCV)</h3>
<p>This method is similar to the validation set approach, except that the validation set is only one element, and the training set is the remaining <img src="https://latex.codecogs.com/png.latex?n-1"> observations. It is run automatically <img src="https://latex.codecogs.com/png.latex?n"> times and returns an average of the test errors.</p>
<p>The process is simpler than the validation set approach:</p>
<ol type="1">
<li>Fit the model to the entire data set with <code>glm()</code> (omitting the <code>subset</code> argument)</li>
<li>Run <code>cv.glm</code> on the fit</li>
<li>The <code>delta</code> factor of the return data is the cross-validation error rate for the test data.</li>
</ol>
<p>Code from the book:</p>
<div class="cell">

</div>
</section>
<section id="cross-validation-k-fold" class="level3">
<h3 class="anchored" data-anchor-id="cross-validation-k-fold">Cross-validation: k-fold</h3>
<p>K-fold cross-validation is like leave-one-out cross-validation but with a larger test set; it splits the data up into <img src="https://latex.codecogs.com/png.latex?k"> segments and runs the cross-validation on each. It may give better results if run repeatedly and averaged, as with the validation set approach. It is faster than LOOCV, obviously, because it uses less data.</p>
<p>The process is the same as LOOCV, except a parameter such as <code>K = 10</code> is added to the <code>cv.glm()</code> call. 5 to 10 is a common range for values of <img src="https://latex.codecogs.com/png.latex?k">.</p>
<!--
### When to use it

### How to do it

### How to interpret it
-->


</section>
</section>
</section>

 ]]></description>
  <category>machine learning</category>
  <guid>https://slinberg.net/academics/695M/bigger-concepts/index.html</guid>
  <pubDate>Thu, 03 Feb 2022 05:00:00 GMT</pubDate>
  <media:content url="https://slinberg.net/academics/695M/bigger-concepts/disc-gen.png" medium="image" type="image/png" height="66" width="144"/>
</item>
<item>
  <title>695M - Machine Learning</title>
  <link>https://slinberg.net/academics/695M/index.html</link>
  <description><![CDATA[ 



<dl>
<dt>Date</dt>
<dd>
Spring 2022
</dd>
<dt>Professor</dt>
<dd>
<a href="https://polsci.umass.edu/people/justin-h-gross">Justin Gross</a>
</dd>
</dl>
<p>This class was a deep (initial) dive into Machine Learning, with a focus on applications in the social sciences.</p>




<div class="quarto-listing quarto-listing-container-default" id="listing-listing">
<div class="list quarto-listing-default">
<div class="quarto-post image-right" data-index="0" data-categories="r,machine learning" data-listing-date-sort="1643864400000" data-listing-file-modified-sort="1666298846115" data-listing-reading-time-sort="7.76">
<div class="thumbnail">
<p><a href="../../academics/695M/useful-r-tidbits/index.html"> <img src="https://slinberg.net/academics/695M/useful-r-tidbits/ISLR-cover.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="../../academics/695M/useful-r-tidbits/index.html">
<h3 class="no-anchor listing-title">
Useful R tidbits: Machine Learning
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('r'); return false;">
r
</div>
<div class="listing-category" onclick="window.quartoListingCategory('machine learning'); return false;">
machine learning
</div>
</div>
<a href="../../academics/695M/useful-r-tidbits/index.html">
<div class="listing-description">
<p>Tasty R snacks that do useful things in Machine Learning</p>
</div>
</a>
</div>
<div class="metadata">
<a href="../../academics/695M/useful-r-tidbits/index.html">
<div class="listing-date">
Feb 3, 2022
</div>
<div class="listing-reading-time">
7 min
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="1" data-categories="machine learning,glossary,math" data-listing-date-sort="1643864400000" data-listing-file-modified-sort="1666285999084" data-listing-reading-time-sort="19.795">
<div class="thumbnail">
<a href="../../academics/695M/glossary/index.html">
<div class="thumbnail-image">

</div>
</a><p><a href="../../academics/695M/glossary/index.html"></a></p>
</div>
<div class="body">
<a href="../../academics/695M/glossary/index.html">
<h3 class="no-anchor listing-title">
Glossary
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('machine learning'); return false;">
machine learning
</div>
<div class="listing-category" onclick="window.quartoListingCategory('glossary'); return false;">
glossary
</div>
<div class="listing-category" onclick="window.quartoListingCategory('math'); return false;">
math
</div>
</div>
<a href="../../academics/695M/glossary/index.html">
<div class="listing-description">
<p>Glossary for 695M - Machine Learning</p>
</div>
</a>
</div>
<div class="metadata">
<a href="../../academics/695M/glossary/index.html">
<div class="listing-date">
Feb 3, 2022
</div>
<div class="listing-reading-time">
19 min
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="2" data-categories="machine learning" data-listing-date-sort="1643864400000" data-listing-file-modified-sort="1666225195418" data-listing-reading-time-sort="7.245">
<div class="thumbnail">
<p><a href="../../academics/695M/bigger-concepts/index.html"> <img src="https://slinberg.net/academics/695M/bigger-concepts/disc-gen.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="../../academics/695M/bigger-concepts/index.html">
<h3 class="no-anchor listing-title">
Bigger Concepts
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('machine learning'); return false;">
machine learning
</div>
</div>
<a href="../../academics/695M/bigger-concepts/index.html">
<div class="listing-description">
<p>Bigger concepts for MS797 coursework</p>
</div>
</a>
</div>
<div class="metadata">
<a href="../../academics/695M/bigger-concepts/index.html">
<div class="listing-date">
Feb 3, 2022
</div>
<div class="listing-reading-time">
7 min
</div>
</a>
</div>
</div>
</div>
<div class="listing-no-matching d-none">
No matching items
</div>
</div> ]]></description>
  <guid>https://slinberg.net/academics/695M/index.html</guid>
  <pubDate>Thu, 03 Feb 2022 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Useful R tidbits: Machine Learning</title>
  <link>https://slinberg.net/academics/695M/useful-r-tidbits/index.html</link>
  <description><![CDATA[ 



<p>This document contains R snippets pertaining to work in the <a href="../../../academics/695M/index.html">Machine Learning class</a>. There is also one for the <a href="../../../academics/697E/useful-r-tidbits/index.html">Political Networks Analysis class</a>.</p>
<div class="grid">
<div class="g-col-2">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.statlearning.com"><img src="https://slinberg.net/academics/695M/useful-r-tidbits/ISLR-cover.png" class="img-fluid figure-img" width="150"></a></p>
</figure>
</div>
</div>
<div class="g-col-10">
<p>Most of this comes directly from the <a href="https://www.statlearning.com/resources-second-edition">resources from the 2nd edition</a> of <a href="https://www.statlearning.com/">ISLR</a>, either direct quotes or things that build on them. The <code>Lab</code> section of each chapter contains useful walkthroughs and code illustrating the chapter’s key concepts, and there’s always something to learn about R and how different people use it.</p>
<p>Everything here is, unless otherwise marked, either the work of, or derivative of the work of, the original authors of the book.</p>
</div>
</div>
<section id="chapter-3-linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="chapter-3-linear-regression">Chapter 3: Linear Regression</h2>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'ISLR2'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:MASS':

    Boston</code></pre>
</div>
</div>
<section id="names-see-the-attributes-of-a-model" class="level3">
<h3 class="anchored" data-anchor-id="names-see-the-attributes-of-a-model">names(): see the attributes of a model</h3>
<p><code>names()</code> is a nice, simple way to see the attributes of a linear model:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;">attach</span>(Boston)</span>
<span id="cb3-2">lm.fit <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">lm</span>(medv <span class="sc" style="color: #5E5E5E;">~</span> lstat)</span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;">names</span>(lm.fit)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "coefficients"  "residuals"     "effects"       "rank"         
 [5] "fitted.values" "assign"        "qr"            "df.residual"  
 [9] "xlevels"       "call"          "terms"         "model"        </code></pre>
</div>
</div>
</section>
<section id="coef-see-the-models-coefficients" class="level3">
<h3 class="anchored" data-anchor-id="coef-see-the-models-coefficients">coef(): see the model’s coefficients</h3>
<p><code>coef()</code> is a convenient way to get the <code>coefficients</code> attribute:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;">coef</span>(lm.fit)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)       lstat 
 34.5538409  -0.9500494 </code></pre>
</div>
</div>
<p>Note: this is equivalent to <code>lm.fit$coefficients</code>, but slightly easier on the eyes.</p>
</section>
<section id="confint-see-confidence-intervals-for-a-model" class="level3">
<h3 class="anchored" data-anchor-id="confint-see-confidence-intervals-for-a-model">confint(): see confidence intervals for a model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;">confint</span>(lm.fit)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                2.5 %     97.5 %
(Intercept) 33.448457 35.6592247
lstat       -1.026148 -0.8739505</code></pre>
</div>
</div>
<p>Note: levels can be added with the <code>level</code> parameter (the default is 0.95):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;">confint</span>(lm.fit, <span class="at" style="color: #657422;">level =</span> <span class="fl" style="color: #AD0000;">0.90</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                  5 %       95 %
(Intercept) 33.626697 35.4809847
lstat       -1.013877 -0.8862212</code></pre>
</div>
</div>
</section>
<section id="predict-see-confidence-or-prediction-intervals-for-a-model" class="level3">
<h3 class="anchored" data-anchor-id="predict-see-confidence-or-prediction-intervals-for-a-model">predict(): see confidence OR prediction intervals for a model</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;">predict</span>(lm.fit, <span class="fu" style="color: #4758AB;">data.frame</span>(<span class="at" style="color: #657422;">lstat =</span> (<span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">5</span>, <span class="dv" style="color: #AD0000;">10</span>, <span class="dv" style="color: #AD0000;">15</span>))),</span>
<span id="cb11-2">    <span class="at" style="color: #657422;">interval =</span> <span class="st" style="color: #20794D;">"confidence"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       fit      lwr      upr
1 29.80359 29.00741 30.59978
2 25.05335 24.47413 25.63256
3 20.30310 19.73159 20.87461</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;">predict</span>(lm.fit, <span class="fu" style="color: #4758AB;">data.frame</span>(<span class="at" style="color: #657422;">lstat =</span> (<span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">5</span>, <span class="dv" style="color: #AD0000;">10</span>, <span class="dv" style="color: #AD0000;">15</span>))),</span>
<span id="cb13-2">    <span class="at" style="color: #657422;">interval =</span> <span class="st" style="color: #20794D;">"prediction"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       fit       lwr      upr
1 29.80359 17.565675 42.04151
2 25.05335 12.827626 37.27907
3 20.30310  8.077742 32.52846</code></pre>
</div>
</div>
<p>Note: prediction intervals are defined on p.&nbsp;82; in brief, it is the interval in which we are <img src="https://latex.codecogs.com/png.latex?X">% certain that any future observation will fall.</p>
<p>Note: the <code>data.frame()</code> call in the above parameter lists produce a nifty little data frame that is used by <code>predict</code> to identify the column to do calculations on, and the desired levels:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="fu" style="color: #4758AB;">data.frame</span>(<span class="at" style="color: #657422;">lstat =</span> (<span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">5</span>, <span class="dv" style="color: #AD0000;">10</span>, <span class="dv" style="color: #AD0000;">15</span>)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  lstat
1     5
2    10
3    15</code></pre>
</div>
</div>
<p>Note: the book uses the base R graphics:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;">plot</span>(lstat, medv)</span>
<span id="cb17-2"><span class="fu" style="color: #4758AB;">abline</span>(lm.fit)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/695M/useful-r-tidbits/index_files/figure-html/chunk9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The tidyverse/ggplot version of this is:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="fu" style="color: #4758AB;">library</span>(tidyverse)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
✔ ggplot2 3.3.6      ✔ purrr   0.3.5 
✔ tibble  3.1.8      ✔ dplyr   1.0.10
✔ tidyr   1.2.1      ✔ stringr 1.4.1 
✔ readr   2.1.3      ✔ forcats 0.5.2 
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
✖ dplyr::select() masks MASS::select()</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="fu" style="color: #4758AB;">ggplot</span>(Boston, <span class="at" style="color: #657422;">mapping =</span> <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> lstat, <span class="at" style="color: #657422;">y =</span> medv)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb20-2">  <span class="fu" style="color: #4758AB;">geom_point</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb20-3">  <span class="fu" style="color: #4758AB;">geom_abline</span>(<span class="at" style="color: #657422;">intercept =</span> <span class="fu" style="color: #4758AB;">coef</span>(lm.fit)[<span class="dv" style="color: #AD0000;">1</span>],</span>
<span id="cb20-4">              <span class="at" style="color: #657422;">slope =</span> <span class="fu" style="color: #4758AB;">coef</span>(lm.fit)[<span class="dv" style="color: #AD0000;">2</span>])</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/695M/useful-r-tidbits/index_files/figure-html/chunk9a-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>…a bit more work, but more modern.</p>
</section>
<section id="arranging-plots-in-grids" class="level3">
<h3 class="anchored" data-anchor-id="arranging-plots-in-grids">arranging plots in grids</h3>
<p>The book uses base R, again, with <code>par()</code> and <code>mfrow()</code> to arrange plots:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="fu" style="color: #4758AB;">par</span>(<span class="at" style="color: #657422;">mfrow =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">2</span>))</span>
<span id="cb21-2"><span class="fu" style="color: #4758AB;">plot</span>(lm.fit)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/695M/useful-r-tidbits/index_files/figure-html/chunk11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>ggplot uses <code>facet()</code> to arrange plots from the same data set in grids.</p>
<p>Plots from different data sets need additional packages to be combined; one option is the <code>cowplot</code> library and the <code>plot_grid()</code> function.</p>
</section>
</section>
<section id="everything-below-this-line" class="level1">
<h1>EVERYTHING BELOW THIS LINE</h1>
<p>is direct paste from the book’s sources which I have not yet written in my own words or added anything to. Stay tuned.</p>
<hr>
<p>Alternatively, we can compute the residuals from a linear regression fit using the <code>residuals()</code> function. The function <code>rstudent()</code> will return the studentized residuals, and we can use this function to plot the residuals against the fitted values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><span class="fu" style="color: #4758AB;">plot</span>(<span class="fu" style="color: #4758AB;">predict</span>(lm.fit), <span class="fu" style="color: #4758AB;">residuals</span>(lm.fit))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/695M/useful-r-tidbits/index_files/figure-html/chunk12-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="fu" style="color: #4758AB;">plot</span>(<span class="fu" style="color: #4758AB;">predict</span>(lm.fit), <span class="fu" style="color: #4758AB;">rstudent</span>(lm.fit))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/695M/useful-r-tidbits/index_files/figure-html/chunk12-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>On the basis of the residual plots, there is some evidence of non-linearity. Leverage statistics can be computed for any number of predictors using the <code>hatvalues()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><span class="fu" style="color: #4758AB;">plot</span>(<span class="fu" style="color: #4758AB;">hatvalues</span>(lm.fit))</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/695M/useful-r-tidbits/index_files/figure-html/chunk13-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="fu" style="color: #4758AB;">which.max</span>(<span class="fu" style="color: #4758AB;">hatvalues</span>(lm.fit))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>375 
375 </code></pre>
</div>
</div>
<p>The <code>which.max()</code> function identifies the index of the largest element of a vector. In this case, it tells us which observation has the largest leverage statistic.</p>
<section id="multiple-linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="multiple-linear-regression">Multiple Linear Regression</h2>
<p>In order to fit a multiple linear regression model using least squares, we again use the <code>lm()</code> function. The syntax <code>lm(y ~ x1 + x2 + x3)</code> is used to fit a model with three predictors, <code>x1</code>, <code>x2</code>, and <code>x3</code>. The <code>summary()</code> function now outputs the regression coefficients for all the predictors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1">lm.fit <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">lm</span>(medv <span class="sc" style="color: #5E5E5E;">~</span> lstat <span class="sc" style="color: #5E5E5E;">+</span> age, <span class="at" style="color: #657422;">data =</span> Boston)</span>
<span id="cb27-2"><span class="fu" style="color: #4758AB;">summary</span>(lm.fit)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ lstat + age, data = Boston)

Residuals:
    Min      1Q  Median      3Q     Max 
-15.981  -3.978  -1.283   1.968  23.158 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 33.22276    0.73085  45.458  &lt; 2e-16 ***
lstat       -1.03207    0.04819 -21.416  &lt; 2e-16 ***
age          0.03454    0.01223   2.826  0.00491 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 6.173 on 503 degrees of freedom
Multiple R-squared:  0.5513,    Adjusted R-squared:  0.5495 
F-statistic:   309 on 2 and 503 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>The <code>Boston</code> data set contains 12 variables, and so it would be cumbersome to have to type all of these in order to perform a regression using all of the predictors. Instead, we can use the following short-hand:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1">lm.fit <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">lm</span>(medv <span class="sc" style="color: #5E5E5E;">~</span> ., <span class="at" style="color: #657422;">data =</span> Boston)</span>
<span id="cb29-2"><span class="fu" style="color: #4758AB;">summary</span>(lm.fit)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ ., data = Boston)

Residuals:
     Min       1Q   Median       3Q      Max 
-15.1304  -2.7673  -0.5814   1.9414  26.2526 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  41.617270   4.936039   8.431 3.79e-16 ***
crim         -0.121389   0.033000  -3.678 0.000261 ***
zn            0.046963   0.013879   3.384 0.000772 ***
indus         0.013468   0.062145   0.217 0.828520    
chas          2.839993   0.870007   3.264 0.001173 ** 
nox         -18.758022   3.851355  -4.870 1.50e-06 ***
rm            3.658119   0.420246   8.705  &lt; 2e-16 ***
age           0.003611   0.013329   0.271 0.786595    
dis          -1.490754   0.201623  -7.394 6.17e-13 ***
rad           0.289405   0.066908   4.325 1.84e-05 ***
tax          -0.012682   0.003801  -3.337 0.000912 ***
ptratio      -0.937533   0.132206  -7.091 4.63e-12 ***
lstat        -0.552019   0.050659 -10.897  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4.798 on 493 degrees of freedom
Multiple R-squared:  0.7343,    Adjusted R-squared:  0.7278 
F-statistic: 113.5 on 12 and 493 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>We can access the individual components of a summary object by name (type <code>?summary.lm</code> to see what is available). Hence <code>summary(lm.fit)$r.sq</code> gives us the <img src="https://latex.codecogs.com/png.latex?R%5E2">, and <code>summary(lm.fit)$sigma</code> gives us the RSE. The <code>vif()</code> function, part of the <code>car</code> package, can be used to compute variance inflation factors. Most VIF’s are low to moderate for this data. The <code>car</code> package is not part of the base <code>R</code> installation so it must be downloaded the first time you use it via the <code>install.packages()</code> function in <code>R</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><span class="fu" style="color: #4758AB;">library</span>(car)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: carData</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'car'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    recode</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    some</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><span class="fu" style="color: #4758AB;">vif</span>(lm.fit)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    crim       zn    indus     chas      nox       rm      age      dis 
1.767486 2.298459 3.987181 1.071168 4.369093 1.912532 3.088232 3.954037 
     rad      tax  ptratio    lstat 
7.445301 9.002158 1.797060 2.870777 </code></pre>
</div>
</div>
<p>What if we would like to perform a regression using all of the variables but one? For example, in the above regression output, <code>age</code> has a high <img src="https://latex.codecogs.com/png.latex?p">-value. So we may wish to run a regression excluding this predictor. The following syntax results in a regression using all predictors except <code>age</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1">lm.fit1 <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">lm</span>(medv <span class="sc" style="color: #5E5E5E;">~</span> . <span class="sc" style="color: #5E5E5E;">-</span> age, <span class="at" style="color: #657422;">data =</span> Boston)</span>
<span id="cb38-2"><span class="fu" style="color: #4758AB;">summary</span>(lm.fit1)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ . - age, data = Boston)

Residuals:
     Min       1Q   Median       3Q      Max 
-15.1851  -2.7330  -0.6116   1.8555  26.3838 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  41.525128   4.919684   8.441 3.52e-16 ***
crim         -0.121426   0.032969  -3.683 0.000256 ***
zn            0.046512   0.013766   3.379 0.000785 ***
indus         0.013451   0.062086   0.217 0.828577    
chas          2.852773   0.867912   3.287 0.001085 ** 
nox         -18.485070   3.713714  -4.978 8.91e-07 ***
rm            3.681070   0.411230   8.951  &lt; 2e-16 ***
dis          -1.506777   0.192570  -7.825 3.12e-14 ***
rad           0.287940   0.066627   4.322 1.87e-05 ***
tax          -0.012653   0.003796  -3.333 0.000923 ***
ptratio      -0.934649   0.131653  -7.099 4.39e-12 ***
lstat        -0.547409   0.047669 -11.483  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4.794 on 494 degrees of freedom
Multiple R-squared:  0.7343,    Adjusted R-squared:  0.7284 
F-statistic: 124.1 on 11 and 494 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Alternatively, the <code>update()</code> function can be used.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1">lm.fit1 <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">update</span>(lm.fit, <span class="sc" style="color: #5E5E5E;">~</span> . <span class="sc" style="color: #5E5E5E;">-</span> age)</span></code></pre></div>
</div>
</section>
<section id="interaction-terms" class="level2">
<h2 class="anchored" data-anchor-id="interaction-terms">Interaction Terms</h2>
<p>It is easy to include interaction terms in a linear model using the <code>lm()</code> function. The syntax <code>lstat:black</code> tells <code>R</code> to include an interaction term between <code>lstat</code> and <code>black</code>. The syntax <code>lstat * age</code> simultaneously includes <code>lstat</code>, <code>age</code>, and the interaction term <code>lstat</code><img src="https://latex.codecogs.com/png.latex?%5Ctimes"><code>age</code> as predictors; it is a shorthand for <code>lstat + age + lstat:age</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><span class="fu" style="color: #4758AB;">summary</span>(<span class="fu" style="color: #4758AB;">lm</span>(medv <span class="sc" style="color: #5E5E5E;">~</span> lstat <span class="sc" style="color: #5E5E5E;">*</span> age, <span class="at" style="color: #657422;">data =</span> Boston))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ lstat * age, data = Boston)

Residuals:
    Min      1Q  Median      3Q     Max 
-15.806  -4.045  -1.333   2.085  27.552 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 36.0885359  1.4698355  24.553  &lt; 2e-16 ***
lstat       -1.3921168  0.1674555  -8.313 8.78e-16 ***
age         -0.0007209  0.0198792  -0.036   0.9711    
lstat:age    0.0041560  0.0018518   2.244   0.0252 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 6.149 on 502 degrees of freedom
Multiple R-squared:  0.5557,    Adjusted R-squared:  0.5531 
F-statistic: 209.3 on 3 and 502 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="non-linear-transformations-of-the-predictors" class="level2">
<h2 class="anchored" data-anchor-id="non-linear-transformations-of-the-predictors">Non-linear Transformations of the Predictors</h2>
<p>The <code>lm()</code> function can also accommodate non-linear transformations of the predictors. For instance, given a predictor <img src="https://latex.codecogs.com/png.latex?X">, we can create a predictor <img src="https://latex.codecogs.com/png.latex?X%5E2"> using <code>I(X^2)</code>. The function <code>I()</code> is needed since the <code>^</code> has a special meaning in a formula object; wrapping as we do allows the standard usage in <code>R</code>, which is to raise <code>X</code> to the power <code>2</code>. We now perform a regression of <code>medv</code> onto <code>lstat</code> and <code>lstat^2</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1">lm.fit2 <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">lm</span>(medv <span class="sc" style="color: #5E5E5E;">~</span> lstat <span class="sc" style="color: #5E5E5E;">+</span> <span class="fu" style="color: #4758AB;">I</span>(lstat<span class="sc" style="color: #5E5E5E;">^</span><span class="dv" style="color: #AD0000;">2</span>))</span>
<span id="cb43-2"><span class="fu" style="color: #4758AB;">summary</span>(lm.fit2)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ lstat + I(lstat^2))

Residuals:
     Min       1Q   Median       3Q      Max 
-15.2834  -3.8313  -0.5295   2.3095  25.4148 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 42.862007   0.872084   49.15   &lt;2e-16 ***
lstat       -2.332821   0.123803  -18.84   &lt;2e-16 ***
I(lstat^2)   0.043547   0.003745   11.63   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 5.524 on 503 degrees of freedom
Multiple R-squared:  0.6407,    Adjusted R-squared:  0.6393 
F-statistic: 448.5 on 2 and 503 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>The near-zero <img src="https://latex.codecogs.com/png.latex?p">-value associated with the quadratic term suggests that it leads to an improved model. We use the <code>anova()</code> function to further quantify the extent to which the quadratic fit is superior to the linear fit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1">lm.fit <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">lm</span>(medv <span class="sc" style="color: #5E5E5E;">~</span> lstat)</span>
<span id="cb45-2"><span class="fu" style="color: #4758AB;">anova</span>(lm.fit, lm.fit2)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Model 1: medv ~ lstat
Model 2: medv ~ lstat + I(lstat^2)
  Res.Df   RSS Df Sum of Sq     F    Pr(&gt;F)    
1    504 19472                                 
2    503 15347  1    4125.1 135.2 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Here Model 1 represents the linear submodel containing only one predictor, <code>lstat</code>, while Model 2 corresponds to the larger quadratic model that has two predictors, <code>lstat</code> and <code>lstat^2</code>. The <code>anova()</code> function performs a hypothesis test comparing the two models. The null hypothesis is that the two models fit the data equally well, and the alternative hypothesis is that the full model is superior. Here the <img src="https://latex.codecogs.com/png.latex?F">-statistic is <img src="https://latex.codecogs.com/png.latex?135"> and the associated <img src="https://latex.codecogs.com/png.latex?p">-value is virtually zero. This provides very clear evidence that the model containing the predictors <code>lstat</code> and <code>lstat^2</code> is far superior to the model that only contains the predictor <code>lstat</code>. This is not surprising, since earlier we saw evidence for non-linearity in the relationship between <code>medv</code> and <code>lstat</code>. If we type</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><span class="fu" style="color: #4758AB;">par</span>(<span class="at" style="color: #657422;">mfrow =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="dv" style="color: #AD0000;">2</span>, <span class="dv" style="color: #AD0000;">2</span>))</span>
<span id="cb47-2"><span class="fu" style="color: #4758AB;">plot</span>(lm.fit2)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://slinberg.net/academics/695M/useful-r-tidbits/index_files/figure-html/chunk22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>then we see that when the <code>lstat^2</code> term is included in the model, there is little discernible pattern in the residuals.</p>
<p>In order to create a cubic fit, we can include a predictor of the form <code>I(X^3)</code>. However, this approach can start to get cumbersome for higher-order polynomials. A better approach involves using the <code>poly()</code> function to create the polynomial within <code>lm()</code>. For example, the following command produces a fifth-order polynomial fit:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1">lm.fit5 <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">lm</span>(medv <span class="sc" style="color: #5E5E5E;">~</span> <span class="fu" style="color: #4758AB;">poly</span>(lstat, <span class="dv" style="color: #AD0000;">5</span>))</span>
<span id="cb48-2"><span class="fu" style="color: #4758AB;">summary</span>(lm.fit5)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ poly(lstat, 5))

Residuals:
     Min       1Q   Median       3Q      Max 
-13.5433  -3.1039  -0.7052   2.0844  27.1153 

Coefficients:
                 Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       22.5328     0.2318  97.197  &lt; 2e-16 ***
poly(lstat, 5)1 -152.4595     5.2148 -29.236  &lt; 2e-16 ***
poly(lstat, 5)2   64.2272     5.2148  12.316  &lt; 2e-16 ***
poly(lstat, 5)3  -27.0511     5.2148  -5.187 3.10e-07 ***
poly(lstat, 5)4   25.4517     5.2148   4.881 1.42e-06 ***
poly(lstat, 5)5  -19.2524     5.2148  -3.692 0.000247 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 5.215 on 500 degrees of freedom
Multiple R-squared:  0.6817,    Adjusted R-squared:  0.6785 
F-statistic: 214.2 on 5 and 500 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>This suggests that including additional polynomial terms, up to fifth order, leads to an improvement in the model fit! However, further investigation of the data reveals that no polynomial terms beyond fifth order have significant <img src="https://latex.codecogs.com/png.latex?p">-values in a regression fit.</p>
<p>By default, the <code>poly()</code> function orthogonalizes the predictors: this means that the features output by this function are not simply a sequence of powers of the argument. However, a linear model applied to the output of the <code>poly()</code> function will have the same fitted values as a linear model applied to the raw polynomials (although the coefficient estimates, standard errors, and p-values will differ). In order to obtain the raw polynomials from the <code>poly()</code> function, the argument <code>raw = TRUE</code> must be used.</p>
<p>Of course, we are in no way restricted to using polynomial transformations of the predictors. Here we try a log transformation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><span class="fu" style="color: #4758AB;">summary</span>(<span class="fu" style="color: #4758AB;">lm</span>(medv <span class="sc" style="color: #5E5E5E;">~</span> <span class="fu" style="color: #4758AB;">log</span>(rm), <span class="at" style="color: #657422;">data =</span> Boston))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ log(rm), data = Boston)

Residuals:
    Min      1Q  Median      3Q     Max 
-19.487  -2.875  -0.104   2.837  39.816 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  -76.488      5.028  -15.21   &lt;2e-16 ***
log(rm)       54.055      2.739   19.73   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 6.915 on 504 degrees of freedom
Multiple R-squared:  0.4358,    Adjusted R-squared:  0.4347 
F-statistic: 389.3 on 1 and 504 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="qualitative-predictors" class="level2">
<h2 class="anchored" data-anchor-id="qualitative-predictors">Qualitative Predictors</h2>
<p>We will now examine the <code>Carseats</code> data, which is part of the <code>ISLR2</code> library. We will attempt to predict <code>Sales</code> (child car seat sales) in <img src="https://latex.codecogs.com/png.latex?400"> locations based on a number of predictors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><span class="fu" style="color: #4758AB;">head</span>(Carseats)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sales CompPrice Income Advertising Population Price ShelveLoc Age Education
1  9.50       138     73          11        276   120       Bad  42        17
2 11.22       111     48          16        260    83      Good  65        10
3 10.06       113     35          10        269    80    Medium  59        12
4  7.40       117    100           4        466    97    Medium  55        14
5  4.15       141     64           3        340   128       Bad  38        13
6 10.81       124    113          13        501    72       Bad  78        16
  Urban  US
1   Yes Yes
2   Yes Yes
3   Yes Yes
4   Yes Yes
5   Yes  No
6    No Yes</code></pre>
</div>
</div>
<p>The <code>Carseats</code> data includes qualitative predictors such as <code>shelveloc</code>, an indicator of the quality of the shelving location—that is, the space within a store in which the car seat is displayed—at each location. The predictor <code>shelveloc</code> takes on three possible values: <em>Bad</em>, <em>Medium</em>, and <em>Good</em>. Given a qualitative variable such as <code>shelveloc</code>, <code>R</code> generates dummy variables automatically. Below we fit a multiple regression model that includes some interaction terms.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1">lm.fit <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">lm</span>(Sales <span class="sc" style="color: #5E5E5E;">~</span> . <span class="sc" style="color: #5E5E5E;">+</span> Income<span class="sc" style="color: #5E5E5E;">:</span>Advertising <span class="sc" style="color: #5E5E5E;">+</span> Price<span class="sc" style="color: #5E5E5E;">:</span>Age, </span>
<span id="cb54-2">    <span class="at" style="color: #657422;">data =</span> Carseats)</span>
<span id="cb54-3"><span class="fu" style="color: #4758AB;">summary</span>(lm.fit)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Sales ~ . + Income:Advertising + Price:Age, data = Carseats)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.9208 -0.7503  0.0177  0.6754  3.3413 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         6.5755654  1.0087470   6.519 2.22e-10 ***
CompPrice           0.0929371  0.0041183  22.567  &lt; 2e-16 ***
Income              0.0108940  0.0026044   4.183 3.57e-05 ***
Advertising         0.0702462  0.0226091   3.107 0.002030 ** 
Population          0.0001592  0.0003679   0.433 0.665330    
Price              -0.1008064  0.0074399 -13.549  &lt; 2e-16 ***
ShelveLocGood       4.8486762  0.1528378  31.724  &lt; 2e-16 ***
ShelveLocMedium     1.9532620  0.1257682  15.531  &lt; 2e-16 ***
Age                -0.0579466  0.0159506  -3.633 0.000318 ***
Education          -0.0208525  0.0196131  -1.063 0.288361    
UrbanYes            0.1401597  0.1124019   1.247 0.213171    
USYes              -0.1575571  0.1489234  -1.058 0.290729    
Income:Advertising  0.0007510  0.0002784   2.698 0.007290 ** 
Price:Age           0.0001068  0.0001333   0.801 0.423812    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.011 on 386 degrees of freedom
Multiple R-squared:  0.8761,    Adjusted R-squared:  0.8719 
F-statistic:   210 on 13 and 386 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>The <code>contrasts()</code> function returns the coding that <code>R</code> uses for the dummy variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><span class="fu" style="color: #4758AB;">attach</span>(Carseats)</span>
<span id="cb56-2"><span class="fu" style="color: #4758AB;">contrasts</span>(ShelveLoc)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Good Medium
Bad       0      0
Good      1      0
Medium    0      1</code></pre>
</div>
</div>
<p>Use <code>?contrasts</code> to learn about other contrasts, and how to set them.</p>
<p><code>R</code> has created a <code>ShelveLocGood</code> dummy variable that takes on a value of 1 if the shelving location is good, and 0 otherwise. It has also created a <code>ShelveLocMedium</code> dummy variable that equals 1 if the shelving location is medium, and 0 otherwise. A bad shelving location corresponds to a zero for each of the two dummy variables. The fact that the coefficient for <code>ShelveLocGood</code> in the regression output is positive indicates that a good shelving location is associated with high sales (relative to a bad location). And <code>ShelveLocMedium</code> has a smaller positive coefficient, indicating that a medium shelving location is associated with higher sales than a bad shelving location but lower sales than a good shelving location.</p>


</section>
</section>

 ]]></description>
  <category>r</category>
  <category>machine learning</category>
  <guid>https://slinberg.net/academics/695M/useful-r-tidbits/index.html</guid>
  <pubDate>Thu, 03 Feb 2022 05:00:00 GMT</pubDate>
  <media:content url="https://slinberg.net/academics/695M/useful-r-tidbits/ISLR-cover.png" medium="image" type="image/png" height="242" width="144"/>
</item>
<item>
  <title>Glossary</title>
  <link>https://slinberg.net/academics/695M/glossary/index.html</link>
  <description><![CDATA[ 



<p>Page numbers in parenthesis after terms, from <a href="https://www.statlearning.com/">ISLR</a> 2nd edition. Non-page numbers indicate other sources; “biostats” references material from Biostatistics 690Z (Health Data Science: Statistical Modeling), fall 2021.</p>
<section id="chapter-2" class="level2">
<h2 class="anchored" data-anchor-id="chapter-2">Chapter 2</h2>
<dl>
<dt>input variable (15)</dt>
<dd>
<p>also <em>predictor</em>, <em>independent variable</em>, <em>feature</em>; usually written <img src="https://latex.codecogs.com/png.latex?X_1,%20X_2">, etc. The parameter or parameters we are testing to see if they are related to or affect the output.</p>
</dd>
<dt>output variable (15)</dt>
<dd>
<p>also <em>response</em>, <em>dependent variable</em>; usually written <img src="https://latex.codecogs.com/png.latex?Y">. The outcome being measured.</p>
</dd>
<dt>error term (16)</dt>
<dd>
<p><img src="https://latex.codecogs.com/png.latex?%5Cepsilon"> in the equation<br>
<img src="https://latex.codecogs.com/png.latex?Y%20=%20f(X)%20+%20%5Cepsilon"> a random quantity of inaccuracy, <em>independent of X</em> and with <em>mean 0</em>.</p>
</dd>
<dt>systematic (16)</dt>
<dd>
<p><img src="https://latex.codecogs.com/png.latex?f"> in the equation<br>
<img src="https://latex.codecogs.com/png.latex?Y%20=%20f(X)%20+%20%5Cepsilon"> the function that describes the (systematic) information <img src="https://latex.codecogs.com/png.latex?X"> provides about <img src="https://latex.codecogs.com/png.latex?Y">. This plus the error term equals <img src="https://latex.codecogs.com/png.latex?Y">.</p>
</dd>
<dt>reducible error (18)</dt>
<dd>
<p>The amount of the error <img src="https://latex.codecogs.com/png.latex?%5Cepsilon"> that could be eliminated by improving our estimator <img src="https://latex.codecogs.com/png.latex?%5Chat%7Bf%7D">; the difference between <img src="https://latex.codecogs.com/png.latex?%5Chat%7Bf%7D"> and <img src="https://latex.codecogs.com/png.latex?f">. This book and course is mostly about ways to minimize the reducible error.</p>
</dd>
<dt>irreducible error (18)</dt>
<dd>
<p>The amount of <img src="https://latex.codecogs.com/png.latex?%5Cepsilon"> that could not be reduced even if <img src="https://latex.codecogs.com/png.latex?f"> was a perfect estimator of <img src="https://latex.codecogs.com/png.latex?Y">. Always greater than 0. Could be due to hidden variables in <img src="https://latex.codecogs.com/png.latex?%5Cepsilon">, or random fluctuations in Y, like a measure of “[a] patient’s general feeling of well-being on that day”.</p>
</dd>
<dt>expected value (19)</dt>
<dd>
<p><em>average value</em> of an expected measure.</p>
</dd>
<dt>training data (21)</dt>
<dd>
<p>data used to develop the model for estimating <img src="https://latex.codecogs.com/png.latex?f">.</p>
</dd>
<dt>parametric methods (21)</dt>
<dd>
<p>A model based on one or more input parameters, that yields a value for Y, as in:<br>
<img src="https://latex.codecogs.com/png.latex?f(X)%20=%20%5Cbeta_0%20+%20%5Cbeta_1X_1%20+%20%5Cbeta_2X_2%20+%20%5Cdots%20+%20%5Cbeta_pX_p"><br>
<img src="https://latex.codecogs.com/png.latex?Y%20%5Capprox%20%5Cbeta_0%20+%20%5Cbeta_1X_1%20+%20%5Cbeta_2X_2%20+%20%5Cdots%20+%20%5Cbeta_pX_p"><br>
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bincome%7D%20%5Capprox%20%5Cbeta_0%20+%20%5Cbeta_1%20%5Ctimes%20%5Ctext%7Beducation%7D%20+%20%5Cbeta_2%20%5Ctimes%20%5Ctext%7Bseniority%7D"><br>
This creates a predictive, <em>inflexible</em> model which usually does not match the true <img src="https://latex.codecogs.com/png.latex?f">, but which has advantages of simplicity and interpretability. It can be used to predict values for <img src="https://latex.codecogs.com/png.latex?Y"> based on its parameters, or inputs. Linear and logistic regression are parametric.</p>
</dd>
<dt>non-parametric methods (23)</dt>
<dd>
<p>methods that do not attempt to estimate <img src="https://latex.codecogs.com/png.latex?f">. More flexible and have the potential to very closely match observations, but with the risk of <em>overfitting</em> the data and increasing the <em>variance</em> of subsequent observations. They require much more data than parametric models, and may be difficult to interpret, K-Nearest Neighbor and Support Vector Machines are non-parametric.</p>
</dd>
<dt>prediction (26)</dt>
<dd>
<p>seeking to guess the value of an response variable <img src="https://latex.codecogs.com/png.latex?y_i"> given a set of observations and a predictor <img src="https://latex.codecogs.com/png.latex?f">.</p>
</dd>
<dt>inference (26)</dt>
<dd>
<p>a model that seems to better understand the relationship between the response and the predictors.</p>
</dd>
<dt>supervised learning (26)</dt>
<dd>
<p>a category of model that allows us to guess a <img src="https://latex.codecogs.com/png.latex?y_i"> response to a set of predictor measurements <img src="https://latex.codecogs.com/png.latex?x_i,%20i%20=%201,%20%5Cdots,%20n">.</p>
</dd>
<dt>unsupervised learning (26)</dt>
<dd>
<p>a category of model in which there are observations/measurements <img src="https://latex.codecogs.com/png.latex?x_i,%20i%20=%201,%20%5Cdots,%20n">, but no associated response <img src="https://latex.codecogs.com/png.latex?y_i">. Linear regression cannot be used because there is no response variable to predict.</p>
</dd>
<dt>cluster analysis (27)</dt>
<dd>
<p>in unsupervised learning, a statistical method for determining whether a set of observations can be divided into “relatively distinct groups,” looking for similarities within the groups. (Topic modeling may be an example of this.)</p>
</dd>
<dt>quantitative variables (28)</dt>
<dd>
<p>numeric values; age, height, weight, quantity. Usually the response variable type for regression problems.</p>
</dd>
<dt>qualitative variables (28)</dt>
<dd>
<p>also <em>categorical</em>: values from a discrete set. Eye color, name, yes/no. Usually the response variable type for classification problems.</p>
</dd>
<dt>regression problems (28)</dt>
<dd>
<p>problems with quantitative response variables. Given predictors foo, bar, and baz, how big is the frob?</p>
</dd>
<dt>classification problems (28)</dt>
<dd>
<p>problems with qualitative response variables. Given predictors foo, bar, and baz, is the outcome likely to be a frob, a frib or a freeb?</p>
</dd>
<dt>mean squared error (MSE) (29)</dt>
<dd>
<p>the average squared error for a set of observations: <img src="https://latex.codecogs.com/png.latex?MSE%20=%20%5Cfrac%7B1%7D%7Bn%7D%5Csum_%7Bi=1%7D%5E%7Bn%7D(y_i%20-%20%5Chat%7Bf%7D(x_i))%5E2"> MSE is small if the predicted responses are close to the true responses, and larger as it becomes less accurate; computed from training data, and Gareth <em>et al.</em> suggest it should be called <em>training MSE</em>.</p>
</dd>
<dt>variance (34)</dt>
<dd>
<p>*“the amount by which** <img src="https://latex.codecogs.com/png.latex?%5Chat%7Bf%7D"> would change if we estimated it using a different training data set” More practically: the average* of squared differences from the mean, often expressed as <img src="https://latex.codecogs.com/png.latex?%5Csigma%5E2">, where <img src="https://latex.codecogs.com/png.latex?%5Csigma"> (or the square root of the variance) is the standard deviation per <a href="https://www.youtube.com/watch?v=EuBBz3bI-aA&amp;t=246s">StatQuest</a>: “the difference in fits between data sets” (like training and test)</p>
</dd>
<dt>bias (35)</dt>
<dd>
<p><em>“the error that is introduced by approximating a real-life problem, which may be extremely complicated, by a much simpler model”</em>, as in the error from the (presumed) linearity of a regression against non-linear data whose complexity it does not capture. More flexible models increase variance and decrease bias. per <a href="https://www.youtube.com/watch?v=EuBBz3bI-aA&amp;t=136s">StatQuest</a>: “The inability for a machine learning method (like linear regression) to capture the true relationship is called <strong>bias</strong>” - a straight line trying to model a curved separation in classes will never get it right and always be biased</p>
</dd>
<dt>bias (65)</dt>
<dd>
<p>in an estimator, something that systematically misses the true parameter; for an unbiased estimator, <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cmu%7D%20=%20%5Cmu"> when averaged over (huge) numbers of observations</p>
</dd>
<dt>bias-variance trade-off (36)</dt>
<dd>
<p>The tension in seeking the best model for the data between missing the true <img src="https://latex.codecogs.com/png.latex?f"> with an overly simple (biased) model, vs.&nbsp;an overfitted model with too much variance from mapping too closely to test data.</p>
</dd>
<dt>error rate (37)</dt>
<dd>
<p>In classification, the proportion of classifications that are mistakes. <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7Bn%7D%5Csum_%7Bi=1%7D%5E%7Bn%7DI(y_i%20%5Cneq%20%5Chat%7By%7D_i)"> <img src="https://latex.codecogs.com/png.latex?I"> is 1 if <img src="https://latex.codecogs.com/png.latex?y_i%20%5Cneq%20%5Chat%7By%7D_i"> - if the guess for any given <img src="https://latex.codecogs.com/png.latex?y"> is wrong. The error rate is the percentage of incorrect classifications. Also the <em>training erorr rate</em>.</p>
</dd>
<dt>indicator variable (37)</dt>
<dd>
<p><img src="https://latex.codecogs.com/png.latex?I"> in the error rate definition above; a logical variable indicating the presence or absence of a characteristic or trait (such as an accurate classification).</p>
</dd>
<dt>test error rate (37)</dt>
<dd>
<p>like the <em>training error rate</em> but applied to the test data. Uses <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BAve%7D"> instead of sum notation: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BAve%7D(I(y_0%20%5Cneq%20%5Chat%7By%7D_0))"> <img src="https://latex.codecogs.com/png.latex?%5Chat%7By%7D_0"> is the predicted class label from the classifier.</p>
</dd>
<dt>conditional probability (37)</dt>
<dd>
<p>The chance that <img src="https://latex.codecogs.com/png.latex?Y%20=%20j"> given an observed <img src="https://latex.codecogs.com/png.latex?x_0">, as in the <em>Bayes classifier</em>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPr%7D(Y%20=%20j%7CX%20=%20x_0)"> In a two-class, yes/no classifier, we decide based on whether <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPr%7D(Y%20=%20j%7CX%20=%20x_0)"> is <img src="https://latex.codecogs.com/png.latex?%3E%200.5">, or not. Note that <img src="https://latex.codecogs.com/png.latex?Y"> is the class, as in “ham”/“spam”, not a <img src="https://latex.codecogs.com/png.latex?y">-axis coordinate.</p>
</dd>
<dt>Bayes decision boundary (38)</dt>
<dd>
<p>a visual depiction of the line of 50% probability dividing (exactly two?) classes in a two-dimensional space</p>
</dd>
<dt>Bayes error rate (38)</dt>
<dd>
<p>the expected (average) probability of classification error over all values of X in a data set. <img src="https://latex.codecogs.com/png.latex?1%20-%20E(%5Cunderset%7Bj%7D%7BmaxPr%7D(Y%20=%20j%7CX))"> The <img src="https://latex.codecogs.com/png.latex?%5Cunderset%7Bj%7D%7BmaxPr%7D"> whichever of the <img src="https://latex.codecogs.com/png.latex?j"> classes has the highest probability for any given value of <img src="https://latex.codecogs.com/png.latex?X">. Again, <img src="https://latex.codecogs.com/png.latex?Y"> is not a y-axis coordinate of a two-dimensional space, it’s the <em>class</em> of the classification: “yes”/“no”, “ham”/“spam”, “infected”/“not infected”. Also: <em>“The Bayes error rate is analogous to the irreducible error, discussed earlier.”</em></p>
</dd>
<dt>K-nearest-neighbors (KNN) (39)</dt>
<dd>
<p>a classifier that assigns a class Y to an observation based on the population proportions of its nearest neighbors; a circular “neighborhood” on a two-dimensional plot. It looks at actual data points that have been classified, and asks what any given non-classified point would be classified as based on its nearest neighbors.</p>
</dd>
</dl>
</section>
<section id="chapter-3" class="level2">
<h2 class="anchored" data-anchor-id="chapter-3">Chapter 3</h2>
<dl>
<dt>Synergy effect / interaction effect (60)</dt>
<dd>
<p>when two or more predictors affect each other as well as the outcome; when 50k each in TV or radio ads give different results than 100k in either one</p>
</dd>
<dt>Simple linear regression</dt>
<dd>
<p>the simplest model, predicting <img src="https://latex.codecogs.com/png.latex?Y"> from a single predictor <img src="https://latex.codecogs.com/png.latex?X">. <img src="https://latex.codecogs.com/png.latex?Y%20%5Capprox%20%5Cbeta_0%20+%20%5Cbeta_1X"> <img src="https://latex.codecogs.com/png.latex?%5Capprox"> = “is approximately modeled as”</p>
</dd>
<dt>least squares (61)</dt>
<dd>
<p>the most common measure of closeness of a regression line to its data points, the sum of squares of the distances between the points and the closest point on the line (directly above or below)</p>
</dd>
<dt>residual (61)</dt>
<dd>
<p>the difference between <img src="https://latex.codecogs.com/png.latex?y_i"> and <img src="https://latex.codecogs.com/png.latex?%5Chat%7By%7D_i">, also <img src="https://latex.codecogs.com/png.latex?e_i">; the difference between the <img src="https://latex.codecogs.com/png.latex?i">th response variable and the <img src="https://latex.codecogs.com/png.latex?i">th response variable predicted by the model <a href="https://youtu.be/g9c66TUylZ4?t=542">StatQuest</a>: the difference between the <em>observed</em> and <em>predicted</em> value</p>
</dd>
<dt>residual sum of squares (RSS) (62)</dt>
<dd>
<p>the sum of the squared residuals for each point on the regression line <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRSS%7D%20=%20e_1%5E2%20+%20e_2%5E2%20+%20%5Cdots%20+%20e_n%5E2"> Formulas for <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cbeta_0%7D"> and <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cbeta_1%7D"> are on p.&nbsp;62</p>
</dd>
<dt>intercept (<img src="https://latex.codecogs.com/png.latex?%5Cbeta_0">) (63)</dt>
<dd>
<p>the expected value of <img src="https://latex.codecogs.com/png.latex?Y"> when <img src="https://latex.codecogs.com/png.latex?X%20=%200"></p>
</dd>
<dt>slope (<img src="https://latex.codecogs.com/png.latex?%5Cbeta_1">) (63)</dt>
<dd>
<p>the average increase in <img src="https://latex.codecogs.com/png.latex?Y"> associated with a one-unit increase in <img src="https://latex.codecogs.com/png.latex?X"></p>
</dd>
<dt>error term (<img src="https://latex.codecogs.com/png.latex?%5Cepsilon">) (63)</dt>
<dd>
<p>whatever we missed with the model, due to the true model not being linear (it almost never is), measurement error, or other variables that cause variation in <img src="https://latex.codecogs.com/png.latex?Y"></p>
</dd>
<dt>population regression line (63)</dt>
<dd>
<p>“the best linear approximation to the true relationship between <img src="https://latex.codecogs.com/png.latex?X"> and <img src="https://latex.codecogs.com/png.latex?Y">” <img src="https://latex.codecogs.com/png.latex?Y%20=%20%5Cbeta_0%20+%20%5Cbeta_1X%20+%20%5Cepsilon"> least squares line (63)</p>
</dd>
<dd>
<p>the regression line made of the least-squares estimates for <img src="https://latex.codecogs.com/png.latex?%5Cbeta_0"> and <img src="https://latex.codecogs.com/png.latex?%5Cbeta_1"></p>
</dd>
<dt>standard error (SE) (65)</dt>
<dd>
<p>the average amount that an estimate <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cmu%7D"> (sample mean) differs from the actual value of <img src="https://latex.codecogs.com/png.latex?%5Cmu"> (population mean) <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BVar%7D(%5Chat%7B%5Cmu%7D)%20=%20%5Ctext%7BSE%7D(%5Chat%7B%5Cmu%7D)%5E2%20=%20%5Cfrac%7B%5Csigma%5E2%7D%7Bn%7D%20(%5Ctext%7Balso%7D%20=%20%5Cfrac%7B%5Csigma%7D%7B%5Csqrt%7Bn%7D%7D)"> <img src="https://latex.codecogs.com/png.latex?%5Csigma"> is “the standard deviation of each of the realizations <img src="https://latex.codecogs.com/png.latex?y_i"> of <img src="https://latex.codecogs.com/png.latex?Y">. Since <img src="https://latex.codecogs.com/png.latex?%5Csigma%5E2"> is divided by <img src="https://latex.codecogs.com/png.latex?n">, the standard error shrinks as observations increase. It represents the amount we would expect means of additional samples to”jump around” simply due to random chance and the limitations of the model’s accuracy.<sup>1</sup></p>
</dd>
<dt>residual standard error (RSE) (66)</dt>
<dd>
<p>the estimate of <img src="https://latex.codecogs.com/png.latex?%5Csigma"> <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRSE%7D%20=%20%5Csqrt%7BRSS%20/%20(n-2)%7D"></p>
</dd>
<dt>confidence interval (66)</dt>
<dd>
<p>a range of values within which we have a measured probability (often 95%) of containing the true value of the parameter; a 95% confidence interval in linear regression takes the form <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cbeta_1%7D%20%5Cpm%202%20%5Ccdot%20%5Ctext%7BSE%7D(%5Chat%7B%5Cbeta_1%7D)"></p>
</dd>
<dt>t-statistic (67)</dt>
<dd>
<p>the number of standard deviations that <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cbeta_1%7D"> is away from <img src="https://latex.codecogs.com/png.latex?0">. <img src="https://latex.codecogs.com/png.latex?t%20=%20%5Cfrac%7B%7B%5Chat%7B%5Cbeta_1%7D%7D%20-%200%7D%7B%5Ctext%7BSE%7D(%5Chat%7B%5Cbeta_1%7D)%7D"> For there to be a relationship between <img src="https://latex.codecogs.com/png.latex?X"> and <img src="https://latex.codecogs.com/png.latex?Y">, <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cbeta_1%7D"> has to be nonzero (i.e.&nbsp;have a slope). The standard error (SE) of <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cbeta_1%7D"> (in the denominator above) measures its accuracy; if it is small, then <img src="https://latex.codecogs.com/png.latex?t"> will be larger, and if it is large, then <img src="https://latex.codecogs.com/png.latex?t"> will be smaller. <img src="https://latex.codecogs.com/png.latex?t"> is around 2 for a p-value of 0.05 (actually about 1.96, as 2 standard deviations is 95.45% of a normal distribution), and around 2.75 for a p-value of 0.01.</p>
</dd>
<dt>p-value (67)</dt>
<dd>
<p>the probability of observing a value greater than <img src="https://latex.codecogs.com/png.latex?%7Ct%7C"> by chance.</p>
</dd>
<dt>model sum of squares (MSS) (biostats)</dt>
<dd>
<p>Also sometimes <strong>ESS</strong>, “explained sum of squares”: the total variance in the response <img src="https://latex.codecogs.com/png.latex?Y"> that can be accounted for by the model <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BMSS%7D%20=%20%5Csum(%5Chat%7By_i%7D%20-%20%5Cbar%7By%7D)%5E2"></p>
</dd>
<dt>residual sum of squares (RSS) (biostats)</dt>
<dd>
<p>the total variance in the response <img src="https://latex.codecogs.com/png.latex?Y"> that cannot be accounted for by the model <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRSS%7D%20=%20%5Csum(y_i%20-%20%5Chat%7By_i%7D)%5E2"> also <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRSS%7D%20=%20e_i%5E2%20+%20e_2%5E2%20+%20%5Cdots%20+%20e_n%5E2"> or <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRSS%7D%20=%20(y_1%20-%20%5Chat%7B%5Cbeta_0%7D%20-%20%7B%5Chat%7B%5Cbeta_1%7Dx_1%7D)%5E2%20+%20(y_2%20-%20%5Chat%7B%5Cbeta_0%7D%20-%20%7B%5Chat%7B%5Cbeta_1%7Dx_2%7D)%5E%20+%20%5Cdots%20+%20(y_n%20-%20%5Chat%7B%5Cbeta_0%7D%20-%20%7B%5Chat%7B%5Cbeta_1%7Dx_n%7D)%5E2"></p>
</dd>
<dt>total sum of squares (TSS) (70)</dt>
<dd>
<p>the total variance in the response <img src="https://latex.codecogs.com/png.latex?Y">; the total variability of the response about its mean <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BTSS%7D%20=%20%5Csum(y_i%20-%20%5Cbar%7By%7D)%5E2"> compare with RSS, the amount of variability left unexplained after the regression. TSS - RSS is the amount of variability (or error) explained by the regression (MSS).</p>
</dd>
</dl>
<p><strong>NOTE</strong>: there is a nice visual <a href="https://stats.stackexchange.com/a/512216/338749">here on stackexchange</a>; if anybody knows how to tell Zotero to use a custom bibtex citation entry over the ones it generates, please let me know so I can integrate it better here :frown:</p>
<dl>
<dt><img src="https://latex.codecogs.com/png.latex?R%5E2"> statistic (70)</dt>
<dd>
<p>the proportion of variance in <img src="https://latex.codecogs.com/png.latex?Y"> explained by <img src="https://latex.codecogs.com/png.latex?X">, a range from 0 to 1 <img src="https://latex.codecogs.com/png.latex?R%5E2%20=%20%5Cfrac%7B%5Ctext%7BTSS%20-%20RSS%7D%7D%7B%5Ctext%7BTSS%7D%7D%20=%201%20-%20%5Cfrac%7B%5Ctext%7BRSS%7D%7D%7B%5Ctext%7BTSS%7D%7D"> <img src="https://latex.codecogs.com/png.latex?R%5E2"> values close to 1 indicate a regression that explains a lot of the variability in the response, and a stronger model. A value close to 0 indicates that the regression doesn’t explain much of the variability.</p>
</dd>
<dt>correlation (70)</dt>
<dd>
<p>a measure of the linearity of the relationship between <img src="https://latex.codecogs.com/png.latex?X"> and <img src="https://latex.codecogs.com/png.latex?Y">; values close to 0 indicate weak-to-no relationship, values near 1 or -1 indicate strong positive or negative correlation <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BCor(X,%20Y)%7D%20=%20%7B%5Cfrac%20%7B%5Csum%20_%7Bi=1%7D%5E%7Bn%7D(x_%7Bi%7D-%7B%5Cbar%20%7Bx%7D%7D)(y_%7Bi%7D-%7B%5Cbar%20%7By%7D%7D)%7D%7B%7B%5Csqrt%20%7B%5Csum%20_%7Bi=1%7D%5E%7Bn%7D(x_%7Bi%7D-%7B%5Cbar%20%7Bx%7D%7D)%5E%7B2%7D%7D%7D%7B%5Csqrt%20%7B%5Csum%20_%7Bi=1%7D%5E%7Bn%7D(y_%7Bi%7D-%7B%5Cbar%20%7By%7D%7D)%5E%7B2%7D%7D%7D%7D%7D"></p>
</dd>
<dt>standard linear regression model (72)</dt>
<dd>
<p>The modal used for standard linear models, used to interpret the the effect on <img src="https://latex.codecogs.com/png.latex?Y"> of a one-unit increase in any predictor <img src="https://latex.codecogs.com/png.latex?%5Cbeta_j"> while holding all other predictors constant <img src="https://latex.codecogs.com/png.latex?Y%20=%20%5Cbeta_0%20+%20%5Cbeta_1X_1%20+%20%5Cbeta_2X_2%20+%20%5Cdots%20+%20%5Cbeta_pX_p%20+%20%5Cepsilon"></p>
</dd>
<dt>variable selection (78)</dt>
<dd>
<p>the task of refining a model to include only the variables associated with the response</p>
</dd>
<dt>null model (79)</dt>
<dd>
<p>a model that conatins an intercept, but no predictors; used as a first stage in forward selection</p>
</dd>
<dt>forward selection (79)</dt>
<dd>
<p>a variable selection method that starts with a null model, and then runs simple linear regressions on all predictors <img src="https://latex.codecogs.com/png.latex?p"> and adding the one that results in the lowest RSS; repeated until some threshold is reached</p>
</dd>
<dt>backwards selection (79)</dt>
<dd>
<p>a variable selection method that starts with a model with all predictors, and removing the one with the lowest <img src="https://latex.codecogs.com/png.latex?p">-value until all remaining predictors are significant, whether by <img src="https://latex.codecogs.com/png.latex?p">-value or some other criterion</p>
</dd>
<dt>mixed selection (79)</dt>
<dd>
<p>a hybrid approach starting with a null model, adding predictors one at a time that produce the best fit, and removing any that acquire a larger <img src="https://latex.codecogs.com/png.latex?p">-value in the process until all predictors are added or eliminated</p>
</dd>
<dt>interaction (81)</dt>
<dd>
<p>when predictors affect each other, in addition to providing their own effect on the model</p>
</dd>
<dt>confidence interval (82)</dt>
<dd>
<p>a range with a percentage component in which there is that percentage chance that the true value of an estimated parameter lies; a 95% confidence interval is a range in which we can be 95% certain <img src="https://latex.codecogs.com/png.latex?f(X)"> will be found</p>
</dd>
<dt>prediction interval (82)</dt>
<dd>
<p>similar to confidence interval, but a prediction range within which we are <img src="https://latex.codecogs.com/png.latex?X">% certain that any singular future observation will fall, rather than a statistic like an overall mean; a 95% prediction interval is a range in which we are confident that 95% of future observations will fall. Prediction ranges are substantially wider than confidence intervals.</p>
</dd>
<dt>qualitative predictor / factor (83)</dt>
<dd>
<p>a categorical predictor with a fixed number of factors, like “yes” / “no” or “red” / “yellow” / “green”</p>
</dd>
<dt>dummy variable (83)</dt>
<dd>
<p>a numeric representation of a factor to use in a model, as in representing “yes” / “no” factor variables as 1 / 0 in a regression</p>
</dd>
<dt>baseline (86)</dt>
<dd>
<p>the factor level where there is no dummy variable; a factor with 3 levels will use 2 dummy variables, with the factor’s absence signifying the 3rd value (usually 0)</p>
</dd>
<dt>additivity assumption (87)</dt>
<dd>
<p>the assumption that the association between a predictor <img src="https://latex.codecogs.com/png.latex?X"> and the response <img src="https://latex.codecogs.com/png.latex?Y"> does not depend on the value of other predictors; used by the standard linear regression model</p>
</dd>
<dt>linearity assumption (87)</dt>
<dd>
<p>the assumption, also used by the standard linear regression model, that unit changes in <img src="https://latex.codecogs.com/png.latex?X_j"> result in the same change to Y regardless of its value</p>
</dd>
<dt>interaction term (88)</dt>
<dd>
<p>the product of two predictors in a multiple regression model, quantifying their effect on each other</p>
</dd>
<dt>main effect (89)</dt>
<dd>
<p>isolated effects; the effect of a single predictor on the outcome</p>
</dd>
<dt>hierarchical principle (89)</dt>
<dd>
<p>the principle that main effects should be left in a model even if they are statistically insignificant, if they are also part of an interaction that is significant</p>
</dd>
<dt>polynomial regression (91)</dt>
<dd>
<p>an extension of linear regression to accommodate non-linear relationships</p>
</dd>
<dt>residual plot (93)</dt>
<dd>
<p>a plot of the residuals or errors (<img src="https://latex.codecogs.com/png.latex?e_i%20=%20y_i%20-%20%5Chat%7By%7D_i">), used to check for non-linearity (a potential problem that would likely indicate something was missed in the model)</p>
</dd>
<dt>time series (94)</dt>
<dd>
<p>data consisting of observation made at discrete points in time</p>
</dd>
<dt>tracking (95)</dt>
<dd>
<p>when (residuals / variables?) tend to have similar values</p>
</dd>
<dt>heteroscedasticity (96)</dt>
<dd>
<p>non-constant variances in errors; “unequal scatter”</p>
</dd>
<dt>homoscedasticity (extra)</dt>
<dd>
<p>constant variances in errors; follows the assumption of equal variance required by most methods</p>
</dd>
<dt>weighted least squares (97)</dt>
<dd>
<p>an extension to ordinary least squares used in circumstances of heteroscedasticity, to weight data points proportionally with the inverse variances</p>
</dd>
<dt>outlier (97)</dt>
<dd>
<p>an observation whose value is very far from its predicted value</p>
</dd>
<dt>studentized residual (98)</dt>
<dd>
<p>a residual divided by its estimated standard error; observations with student residuals higher than 3 (indicating 3 standard deviations) are likely outliers</p>
</dd>
<dt>high leverage (98)</dt>
<dd>
<p>observations with an unusual <img src="https://latex.codecogs.com/png.latex?x_i"> value, far from other / expected <img src="https://latex.codecogs.com/png.latex?x"> values</p>
</dd>
<dt>leverage statistic (99)</dt>
<dd>
<p>a quantification of a point’s leverage <img src="https://latex.codecogs.com/png.latex?h_i%20=%20%5Cfrac%7B1%7D%7Bn%7D%20+%20%5Cfrac%7B(x_i%20-%20%5Cbar%7Bx%7D)%5E2%7D%7B%5Csum_%7Bi'=1%7D%5E%7Bn%7D(x_%7Bi%60%7D%20-%20%5Cbar%7Bx%7D)%5E2%7D"></p>
</dd>
<dt>collinearity (99)</dt>
<dd>
<p>when two or more predictor variables are closely related to each other</p>
</dd>
<dt>power (101)</dt>
<dd>
<p>the probability of a test correctly detecting a nonzero coefficient (and correctly rejecting <img src="https://latex.codecogs.com/png.latex?H_0%20:%20%5Cbeta_j%20=%200">)</p>
</dd>
<dt>multicollinearity (102)</dt>
<dd>
<p>when collinearity exists between three or more predictors even when no pair of predictors is collinear (or correlated)</p>
</dd>
<dt>variance inflation factor (102)</dt>
<dd>
<p>“the ratio of the variance of <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cbeta_j%7D"> when fitting the full model divided by the variance of <img src="https://latex.codecogs.com/png.latex?%5Chat%7B%5Cbeta_j%7D"> on its own”; smallest possible value of 1 indicates the absence of collinearity, 5-10 indicates a “problematic amount”. <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BVIF%7D(%5Chat%7B%5Cbeta_j%7D)%20=%20%5Cfrac%7B1%7D%7B1%20-%20%7BR_%7BX_j%7CX_-j%7D%5E2%7D%7D"> “<img src="https://latex.codecogs.com/png.latex?R_%7BX_j%7CX_-j%7D%5E2"> is the <img src="https://latex.codecogs.com/png.latex?R%5E2"> from a regression of <img src="https://latex.codecogs.com/png.latex?X_j"> onto all of the other predictors”</p>
</dd>
<dt>K-nearest neighbors regression (105)</dt>
<dd>
<p>a mode of regression that seeks to classify observations by their proximity to classified neighbors</p>
</dd>
<dt>curse of dimensionality (107)</dt>
<dd>
<p>when an observation has no nearby neighbors due to a high number of dimensions exponentially increasing the available space for other observations to be spread out in</p>
</dd>
</dl>
</section>
<section id="chapter-4" class="level1">
<h1>Chapter 4</h1>
<dl>
<dt>qualitative / categorical (129)</dt>
<dd>
<p>interchangeable term for a variable with a non-quantitative value, such as color</p>
</dd>
<dt>classification (129)</dt>
<dd>
<p>predicting a qualitative response for an observation</p>
</dd>
<dt>classifier (129)</dt>
<dd>
<p>a classification technique, such as: logistic regression, linear discriminant analysis, quadratic discriminant analysis, naive Bayes, and K-nearest neighbors</p>
</dd>
<dt>logistic function (134)</dt>
<dd>
<p>a specific function returning an S-shaped curve with values between 0 and 1, used in logistic regression <img src="https://latex.codecogs.com/png.latex?p(X)%20=%20%5Cfrac%7Be%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D%7D%7B1%20+%20e%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D%7D"></p>
</dd>
<dt>odds (134)</dt>
<dd>
<p>the likelihood of a particular outcome: the ratio of the number of results that produce the outcome versus the number that do not, between 0 and <img src="https://latex.codecogs.com/png.latex?%5Cinfty"> (very low or very high probabilities) <img src="https://latex.codecogs.com/png.latex?odds%20=%20%5Cfrac%7Bp(X)%7D%7B1%20-%20p(X)%7D%20=%20e%5E%7B%5Cbeta_0%20+%20%5Cbeta_1X%7D"> Note: odds is not the same as probability! Odds of 1/4 means a 20% probability, not 25%.</p>
</dd>
</dl>
<p>To convert from odds to probability: divide odds by (1 + odds), as in:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7B4%7D%20%5Cdiv%20%5Cleft%5B%201%20+%20%5Cfrac%7B1%7D%7B4%7D%20%5Cright%5D%20=%20%5Cfrac%7B1%7D%7B4%7D%20%5Cdiv%20%5Cfrac%7B5%7D%7B4%7D%20=%201/5%20=%200.2"></p>
<p>To convert from probability to odds, divide probability by (1 - probability), as in: <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7B5%7D%20%5Cdiv%20%5Cleft%5B%201%20-%20%5Cfrac%7B1%7D%7B5%7D%20%5Cright%5D%20=%20%5Cfrac%7B1%7D%7B5%7D%20%5Cdiv%20%5Cfrac%7B4%7D%7B5%7D%20=%20%5Cfrac%7B1%7D%7B5%7D%20%5Ctimes%20%5Cfrac%7B5%7D%7B4%7D%20=%201/4%20=%200.25"> log odds / logit (135) : the log of the odds <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Blog%7D%20%5Cleft(%20%5Cfrac%7Bp(X)%7D%7B1%20-%20p(X)%7D%20%5Cright)"></p>
<dl>
<dt>likelihood function (135)</dt>
<dd>
<p>a function that produces the closest possible match of a set of observations, for use in predicting the classifications of other points hairy equation not rendered</p>
</dd>
<dt>confounding (139)</dt>
<dd>
<p>when predictors correlate; usually this is something to work to avoid</p>
</dd>
<dt>multinomial logistic regression (140)</dt>
<dd>
<p>logistic regression into more than 2 categories</p>
</dd>
<dt>softmax coding (141)</dt>
<dd>
<p>an alternative coding for multiple logistic regression that treats all classes symmetrically, rather than establishing one as a baseline</p>
</dd>
<dt>(probability) density function (142)</dt>
<dd>
<p>a function returning the likelihood of a particular value occurring in a given sample, between 0 and 1; often used in pairs to establish likelihood of a value within a range rather than the likelihood of an infinitely-thin single “slice”</p>
</dd>
<dt>prior (142)</dt>
<dd>
<p>the probability that a random observation comes from class <img src="https://latex.codecogs.com/png.latex?k"></p>
</dd>
<dt>posterior (142)</dt>
<dd>
<p>the probability that an observation belongs to a class <img src="https://latex.codecogs.com/png.latex?k"> given its predictor value</p>
</dd>
<dt>normal / Gaussian (143)</dt>
<dd>
<p>characterized by a bell-shaped curve, not uniformly distributed but tending towards a likeliest/central value</p>
</dd>
<dt>overfitting (148)</dt>
<dd>
<p>mapping too closely to idiosyncrasies in training data, increasing variance in a model</p>
</dd>
<dt>null classifier (148)</dt>
<dd>
<p>a classifier that always predicts a zero or null status</p>
</dd>
<dt>confusion matrix (148)</dt>
<dd>
<p>a matrix showing how many predictions were made, and how accurate the classifications were (predicted x actual, hits on TL-BR diagonal and misses on BL-TR diagonal)</p>
</dd>
<dt>sensitivity (149)</dt>
<dd>
<p>the percentage of a class (like defaulters) that is correctly identified</p>
</dd>
<dt>specificity (149)</dt>
<dd>
<p>the percentage of a different class (like non-defaulters) that is correctly identified</p>
</dd>
</dl>
<p>Note: sensitivity and specificity can and should be separately considered when evaluating ML methods. Each column (class) of a confusion matrix has a sensitivity and a specificity. In a 2x2, this is simple; in larger than 2x2, it involves summation.</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BSensitivity%7D%20=%20%5Cfrac%7B%5Ctext%7BTrue%20Positives%7D%7D%7B%5Ctext%7BTrue%20Positives%20+%20False%20Negatives%7D%7D"> True positives is the cell in the class column containing the number of correct predictions in a category; the false negatives are the rest of the column.</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BSpecificity%7D%20=%20%5Cfrac%7B%5Ctext%7BTrue%20Negatives%7D%7D%7B%5Ctext%7BTrue%20Negatives%20+%20False%20Positives%7D%7D"> True negatives is the sum of cells, in the other columns, that correctly do <em>not</em> predict the class (even if they wrongly predict some other class as well); the false positives are the rest of the <em>row</em> for the class that incorrectly predicted that class.</p>
<p>ROC charts show the true positive rate (sensitivity) on the Y axis, and the false positive rate (1 - sensitivity) on the X axis.</p>
<dl>
<dt>ROC curve (150)</dt>
<dd>
<p>Receiver Operating Characteristics; name of a curve showing the overall performance of a classifier resembling the top left corner of a rounded rectangle; area under the curve (AUC) indicates the percentage of correct classifications; the closer it is to square, the bigger the AUC, the better the classifier. The Y axis is true positive rate (sensitivity). the X axis is false positive rate (1 - sensitivity).</p>
</dd>
</dl>
<p><a href="https://www.youtube.com/watch?v=4jRBRDbJemM&amp;list=PLblh5JKOoLUICTaGLRoHQDuF_7q2GfuJF&amp;index=6">StatQuest</a>: AUC (area under the curve) of the ROC shows the overall effectiveness / quality of a model; good models will fill the space more. And the points of the individual curve help indicate the best thresholds to pick for the classifier; points with X = 0 have no false positives, and points with Y = 1 get all of the true positives.</p>
<p>Also, <em>precision</em> is another option for the X-axis, rather than false positives, if it’s more important to know the proportion of the true positives were correctly identified.</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BPrecision%7D%20=%20%5Cfrac%7B%5Ctext%7BTrue%20Positives%7D%7D%7B%5Ctext%7BTrue%20Positives%20+%20False%20Positives%7D%7D"></p>
<dl>
<dt>marginal distribution (155)</dt>
<dd>
<p>the distribution of an individual predictor</p>
</dd>
<dt>joint distribution (155)</dt>
<dd>
<p>the association between different predictors</p>
</dd>
<dt>kernel density estimator (156)</dt>
<dd>
<p>“essentially a smoothed version of a histogram”</p>
</dd>
</dl>
</section>
<section id="chapter-5" class="level1">
<h1>Chapter 5</h1>
<dl>
<dt>model assessment (197)</dt>
<dd>
<p>the process of evaluating a model’s performance</p>
</dd>
<dt>model selection (197)</dt>
<dd>
<p>the process of selecting the proper level of flexibility for a model</p>
</dd>
<dt>validation set approach (198)</dt>
<dd>
<p>randomly dividing a set of observations into a training set and a validation or hold-out set, to assess the test error rate</p>
</dd>
<dt>leave one out cross-validation (LOOCV) (200)</dt>
<dd>
<p>using a single observation for a validation set and the rest as a training set</p>
</dd>
<dt>k-fold cross-validation (CV) (203)</dt>
<dd>
<p>dividing a set of observation into <img src="https://latex.codecogs.com/png.latex?k"> groups of approximately equal size, using the first as a validation set and fitting the method on the remaining <img src="https://latex.codecogs.com/png.latex?k-1"> folds</p>
</dd>
<dt>bootstrap (209)</dt>
<dd>
<p>a tool to quantify the uncertainty associated with a given estimator or statistical learning method</p>
</dd>
<dt>sampling with replacement (211)</dt>
<dd>
<p>picking from a set without removing the picked elements</p>
</dd>
</dl>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>http://faculty.ucr.edu/~hanneman/nettext/C1_Social_Network_Data.html↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>machine learning</category>
  <category>glossary</category>
  <category>math</category>
  <guid>https://slinberg.net/academics/695M/glossary/index.html</guid>
  <pubDate>Thu, 03 Feb 2022 05:00:00 GMT</pubDate>
</item>
<item>
  <title>697E - Political Networks Analysis</title>
  <link>https://slinberg.net/academics/697E/index.html</link>
  <description><![CDATA[ 



<dl>
<dt>Date</dt>
<dd>
Spring 2022
</dd>
<dt>Professor</dt>
<dd>
<a href="https://polsci.umass.edu/people/meredith-rolfe">Meredith Rolfe</a>
</dd>
</dl>
<p>This class applied network theory to political and social networks.</p>




<div class="quarto-listing quarto-listing-container-default" id="listing-listing">
<div class="list quarto-listing-default">
<div class="quarto-post image-right" data-index="0" data-categories="r,social networks" data-listing-date-sort="1644296400000" data-listing-file-modified-sort="1666298895401" data-listing-reading-time-sort="20.995">
<div class="thumbnail">
<a href="../../academics/697E/useful-r-tidbits/index.html">
<div class="thumbnail-image">

</div>
</a><p><a href="../../academics/697E/useful-r-tidbits/index.html"></a></p>
</div>
<div class="body">
<a href="../../academics/697E/useful-r-tidbits/index.html">
<h3 class="no-anchor listing-title">
Useful R tidbits: Political Networks Analysis
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('r'); return false;">
r
</div>
<div class="listing-category" onclick="window.quartoListingCategory('social networks'); return false;">
social networks
</div>
</div>
<a href="../../academics/697E/useful-r-tidbits/index.html">
<div class="listing-description">
<p>Tasty R snacks that do useful things in Political Networks Analysis</p>
</div>
</a>
</div>
<div class="metadata">
<a href="../../academics/697E/useful-r-tidbits/index.html">
<div class="listing-date">
Feb 8, 2022
</div>
<div class="listing-reading-time">
20 min
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="1" data-categories="r,social networks" data-listing-date-sort="1648267200000" data-listing-file-modified-sort="1666274573044" data-listing-reading-time-sort="6.745">
<div class="thumbnail">
<a href="../../academics/697E/697E-hw6/index.html">
<div class="thumbnail-image">

</div>
</a><p><a href="../../academics/697E/697E-hw6/index.html"></a></p>
</div>
<div class="body">
<a href="../../academics/697E/697E-hw6/index.html">
<h3 class="no-anchor listing-title">
Homework 6: Clustering and Blockmodels in the Florentine Wedding dataset
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('r'); return false;">
r
</div>
<div class="listing-category" onclick="window.quartoListingCategory('social networks'); return false;">
social networks
</div>
</div>
<a href="../../academics/697E/697E-hw6/index.html">
<div class="listing-description">
<p>Yet more ways to look at the Florence data.</p>
</div>
</a>
</div>
<div class="metadata">
<a href="../../academics/697E/697E-hw6/index.html">
<div class="listing-date">
Mar 26, 2022
</div>
<div class="listing-reading-time">
6 min
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="2" data-categories="r,social networks" data-listing-date-sort="1644987600000" data-listing-file-modified-sort="1666274244504" data-listing-reading-time-sort="6.05">
<div class="thumbnail">
<a href="../../academics/697E/697E-hw5/index.html">
<div class="thumbnail-image">

</div>
</a><p><a href="../../academics/697E/697E-hw5/index.html"></a></p>
</div>
<div class="body">
<a href="../../academics/697E/697E-hw5/index.html">
<h3 class="no-anchor listing-title">
Homework 5: Constraint and Brokerage in the Florentine Wedding dataset
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('r'); return false;">
r
</div>
<div class="listing-category" onclick="window.quartoListingCategory('social networks'); return false;">
social networks
</div>
</div>
<a href="../../academics/697E/697E-hw5/index.html">
<div class="listing-description">
<p>Examining additional centrality measures in the Florentine network</p>
</div>
</a>
</div>
<div class="metadata">
<a href="../../academics/697E/697E-hw5/index.html">
<div class="listing-date">
Feb 16, 2022
</div>
<div class="listing-reading-time">
6 min
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="3" data-categories="r,social networks" data-listing-date-sort="1644469200000" data-listing-file-modified-sort="1666289713969" data-listing-reading-time-sort="7.915">
<div class="thumbnail">
<a href="../../academics/697E/697E-hw4/index.html">
<div class="thumbnail-image">

</div>
</a><p><a href="../../academics/697E/697E-hw4/index.html"></a></p>
</div>
<div class="body">
<a href="../../academics/697E/697E-hw4/index.html">
<h3 class="no-anchor listing-title">
Homework 4: Centrality Analysis of the Florentine Wedding dataset
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('r'); return false;">
r
</div>
<div class="listing-category" onclick="window.quartoListingCategory('social networks'); return false;">
social networks
</div>
</div>
<a href="../../academics/697E/697E-hw4/index.html">
<div class="listing-description">
<p>Examining centrality measures in the Florentine network</p>
</div>
</a>
</div>
<div class="metadata">
<a href="../../academics/697E/697E-hw4/index.html">
<div class="listing-date">
Feb 10, 2022
</div>
<div class="listing-reading-time">
7 min
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="4" data-categories="r,social networks" data-listing-date-sort="1644382800000" data-listing-file-modified-sort="1666274609641" data-listing-reading-time-sort="3.685">
<div class="thumbnail">
<a href="../../academics/697E/697E-hw3/index.html">
<div class="thumbnail-image">

</div>
</a><p><a href="../../academics/697E/697E-hw3/index.html"></a></p>
</div>
<div class="body">
<a href="../../academics/697E/697E-hw3/index.html">
<h3 class="no-anchor listing-title">
Homework 3: The Florentine Wedding dataset
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('r'); return false;">
r
</div>
<div class="listing-category" onclick="window.quartoListingCategory('social networks'); return false;">
social networks
</div>
</div>
<a href="../../academics/697E/697E-hw3/index.html">
<div class="listing-description">
<p>A first-look network analysis</p>
</div>
</a>
</div>
<div class="metadata">
<a href="../../academics/697E/697E-hw3/index.html">
<div class="listing-date">
Feb 9, 2022
</div>
<div class="listing-reading-time">
3 min
</div>
</a>
</div>
</div>
<div class="quarto-post image-right" data-index="5" data-categories="networks,glossary" data-listing-date-sort="1643432400000" data-listing-file-modified-sort="1666227426948" data-listing-reading-time-sort="10.045">
<div class="thumbnail">
<p><a href="../../academics/697E/glossary/index.html"> <img src="https://slinberg.net/academics/697E/glossary/homer.png" class="thumnail-image"> </a></p>
</div>
<div class="body">
<a href="../../academics/697E/glossary/index.html">
<h3 class="no-anchor listing-title">
Glossary
</h3>
<div class="listing-subtitle">

</div>
</a>
<div class="listing-categories">
<div class="listing-category" onclick="window.quartoListingCategory('networks'); return false;">
networks
</div>
<div class="listing-category" onclick="window.quartoListingCategory('glossary'); return false;">
glossary
</div>
</div>
<a href="../../academics/697E/glossary/index.html">
<div class="listing-description">
<p>Glossary for 697E coursework</p>
</div>
</a>
</div>
<div class="metadata">
<a href="../../academics/697E/glossary/index.html">
<div class="listing-date">
Jan 29, 2022
</div>
<div class="listing-reading-time">
10 min
</div>
</a>
</div>
</div>
</div>
<div class="listing-no-matching d-none">
No matching items
</div>
</div> ]]></description>
  <guid>https://slinberg.net/academics/697E/index.html</guid>
  <pubDate>Thu, 03 Feb 2022 05:00:00 GMT</pubDate>
</item>
<item>
  <title>Glossary</title>
  <link>https://slinberg.net/academics/697E/glossary/index.html</link>
  <description><![CDATA[ 



<blockquote class="blockquote">
<p><strong>A social network</strong> is a set of actors (or points, or nodes, or agents) that may have relationships (or edges, or ties) with one another. Networks can have few or many actors, and one or more kinds of relations between pairs of actors.</p>
<p>– <cite><span class="citation" data-cites="hanneman">(Hanneman, Robert A. and Riddle, Mark 2005, chap. 2)</span></cite></p>
</blockquote>
<section id="week-1---introduction" class="level2">
<h2 class="anchored" data-anchor-id="week-1---introduction">Week 1 - Introduction</h2>
<section id="class-lecture-1a-nodes-edges-and-network-samples" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-1a-nodes-edges-and-network-samples">Class lecture 1a: <a href="https://www.loom.com/share/efc5252bb75b463481b93e55be6e4d67">Nodes, Edges and Network Samples</a></h3>
<p>(Note: some terms overlap somewhat or have context-dependent synonyms.)</p>
<dl>
<dt>node / vertex</dt>
<dd>
a junction in a network where two or more lines (edges) intersect; a dot connecting lines.
</dd>
<dt>tie / edge / link / relation</dt>
<dd>
lines connecting nodes, which indicate some sort of connection or relationship.
</dd>
<dt>node / ego / actor</dt>
<dd>
<img src="https://latex.codecogs.com/png.latex?i"> - the node being discussed or focused on; also note “Actors are described by their relations, not by their attributes.”<sup>1</sup>
</dd>
<dt>alter</dt>
<dd>
<img src="https://latex.codecogs.com/png.latex?j"> - the node that <img src="https://latex.codecogs.com/png.latex?i"> connects to
</dd>
<dt>network population</dt>
<dd>
<img src="https://latex.codecogs.com/png.latex?n"> - the size of the population or count of nodes
</dd>
</dl>
<p>With set notation, we define <img src="https://latex.codecogs.com/png.latex?i"> as a set of <img src="https://latex.codecogs.com/png.latex?n"> elements: <img src="https://latex.codecogs.com/png.latex?i%20%5Cin%201,%202,%203%20%5Cdots%20n"></p>
<p>and <img src="https://latex.codecogs.com/png.latex?j"> similarly as a set of <img src="https://latex.codecogs.com/png.latex?n"> elements, except that <img src="https://latex.codecogs.com/png.latex?j"> cannot equal <img src="https://latex.codecogs.com/png.latex?i"> (a node cannot connect to itself): <img src="https://latex.codecogs.com/png.latex?j%20%5Cin%201,%202,%203%20%5Cdots%20n,%20i%20%5Cne%20j"></p>
<dl>
<dt>interaction threshold</dt>
<dd>
a measure to determine whether two entities have a sufficient connection to be considered to have a link between them
</dd>
<dt>snowball sample</dt>
<dd>
an entity group formed by starting with “a focal actor or set of actors”<sup>2</sup> and “rolling outwards” to its connections until all nodes or actors (in a limited set) are located, or a decision to stop is made
</dd>
<dt>egocentric name generator</dt>
<dd>
a mode of building an entity group (an egocentric network) defined by connection to a single central node; like a snowball sample that doesn’t expand past the first set of connections
</dd>
</dl>
</section>
<section id="class-lecture-1b-ties-and-adjacency-matrices" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-1b-ties-and-adjacency-matrices">Class lecture 1b: <a href="https://www.loom.com/share/a64c3a975e7147b9bb06bf921325bd96">Ties and Adjacency Matrices</a></h3>
<dl>
<dt>adjacency matrix</dt>
<dd>
an <img src="https://latex.codecogs.com/png.latex?n%20%5Ctimes%20n"> matrix depicting connections between <img src="https://latex.codecogs.com/png.latex?n"> nodes as 0 or 1, where 1 is a connection (or vertex/edge) and 0 is the absence of one:
</dd>
</dl>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>-</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td>B</td>
<td>0</td>
<td>-</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td>C</td>
<td>1</td>
<td>1</td>
<td>-</td>
<td>0</td>
</tr>
<tr class="even">
<td>D</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>-</td>
</tr>
</tbody>
</table>
<dl>
<dt>directed tie</dt>
<dd>
a relationship where <img src="https://latex.codecogs.com/png.latex?W_%7Bi,j%7D%20%5Cne%20W_%7Bj,i%7D">, as might be used to represent a transfer of resources from one node to another; graphed with arrows
</dd>
<dt>symmetric tie</dt>
<dd>
a relationship where <img src="https://latex.codecogs.com/png.latex?W_%7Bi,j%7D%20=%20W_%7Bj,i%7D">, with no direction; graphed with lines
</dd>
<dt>binary tie</dt>
<dd>
a tie where <img src="https://latex.codecogs.com/png.latex?W_%7Bi,j%7D"> is 0 or 1, as in the example above, indicating the absence or presence of a tie (also <em>dichotomous</em>)
</dd>
<dt>valued tie</dt>
<dd>
a tie where <img src="https://latex.codecogs.com/png.latex?W_%7Bi,j%7D"> is a value <img src="https://latex.codecogs.com/png.latex?v">, indicating a weight or magnitude of the connection; may be graphed with line attributes such as weight, color, etc
</dd>
</dl>
<p>Ties are symmetric or directed, and binary or valued.</p>
</section>
<section id="class-lecture-1c-edgelists" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-1c-edgelists">Class lecture 1c: <a href="https://www.loom.com/share/9232d0ffe78d4ea4affc543bf4e353af">Edgelists</a></h3>
<dl>
<dt>edgelist</dt>
<dd>
a table indicating edges in a network, with at least “from” and “to” columns, and possibly additional columns for attributes or values
</dd>
</dl>
<table class="table">
<thead>
<tr class="header">
<th>From</th>
<th>To</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>B</td>
<td>5</td>
</tr>
<tr class="even">
<td>A</td>
<td>E</td>
<td>2</td>
</tr>
<tr class="odd">
<td>B</td>
<td>A</td>
<td>-1</td>
</tr>
<tr class="even">
<td>B</td>
<td>C</td>
<td>4</td>
</tr>
<tr class="odd">
<td>B</td>
<td>D</td>
<td>2</td>
</tr>
<tr class="even">
<td>C</td>
<td>A</td>
<td>-4</td>
</tr>
</tbody>
</table>
<p>Edgelists are more efficient in sparse networks, as they only list actual connections rather than being a matrix of all possible connections</p>
</section>
<section id="hanneman-chapter-1-social-network-data" class="level3">
<h3 class="anchored" data-anchor-id="hanneman-chapter-1-social-network-data"><span class="citation" data-cites="hanneman">Hanneman, Robert A. and Riddle, Mark (2005)</span>, chapter 1 (Social network data):</h3>
<dl>
<dt>binary measures of relations</dt>
<dd>
undirected relations, 0 or 1 for the absence or presence of a connection
</dd>
<dt>multiple-category nominal measures of relations</dt>
<dd>
directed relations with categories (like “friend, lover, business relationship, kin, or no relationship”)
</dd>
<dt>grouped ordinal measures of relations</dt>
<dd>
measures that reflect a level of intensity or degree; often turned into binary measures by means of a threshold or cut-off
</dd>
<dt>full-rank ordinal measures of relations</dt>
<dd>
an ordering from 1 to <img src="https://latex.codecogs.com/png.latex?n"> of an actor’s relations (uncommon in social networks)
</dd>
<dt>interval measures of relations</dt>
<dd>
continuous measures that express the strength of connections by comparison with others, to be able to say “this tie is twice as strong as that tie”; the “most advanced” level of measurement
</dd>
</dl>
</section>
<section id="lazer2011" class="level3">
<h3 class="anchored" data-anchor-id="lazer2011"><span class="citation" data-cites="lazer2011">Lazer (2011)</span></h3>
<dl>
<dt>homophily</dt>
<dd>
the idea that individuals who are similar to one another are more likely to form ties
</dd>
<dt>whole network data</dt>
<dd>
relational information about a whole set (or subset) of data, with all of the actors’ relations to each other considered
</dd>
<dt>egocentric data</dt>
<dd>
relational information about a set of nodes connected to one particular node and not to each other
</dd>
<dt>diameter</dt>
<dd>
the maximum degree of separation between any two nodes in the network
</dd>
<dt>one-mode data</dt>
<dd>
ties among one set (or category) of agent, such as nations in the context of trade
</dd>
<dt>two-mode data / bipartite data</dt>
<dd>
ties between different sets (or categories) of agents, such as ties between nations and international organizations; a network split into two parts, each of whose nodes only connect to nodes in the opposite part, not to nodes within its own part; “affiliation network” in <span class="citation" data-cites="wassermanSocialNetworkAnalysis1994">Wasserman and Faust (1994)</span>
</dd>
</dl>
</section>
<section id="borgatti2009" class="level3">
<h3 class="anchored" data-anchor-id="borgatti2009"><span class="citation" data-cites="borgatti2009">Borgatti et al. (2009)</span></h3>
<dl>
<dt>sociometry</dt>
<dd>
“a technique for eliciting and graphically representing individuals’ subjective feelings toward one another”
</dd>
<dt>strength of weak ties (SWT) theory</dt>
<dd>
the theory that one is likelier to hear new information from people they aren’t closely connected to in a network (c.f. homiphily)
</dd>
<dt>centrality</dt>
<dd>
a family of positional properties of nodes in a network
</dd>
<dt>Freeman’s betweenness</dt>
<dd>
a type of centrality where a node is frequently along the shortest path between pairs of nodes, giving control over flow or power
</dd>
<dt>opportunity-based antecedents</dt>
<dd>
“the likelihood that two nodes will come into contact” - when considering the formation of ties
</dd>
<dt>benefit-based antecedents</dt>
<dd>
“some kind of utility maximization or discomfort minimization that leads to tie formation”
</dd>
<dt>node homogeneity</dt>
<dd>
a category of node outcomes referring to the similarity of nodes
</dd>
<dt>performance</dt>
<dd>
a category of node outcomes referring to some good (such as strong performance)
</dd>
</dl>
</section>
</section>
<section id="week-2---network-structure" class="level2">
<h2 class="anchored" data-anchor-id="week-2---network-structure">Week 2 - Network Structure</h2>
<section id="class-lecture-2a-network-structure---walks-paths-and-distance" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-2a-network-structure---walks-paths-and-distance">Class lecture 2a: <a href="https://www.loom.com/share/a8a7949244f04ed5995d572340c20aa0">Network Structure - Walks, Paths, and Distance</a></h3>
<p>Connections between nodes:</p>
<dl>
<dt>adjacent</dt>
<dd>
a direct connection between nodes; not necessarily bilateral in directed networks. A leading to B (“A adj B”) does not mean that B leads to A (“B adj A)
</dd>
<dt>reachable</dt>
<dd>
whether a node is reachable from another node, regardless of distance
</dd>
<dt>distance</dt>
<dd>
the number of ties (steps, edges) that must be traversed to reach a target node
</dd>
<dt>walk</dt>
<dd>
sequence (not <em>path</em>, see below) that connects two nodes, consisting of the nodes and edges
</dd>
<dt>trail</dt>
<dd>
a walk that can only go through each edge / tie once, but can hit the same node more than once
</dd>
<dt>path</dt>
<dd>
a trail that only hits each node and edge once; the start and end node may be the same
</dd>
<dt>geodesic distance</dt>
<dd>
the shortest path between two nodes; by definition, not a trail or walk because repeated segments wouldn’t be the shortest; with binary data, the number of edges between the nodes; with weighted data, might be a sum or some other calculation of “effort”
</dd>
</dl>
</section>
<section id="class-lecture-2b-graph-substructures-and-components" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-2b-graph-substructures-and-components">Class lecture 2b: <a href="https://www.loom.com/share/515068ae6dc641be984c0ef974fb8e52">Graph Substructures and Components</a></h3>
<p>Network substructures</p>
<dl>
<dt>dyad, triad, clique</dt>
<dd>
two, three, or four-or-more connected nodes
</dd>
<dt>complete graph</dt>
<dd>
a network where every node is directly connected to every other node
</dd>
<dt>connected graph</dt>
<dd>
a network where every node is indirectly connected to every other node
</dd>
<dt>unconnected graph</dt>
<dd>
a network where at least one node is unreachable
</dd>
<dt>component</dt>
<dd>
the set of all points that constitutes a connected subgraph within a network
</dd>
<dt>main component</dt>
<dd>
the largest component within a network
</dd>
<dt>minor component</dt>
<dd>
a smaller one, possibly one of many
</dd>
<dt>pendant</dt>
<dd>
a node with only one link or edge to a network, “dangling”
</dd>
<dt>isolate</dt>
<dd>
an unconnected node
</dd>
</dl>
</section>
<section id="class-lecture-2c-dyad-and-triad-census" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-2c-dyad-and-triad-census">Class lecture 2c: <a href="https://www.loom.com/share/96aaf1d2982d427c83564c338d2e0b83">Dyad and Triad Census</a></h3>
<dl>
<dt>mutual dyad</dt>
<dd>
a dyad where both nodes connect to each other, as in an undirected network
</dd>
<dt>asymmetric dyad</dt>
<dd>
a dyad (in a directed network) where one node connects to another, but non-reciprocally (one way only)
</dd>
<dt>null</dt>
<dd>
a dyad of two unconnected nodes
</dd>
<dt>(empty / one edge / two path / triangle) triad</dt>
<dd>
a triad with zero, one, two or three edges between three nodes (all four possible permutations)
</dd>
<dt>balance theory</dt>
<dd>
the theory that two nodes connected to a common node will also develop connections to each other
</dd>
<dt>global transitivity index</dt>
<dd>
the proportion of triads in a network that are complete (with 3 connections between them)
</dd>
</dl>
<p>There is a vocabulary for triads in directed networks describing the 16 possible permutations of ties (or the absence thereof) among 3 nodes, counting the number of mutual, asymmetric and null dyads, with direction indicators, like <code>003</code> or <code>120D</code> - see the slide at 3:45</p>
<dl>
<dt>vacuously transitive triad</dt>
<dd>
a triad where (to be continued…) (5 of 16 possibilities)
</dd>
<dt>intransitive triad</dt>
<dd>
a triad where (to be continued…) (7 of 16 possibilities)
</dd>
<dt>transitive triad</dt>
<dd>
a triad where (to be continued…) (4 of 16 possibilities)
</dd>
</dl>
<p>(See <span class="citation" data-cites="alhazmiUnderstandingSocialEffects2015">Alhazmi, Gokhale, and Doran (2015)</span>)</p>
</section>
<section id="class-lecture-2d-transitivity-and-clustering-coefficient" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-2d-transitivity-and-clustering-coefficient">Class lecture 2d: <a href="https://www.loom.com/share/ff29331e900741dd8634d921e4abafdc">Transitivity and Clustering Coefficient</a></h3>
<dl>
<dt>local transitivity / local clustering coefficient</dt>
<dd>
the likelihood that the neighbors of a node are also connected to each other; the number of connections that <em>do</em> exist over the number of connections that <em>could</em> exist
</dd>
</dl>
<p><img src="https://slinberg.net/academics/697E/glossary/homer.png" class="img-fluid"></p>
<p>In the example above, there are 8 nodes that Homer (center) could connect to; among those 8 nodes, there are <img src="https://latex.codecogs.com/png.latex?7%20+%206%20+%205%20+%204%20+%203%20+%202%20+%201%20=%2028"> possible undirected connections (not connecting to Homer), and 9 of those 28 do exist, for a local clustering coefficient of <img src="https://latex.codecogs.com/png.latex?9/28%20%5Capprox%200.32">.</p>
<dl>
<dt>average clustering coefficient</dt>
<dd>
the average of the local clustering coefficient of all nodes in the network
</dd>
</dl>
</section>
</section>
<section id="week-3---network-degree" class="level2">
<h2 class="anchored" data-anchor-id="week-3---network-degree">Week 3 - Network Degree</h2>
<section id="class-lecture-3a-degree" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-3a-degree">Class lecture 3a: <a href="https://www.loom.com/share/49273add09ce4b26924b7f5ab2983810">Degree</a></h3>
<dl>
<dt>(vertex) degree</dt>
<dd>
the number of links that a node has; the number of nodes it’s connected to
</dd>
<dt>degree distribution</dt>
<dd>
a distribution showing the number of nodes of a network that have each degree level
</dd>
<dt>indegree</dt>
<dd>
the number of links that a node <em>receives</em> in a directed network
</dd>
<dt>outdegree</dt>
<dd>
the number of links that a node <em>sends</em> in a directed network
</dd>
</dl>
</section>
<section id="class-lecture-3b-centrality-vs.-centralization" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-3b-centrality-vs.-centralization">Class lecture 3b: <a href="https://www.loom.com/share/d2ed1cbb9bc84d27adfbb3febedfeac4">Centrality vs.&nbsp;Centralization</a></h3>
<dl>
<dt>centrality</dt>
<dd>
a measure of the prominence of one node relative to others; can be variously defined
</dd>
<dt>(degree) centrality</dt>
<dd>
proportional the the number of other nodes to which a node is linked
</dd>
<dt>centralization</dt>
<dd>
a property of a graph or network, referring to its overall cohesion; comparing most central point to all other points; ratio of the actual sum of differences to the maximum possible sum of differences
</dd>
</dl>
</section>
<section id="class-lecture-3c-network-density" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-3c-network-density">Class lecture 3c: <a href="https://www.loom.com/share/6e43e1fca3d44e1881f1a1d4895c26d3">Network Density</a></h3>
<dl>
<dt>network density</dt>
<dd>
number of ties as a proportion of the maximum possible number of ties; varies from 0 to 1, calculation will vary by whether network is undirected or directed (twice as many potential connections)
</dd>
</dl>
</section>
</section>
<section id="week-4---status-eigenvectors" class="level2">
<h2 class="anchored" data-anchor-id="week-4---status-eigenvectors">Week 4 - Status &amp; Eigenvectors</h2>
<section id="class-lecture-4a-status-and-hierarchy" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-4a-status-and-hierarchy">Class lecture 4a: <a href="https://www.loom.com/share/91c521e65705482cb7249140be3b0274">Status and Hierarchy</a></h3>
<dl>
<dt>closeness centrality</dt>
<dd>
the sum of geodesic distances (shortest paths) to all other points in the graph. Divide by <img src="https://latex.codecogs.com/png.latex?n-1">, then invert. A measure of how close a node is to all of the other nodes in the network.
</dd>
</dl>
</section>
<section id="class-lecture-4b-status-and-prestige" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-4b-status-and-prestige">Class lecture 4b: <a href="https://www.loom.com/share/e0484b4af1bb4d3b8242715c8cba30f8">Status and Prestige</a></h3>
<dl>
<dt>prestige</dt>
<dd>
signal of the quality of a node, of a node’s visibility within the network
</dd>
<dt>eigenvector centrality</dt>
<dd>
“takes into account the centrality of other nodes to which a node is connected. That is, being connected to other central nodes increases centrality.” Takes into account the centrality of the nodes a node is connected to, considering the importance of the connected nodes and not just their quantity or path length. A node with high eigenvector centrality is connected to significant numbers of other highly central nodes. <img src="https://latex.codecogs.com/png.latex?%5Clambda%20%5Ctext%7Bc%7D%20=%20%5Ctext%7BWc%7D">
</dd>
<dt>Bonacich Power</dt>
<dd>
“A closely related concept, but includes a weighting factor that emphasizes global vs.&nbsp;local structure (and negative connections)” In contrast to eigenvector centrality, penalizes nodes connected to other well-connected nodes, under the theory that being connected to strong or powerful nodes means a node has less influence and power than it would if it were connected to fewer or weaker nodes. <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bc%7D(%5Calpha,%20%5Cbeta)%20=%20%5Calpha(%5Ctext%7BI%7D%20-%20%5Cbeta%5Ctext%7BW%7D)%5E%7B-1%7D%5Ctext%7BW1%7D">
</dd>
</dl>
</section>
<section id="class-lecture-4c-hubs-and-bridges" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-4c-hubs-and-bridges">Class lecture 4c: <a href="https://www.loom.com/share/e85fa1918f70438e9bb67232ade95594">Hubs and Bridges</a></h3>
<dl>
<dt>bridge</dt>
<dd>
a node with few ties to central actors
</dd>
<dt>hub</dt>
<dd>
a node with many ties to peripheral actors
</dd>
<dt>reflected centrality</dt>
<dd>
the degree of centrality that a node receives from a connected node that is due to that node’s centrality. If A has influential friend B, then A’s eigenvector centrality will be higher; reflected centrality is the portion of A’s centrality that comes from B’s centrality.
</dd>
<dt>derived centrality</dt>
<dd>
the remainder of the eigenvector centrality that A receives from B in the example above, that is not due to B’s centrality but just from B being a connected node
</dd>
</dl>
<p>Reflected and derived centrality can be represented in the following matrix by Mizruchi et al:</p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th>High reflected centrality</th>
<th>Low reflected centrality</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>High derived centrality</td>
<td>Cosmopolitans</td>
<td>Pure bridges</td>
</tr>
<tr class="even">
<td>Low derived centrality</td>
<td>Pure hubs</td>
<td>Peripherals</td>
</tr>
</tbody>
</table>
<p>The four prototypes are:</p>
<dl>
<dt>cosmopolitans</dt>
<dd>
well-connected nodes that are connected to other well-connected nodes; the “cool kids” table
</dd>
<dt>pure hubs</dt>
<dd>
well-connected nodes that are connected to nodes that are not well-connected; the cool kid who talks to uncool kids
</dd>
<dt>pure bridge</dt>
<dd>
a node connected to few but high-centrality nodes; a friend of the cool kid with few other friends
</dd>
<dt>peripheral</dt>
<dd>
a node with few and low-centrality connections; me and my D&amp;D nerd friends in high school
</dd>
</dl>
</section>
<section id="class-lecture-4d-status-and-coreperiphery-networks" class="level3">
<h3 class="anchored" data-anchor-id="class-lecture-4d-status-and-coreperiphery-networks">Class lecture 4d: <a href="https://www.loom.com/share/2b5fdf986b164bb785a4c8c0fca0d1e9">Status and Core/Periphery Networks</a></h3>
<dl>
<dt>betweenness centrality</dt>
<dd>
a count of the number of shortest paths between nodes that pass through another node
</dd>
</dl>



</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-alhazmiUnderstandingSocialEffects2015" class="csl-entry">
Alhazmi, Huda, Swapna S. Gokhale, and Derek Doran. 2015. <span>“Understanding Social Effects in Online Networks.”</span> In <em>2015 <span>International Conference</span> on <span>Computing</span>, <span>Networking</span> and <span>Communications</span> (<span>ICNC</span>)</em>, 863–68. <span>Garden Grove, CA, USA</span>: <span>IEEE</span>. <a href="https://doi.org/10.1109/ICCNC.2015.7069459">https://doi.org/10.1109/ICCNC.2015.7069459</a>.
</div>
<div id="ref-borgatti2009" class="csl-entry">
Borgatti, Stephen P., Ajay Mehra, Daniel J. Brass, and Giuseppe Labianca. 2009. <span>“Network <span>Analysis</span> in the <span>Social Sciences</span>.”</span> <em>Science</em>, February. <a href="https://doi.org/10.1126/science.1165821">https://doi.org/10.1126/science.1165821</a>.
</div>
<div id="ref-hanneman" class="csl-entry">
Hanneman, Robert A., and Riddle, Mark. 2005. <span>“Introduction to <span>Social Network Methods</span>.”</span> <em>Introduction to Social Network Methods</em>. http://faculty.ucr.edu/~hanneman/nettext/.
</div>
<div id="ref-lazer2011" class="csl-entry">
Lazer, David. 2011. <span>“Networks in <span>Political Science</span>: <span>Back</span> to the <span>Future</span>.”</span> <em>PS: Political Science &amp; Politics</em> 44 (1): 61–68. <a href="https://doi.org/10.1017/S1049096510001873">https://doi.org/10.1017/S1049096510001873</a>.
</div>
<div id="ref-wassermanSocialNetworkAnalysis1994" class="csl-entry">
Wasserman, Stanley, and Katherine Faust. 1994. <em>Social <span>Network Analysis</span>: <span>Methods</span> and <span>Applications</span></em>. Structural <span>Analysis</span> in the <span>Social Sciences</span>. <span>Cambridge</span>: <span>Cambridge University Press</span>. <a href="https://doi.org/10.1017/CBO9780511815478">https://doi.org/10.1017/CBO9780511815478</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><span class="citation" data-cites="hanneman">Hanneman, Robert A. and Riddle, Mark (2005)</span>↩︎</p></li>
<li id="fn2"><p><span class="citation" data-cites="hanneman">Hanneman, Robert A. and Riddle, Mark (2005)</span>↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>networks</category>
  <category>glossary</category>
  <guid>https://slinberg.net/academics/697E/glossary/index.html</guid>
  <pubDate>Sat, 29 Jan 2022 05:00:00 GMT</pubDate>
  <media:content url="https://slinberg.net/academics/697E/glossary/homer.png" medium="image" type="image/png" height="147" width="144"/>
</item>
</channel>
</rss>
